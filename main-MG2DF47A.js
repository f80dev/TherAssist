var IB=Object.defineProperty,CB=Object.defineProperties;var DB=Object.getOwnPropertyDescriptors;var Gh=Object.getOwnPropertySymbols;var Ix=Object.prototype.hasOwnProperty,Cx=Object.prototype.propertyIsEnumerable;var Ex=(n,e,t)=>e in n?IB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})Ix.call(e,t)&&Ex(n,t,e[t]);if(Gh)for(var t of Gh(e))Cx.call(e,t)&&Ex(n,t,e[t]);return n},de=(n,e)=>CB(n,DB(e));var ey=(n,e)=>{var t={};for(var i in n)Ix.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Gh)for(var i of Gh(n))e.indexOf(i)<0&&Cx.call(n,i)&&(t[i]=n[i]);return t};var fn=null,Wh=!1,ry=1,TB=null,qt=Symbol("SIGNAL");function ve(n){let e=fn;return fn=n,e}function Qh(){return fn}var $a={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ha(n){if(Wh)throw new Error("");if(fn===null)return;fn.consumerOnSignalRead(n);let e=fn.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=fn.recomputing;if(i&&(t=e!==void 0?e.nextProducer:fn.producers,t!==void 0&&t.producer===n)){fn.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===fn&&(!i||xB(r,fn)))return;let o=Wa(fn),s={producer:n,consumer:fn,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};fn.producersTail=s,e!==void 0?e.nextProducer=s:fn.producers=s,o&&xx(n,s)}function Dx(){ry++}function oy(n){if(!(Wa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ry)){if(!n.producerMustRecompute(n)&&!Ga(n)){iy(n);return}n.producerRecomputeValue(n),iy(n)}}function sy(n){if(n.consumers===void 0)return;let e=Wh;Wh=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||SB(i)}}finally{Wh=e}}function ay(){return fn?.consumerAllowSignalWrites!==!1}function SB(n){n.dirty=!0,sy(n),n.consumerMarkedDirty?.(n)}function iy(n){n.dirty=!1,n.lastCleanEpoch=ry}function bs(n){return n&&Tx(n),ve(n)}function Tx(n){n.producersTail=void 0,n.recomputing=!0}function qa(n,e){ve(e),n&&Sx(n)}function Sx(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Wa(n))do t=cy(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ga(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(oy(t),i!==t.version))return!0}return!1}function bo(n){if(Wa(n)){let e=n.producers;for(;e!==void 0;)e=cy(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function xx(n,e){let t=n.consumersTail,i=Wa(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)xx(r.producer,r)}function cy(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!Wa(e)){let o=e.producers;for(;o!==void 0;)o=cy(o)}return t}function Wa(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ly(n){TB?.(n)}function xB(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function dy(n,e){return Object.is(n,e)}function Ql(n,e){let t=Object.create(AB);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(oy(t),Ha(t),t.value===Kh)throw t.error;return t.value};return i[qt]=t,ly(t),i}var ty=Symbol("UNSET"),ny=Symbol("COMPUTING"),Kh=Symbol("ERRORED"),AB=de(N({},$a),{value:ty,dirty:!0,error:null,equal:dy,kind:"computed",producerMustRecompute(n){return n.value===ty||n.value===ny},producerRecomputeValue(n){if(n.value===ny)throw new Error("");let e=n.value;n.value=ny;let t=bs(n),i,r=!1;try{i=n.computation(),ve(null),r=e!==ty&&e!==Kh&&i!==Kh&&n.equal(e,i)}catch(o){i=Kh,n.error=o}finally{qa(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function kB(){throw new Error}var Ax=kB;function kx(n){Ax(n)}function uy(n){Ax=n}var RB=null;function hy(n,e){let t=Object.create(Xl);t.value=n,e!==void 0&&(t.equal=e);let i=()=>Rx(t);return i[qt]=t,ly(t),[i,s=>Yl(t,s),s=>Mx(t,s)]}function Rx(n){return Ha(n),n.value}function Yl(n,e){ay()||kx(n),n.equal(n.value,e)||(n.value=e,MB(n))}function Mx(n,e){ay()||kx(n),Yl(n,e(n.value))}var Xl=de(N({},$a),{equal:dy,value:void 0,kind:"signal"});function MB(n){n.version++,Dx(),sy(n),RB?.(n)}function fy(n){let e=ve(null);try{return n()}finally{ve(e)}}var my=de(N({},$a),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function py(n){if(n.dirty=!1,n.version>0&&!Ga(n))return;n.version++;let e=bs(n);try{n.cleanup(),n.fn()}finally{qa(n,e)}}function Te(n){return typeof n=="function"}function Ka(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yh=Ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ws(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Te(i))try{i()}catch(o){e=o instanceof Yh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Nx(o)}catch(s){e=e??[],s instanceof Yh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Nx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ws(t,e)}remove(e){let{_finalizers:t}=this;t&&ws(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var gy=Fe.EMPTY;function Xh(n){return n instanceof Fe||n&&"closed"in n&&Te(n.remove)&&Te(n.add)&&Te(n.unsubscribe)}function Nx(n){Te(n)?n():n.unsubscribe()}var wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qa={setTimeout(n,e,...t){let{delegate:i}=Qa;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Qa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zh(n){Qa.setTimeout(()=>{let{onUnhandledError:e}=wi;if(e)e(n);else throw n})}function Zl(){}var Px=_y("C",void 0,void 0);function Ox(n){return _y("E",void 0,n)}function Fx(n){return _y("N",n,void 0)}function _y(n,e,t){return{kind:n,value:e,error:t}}var Es=null;function Ya(n){if(wi.useDeprecatedSynchronousErrorHandling){let e=!Es;if(e&&(Es={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Es;if(Es=null,t)throw i}}else n()}function Lx(n){wi.useDeprecatedSynchronousErrorHandling&&Es&&(Es.errorThrown=!0,Es.error=n)}var Is=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xh(e)&&e.add(this)):this.destination=OB}static create(e,t,i){return new Sr(e,t,i)}next(e){this.isStopped?yy(Fx(e),this):this._next(e)}error(e){this.isStopped?yy(Ox(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yy(Px,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NB=Function.prototype.bind;function vy(n,e){return NB.call(n,e)}var by=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Jh(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Jh(i)}else Jh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jh(t)}}},Sr=class extends Is{constructor(e,t,i){super();let r;if(Te(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&wi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&vy(e.next,o),error:e.error&&vy(e.error,o),complete:e.complete&&vy(e.complete,o)}):r=e}this.destination=new by(r)}};function Jh(n){wi.useDeprecatedSynchronousErrorHandling?Lx(n):Zh(n)}function PB(n){throw n}function yy(n,e){let{onStoppedNotification:t}=wi;t&&Qa.setTimeout(()=>t(n,e))}var OB={closed:!0,next:Zl,error:PB,complete:Zl};var Xa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Hn(n){return n}function wy(...n){return Ey(n)}function Ey(n){return n.length===0?Hn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=LB(t)?t:new Sr(t,i,r);return Ya(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Vx(i),new i((r,o)=>{let s=new Sr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Xa](){return this}pipe(...t){return Ey(t)(this)}toPromise(t){return t=Vx(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Vx(n){var e;return(e=n??wi.Promise)!==null&&e!==void 0?e:Promise}function FB(n){return n&&Te(n.next)&&Te(n.error)&&Te(n.complete)}function LB(n){return n&&n instanceof Is||FB(n)&&Xh(n)}function Iy(n){return Te(n?.lift)}function _e(n){return e=>{if(Iy(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,i,r){return new Cy(n,e,t,i,r)}var Cy=class extends Is{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jx(){return _e((n,e)=>{let t=null;n._refCount++;let i=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Jl=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Iy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return jx()(this)}};var Bx=Ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new ef(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Bx}next(t){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?gy:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,ws(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new ef(e,t),n})(),ef=class extends K{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:gy}};var it=class extends K{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var ed={now(){return(ed.delegate||Date).now()},delegate:void 0};var td=class extends K{constructor(e=1/0,t=1/0,i=ed){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var tf=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var nd={setInterval(n,e,...t){let{delegate:i}=nd;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=nd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Za=class extends tf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return nd.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&nd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ws(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ja=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Ja.now=ed.now;var ec=class extends Ja{constructor(e,t=Ja.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var wo=new ec(Za),Dy=wo;var nf=class extends Za{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var rf=class extends ec{};var Ty=new rf(nf);var Gt=new oe(n=>n.complete());function of(n){return n&&Te(n.schedule)}function Sy(n){return n[n.length-1]}function sf(n){return Te(Sy(n))?n.pop():void 0}function Hi(n){return of(Sy(n))?n.pop():void 0}function Ux(n,e){return typeof Sy(n)=="number"?n.pop():e}function af(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function $x(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{d(i.next(u))}catch(f){s(f)}}function c(u){try{d(i.throw(u))}catch(f){s(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,c)}d((i=i.apply(n,e||[])).next())})}function zx(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function Hx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(b){return Promise.resolve(b).then(g,f)}}function a(g,b){i[g]&&(r[g]=function(D){return new Promise(function(T,R){o.push([g,D,T,R])>1||c(g,D)})},b&&(r[g]=b(r[g])))}function c(g,b){try{d(i[g](b))}catch(D){p(o[0][3],D)}}function d(g){g.value instanceof Cs?Promise.resolve(g.value.v).then(u,f):p(o[0][2],g)}function u(g){c("next",g)}function f(g){c("throw",g)}function p(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function qx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zx=="function"?zx(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}var cf=n=>n&&typeof n.length=="number"&&typeof n!="function";function lf(n){return Te(n?.then)}function df(n){return Te(n[Xa])}function uf(n){return Symbol.asyncIterator&&Te(n?.[Symbol.asyncIterator])}function hf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ff=VB();function mf(n){return Te(n?.[ff])}function pf(n){return Hx(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Cs(t.read());if(r)return yield Cs(void 0);yield yield Cs(i)}}finally{t.releaseLock()}})}function gf(n){return Te(n?.getReader)}function rt(n){if(n instanceof oe)return n;if(n!=null){if(df(n))return jB(n);if(cf(n))return BB(n);if(lf(n))return UB(n);if(uf(n))return Gx(n);if(mf(n))return zB(n);if(gf(n))return $B(n)}throw hf(n)}function jB(n){return new oe(e=>{let t=n[Xa]();if(Te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BB(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function UB(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zh)})}function zB(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Gx(n){return new oe(e=>{HB(n,e).catch(t=>e.error(t))})}function $B(n){return Gx(pf(n))}function HB(n,e){var t,i,r,o;return $x(this,void 0,void 0,function*(){try{for(t=qx(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function kn(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Eo(n,e=0){return _e((t,i)=>{t.subscribe(he(i,r=>kn(i,n,()=>i.next(r),e),()=>kn(i,n,()=>i.complete(),e),r=>kn(i,n,()=>i.error(r),e)))})}function Io(n,e=0){return _e((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Wx(n,e){return rt(n).pipe(Io(e),Eo(e))}function Kx(n,e){return rt(n).pipe(Io(e),Eo(e))}function Qx(n,e){return new oe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Yx(n,e){return new oe(t=>{let i;return kn(t,e,()=>{i=n[ff](),kn(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Te(i?.return)&&i.return()})}function _f(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{kn(t,e,()=>{let i=n[Symbol.asyncIterator]();kn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Xx(n,e){return _f(pf(n),e)}function Zx(n,e){if(n!=null){if(df(n))return Wx(n,e);if(cf(n))return Qx(n,e);if(lf(n))return Kx(n,e);if(uf(n))return _f(n,e);if(mf(n))return Yx(n,e);if(gf(n))return Xx(n,e)}throw hf(n)}function bt(n,e){return e?Zx(n,e):rt(n)}function z(...n){let e=Hi(n);return bt(n,e)}function id(n,e){let t=Te(n)?n:()=>n,i=r=>r.error(t());return new oe(e?r=>e.schedule(i,0,r):i)}function oi(n){return!!n&&(n instanceof oe||Te(n.lift)&&Te(n.subscribe))}var Ds=Ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Jx(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return _e((t,i)=>{let r=0;t.subscribe(he(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:qB}=Array;function GB(n,e){return qB(e)?n(...e):n(e)}function vf(n){return ee(e=>GB(n,e))}var{isArray:WB}=Array,{getPrototypeOf:KB,prototype:QB,keys:YB}=Object;function yf(n){if(n.length===1){let e=n[0];if(WB(e))return{args:e,keys:null};if(XB(e)){let t=YB(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function XB(n){return n&&typeof n=="object"&&KB(n)===QB}function bf(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Co(...n){let e=Hi(n),t=sf(n),{args:i,keys:r}=yf(n);if(i.length===0)return bt([],e);let o=new oe(ZB(i,e,r?s=>bf(r,s):Hn));return t?o.pipe(vf(t)):o}function ZB(n,e,t=Hn){return i=>{eA(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)eA(e,()=>{let d=bt(n[c],e),u=!1;d.subscribe(he(i,f=>{o[c]=f,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function eA(n,e,t){n?kn(t,n,e):e()}function tA(n,e,t,i,r,o,s,a){let c=[],d=0,u=0,f=!1,p=()=>{f&&!c.length&&!d&&e.complete()},g=D=>d<i?b(D):c.push(D),b=D=>{o&&e.next(D),d++;let T=!1;rt(t(D,u++)).subscribe(he(e,R=>{r?.(R),o?g(R):e.next(R)},()=>{T=!0},void 0,()=>{if(T)try{for(d--;c.length&&d<i;){let R=c.shift();s?kn(e,s,()=>b(R)):b(R)}p()}catch(R){e.error(R)}}))};return n.subscribe(he(e,g,()=>{f=!0,p()})),()=>{a?.()}}function En(n,e,t=1/0){return Te(e)?En((i,r)=>ee((o,s)=>e(i,o,r,s))(rt(n(i,r))),t):(typeof e=="number"&&(t=e),_e((i,r)=>tA(i,r,n,t)))}function wf(n=1/0){return En(Hn,n)}function nA(){return wf(1)}function xr(...n){return nA()(bt(n,Hi(n)))}function Ts(n){return new oe(e=>{rt(n()).subscribe(e)})}function rd(...n){let e=sf(n),{args:t,keys:i}=yf(n),r=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,d=s;for(let u=0;u<s;u++){let f=!1;rt(t[u]).subscribe(he(o,p=>{f||(f=!0,d--),a[u]=p},()=>c--,void 0,()=>{(!c||!f)&&(d||o.next(i?bf(i,a):a),o.complete())}))}});return e?r.pipe(vf(e)):r}function iA(n=0,e,t=Dy){let i=-1;return e!=null&&(of(e)?t=e:i=e),new oe(r=>{let o=Jx(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ar(...n){let e=Hi(n),t=Ux(n,1/0),i=n;return i.length?i.length===1?rt(i[0]):wf(t)(bt(i,e)):Gt}function Ze(n,e){return _e((t,i)=>{let r=0;t.subscribe(he(i,o=>n.call(e,o,r++)&&i.next(o)))})}function rA(n){return _e((e,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let d=r;r=null,t.next(d)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(he(t,d=>{i=!0,r=d,o||rt(n(d)).subscribe(o=he(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function Ef(n,e=wo){return rA(()=>iA(n,e))}function Ss(n){return _e((e,t)=>{let i=null,r=!1,o;i=e.subscribe(he(t,void 0,void 0,s=>{o=rt(n(s,Ss(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function oA(n,e,t,i,r){return(o,s)=>{let a=t,c=e,d=0;o.subscribe(he(s,u=>{let f=d++;c=a?n(c,u,f):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function If(n,e){return _e(oA(n,e,arguments.length>=2,!1,!0))}function kr(n,e){return Te(e)?En(n,e,1):En(n,1)}function xy(n,e=wo){return _e((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function c(){let d=s+n,u=e.now();if(u<d){r=this.schedule(void 0,d-u),i.add(r);return}a()}t.subscribe(he(i,d=>{o=d,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Ay(n){return _e((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function st(n){return n<=0?()=>Gt:_e((e,t)=>{let i=0;e.subscribe(he(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function tc(n,e=Hn){return n=n??JB,_e((t,i)=>{let r,o=!0;t.subscribe(he(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function JB(n,e){return n===e}function sA(n=eU){return _e((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function eU(){return new Ds}function Do(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Rr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ze((r,o)=>n(r,o,i)):Hn,st(1),t?Ay(e):sA(()=>new Ds))}function Cf(n){return n<=0?()=>Gt:_e((e,t)=>{let i=[];e.subscribe(he(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Df(){return _e((n,e)=>{let t,i=!1;n.subscribe(he(e,r=>{let o=t;t=r,i&&e.next([o,r]),i=!0}))})}function od(n={}){let{connector:e=()=>new K,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,d=0,u=!1,f=!1,p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=c=void 0,u=f=!1},b=()=>{let D=s;g(),D?.unsubscribe()};return _e((D,T)=>{d++,!f&&!u&&p();let R=c=c??e();T.add(()=>{d--,d===0&&!f&&!u&&(a=ky(b,r))}),R.subscribe(T),!s&&d>0&&(s=new Sr({next:V=>R.next(V),error:V=>{f=!0,p(),a=ky(g,t,V),R.error(V)},complete:()=>{u=!0,p(),a=ky(g,i),R.complete()}}),rt(D).subscribe(s))})(o)}}function ky(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new Sr({next:()=>{i.unsubscribe(),n()}});return rt(e(...t)).subscribe(i)}function Tf(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,od({connector:()=>new td(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ry(n){return Ze((e,t)=>n<=t)}function si(...n){let e=Hi(n);return _e((t,i)=>{(e?xr(n,t,e):xr(n,t)).subscribe(i)})}function Mt(n,e){return _e((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(he(i,c=>{r?.unsubscribe();let d=0,u=o++;rt(n(c,u)).subscribe(r=he(i,f=>i.next(e?e(c,f,u,d++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ot(n){return _e((e,t)=>{rt(n).subscribe(he(t,()=>t.complete(),Zl)),!t.closed&&e.subscribe(t)})}function My(n,e=!1){return _e((t,i)=>{let r=0;t.subscribe(he(i,o=>{let s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function at(n,e,t){let i=Te(n)||e||t?{next:n,error:e,complete:t}:n;return i?_e((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(he(o,c=>{var d;(d=i.next)===null||d===void 0||d.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,c),o.error(c)},()=>{var c,d;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):Hn}var Ny;function Sf(){return Ny}function qi(n){let e=Ny;return Ny=n,e}var aA=Symbol("NotFound");function nc(n){return n===aA||n?.name==="\u0275NotFound"}var To=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Wy=new To("21.0.6");var Pf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(e,t){super(Ao(e,t)),this.code=e}};function tU(n){return`NG0${Math.abs(n)}`}function Ao(n,e){return`${tU(n)}${e?": "+e:""}`}var ko=globalThis;function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("")}function hA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Of(n,e){return n?e?`${n} ${e}`:n:e||""}var nU=Ke({__forward_ref__:Ke});function ai(n){return n.__forward_ref__=ai,n.toString=function(){return Nr(this())},n}function tn(n){return Ky(n)?n():n}function Ky(n){return typeof n=="function"&&n.hasOwnProperty(nU)&&n.__forward_ref__===ai}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function re(n){return{providers:n.providers||[],imports:n.imports||[]}}function hd(n){return iU(n,Ff)}function Qy(n){return hd(n)!==null}function iU(n,e){return n.hasOwnProperty(e)&&n[e]||null}function rU(n){let e=n?.[Ff]??null;return e||null}function Oy(n){return n&&n.hasOwnProperty(Af)?n[Af]:null}var Ff=Ke({\u0275prov:Ke}),Af=Ke({\u0275inj:Ke}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yy(n){return n&&!!n.\u0275providers}var Xy=Ke({\u0275cmp:Ke}),Zy=Ke({\u0275dir:Ke}),Jy=Ke({\u0275pipe:Ke}),eb=Ke({\u0275mod:Ke}),ad=Ke({\u0275fac:Ke}),Ns=Ke({__NG_ELEMENT_ID__:Ke}),cA=Ke({__NG_ENV_ID__:Ke});function tb(n){return Lf(n,"@NgModule"),n[eb]||null}function Pr(n){return Lf(n,"@Component"),n[Xy]||null}function nb(n){return Lf(n,"@Directive"),n[Zy]||null}function fA(n){return Lf(n,"@Pipe"),n[Jy]||null}function Lf(n,e){if(n==null)throw new O(-919,!1)}function Ps(n){return typeof n=="string"?n:n==null?"":String(n)}function mA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ps(n)}var pA=Ke({ngErrorCode:Ke}),oU=Ke({ngErrorMessage:Ke}),sU=Ke({ngTokenPath:Ke});function ib(n,e){return gA("",-200,e)}function Vf(n,e){throw new O(-201,!1)}function gA(n,e,t){let i=new O(e,n);return i[pA]=e,i[oU]=n,t&&(i[sU]=t),i}function aU(n){return n[pA]}var Fy;function _A(){return Fy}function qn(n){let e=Fy;return Fy=n,e}function rb(n,e,t){let i=hd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Vf(n,"")}var cU={},xs=cU,Ly="__NG_DI_FLAG__",Vy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=As(t)||0;try{return this.injector.get(e,i&8?null:xs,i)}catch(r){if(nc(r))return r;throw r}}};function lU(n,e=0){let t=Sf();if(t===void 0)throw new O(-203,!1);if(t===null)return rb(n,void 0,e);{let i=dU(e),r=t.retrieve(n,i);if(nc(r)){if(i.optional)return null;throw r}return r}}function X(n,e=0){return(_A()||lU)(tn(n),e)}function v(n,e){return X(n,As(e))}function As(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dU(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function jy(n){let e=[];for(let t=0;t<n.length;t++){let i=tn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],c=uU(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(X(r,o))}else e.push(X(i))}return e}function vA(n,e){return n[Ly]=e,n.prototype[Ly]=e,n}function uU(n){return n[Ly]}function ks(n,e){let t=n.hasOwnProperty(ad);return t?n[ad]:null}function yA(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function bA(n){return n.flat(Number.POSITIVE_INFINITY)}function jf(n,e){n.forEach(t=>Array.isArray(t)?jf(t,e):e(t))}function ob(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wA(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function EA(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Bf(n,e,t){let i=rc(n,e);return i>=0?n[i|1]=t:(i=~i,EA(n,i,e,t)),i}function Uf(n,e){let t=rc(n,e);if(t>=0)return n[t|1]}function rc(n,e){return hU(n,e,1)}function hU(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Ro={},mn=[],Os=new M(""),sb=new M("",-1),ab=new M(""),cd=class{get(e,t=xs){if(t===xs){let r=gA("",-201);throw r.name="\u0275NotFound",r}return t}};function Mn(n){return{\u0275providers:n}}function IA(...n){return{\u0275providers:cb(!0,n),\u0275fromNgModule:!0}}function cb(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return jf(e,s=>{let a=s;kf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&CA(r,o),t}function CA(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];lb(r,o=>{e(o,i)})}}function kf(n,e,t,i){if(n=tn(n),!n)return!1;let r=null,o=Oy(n),s=!o&&Pr(n);if(!o&&!s){let c=n.ngModule;if(o=Oy(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)kf(d,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{jf(o.imports,u=>{kf(u,e,t,i)&&(d||=[],d.push(u))})}finally{}d!==void 0&&CA(d,e)}if(!a){let d=ks(r)||(()=>new r);e({provide:r,useFactory:d,deps:mn},r),e({provide:ab,useValue:r,multi:!0},r),e({provide:Os,useValue:()=>X(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let d=n;lb(c,u=>{e(u,d)})}}else return!1;return r!==n&&n.providers!==void 0}function lb(n,e){for(let t of n)Yy(t)&&(t=t.\u0275providers),Array.isArray(t)?lb(t,e):e(t)}var fU=Ke({provide:String,useValue:Ke});function DA(n){return n!==null&&typeof n=="object"&&fU in n}function mU(n){return!!(n&&n.useExisting)}function pU(n){return!!(n&&n.useFactory)}function Rs(n){return typeof n=="function"}function TA(n){return!!n.useClass}var md=new M(""),xf={},lA={},Py;function oc(){return Py===void 0&&(Py=new cd),Py}var Je=class{},Ms=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Uy(e,s=>this.processProvider(s)),this.records.set(sb,ic(void 0,this)),r.has("environment")&&this.records.set(Je,ic(void 0,this));let o=this.records.get(md);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ab,mn,{self:!0}))}retrieve(e,t){let i=As(t)||0;try{return this.get(e,xs,i)}catch(r){if(nc(r))return r;throw r}}destroy(){sd(this),this._destroyed=!0;let e=ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return sd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){sd(this);let t=qi(this),i=qn(void 0),r;try{return e()}finally{qi(t),qn(i)}}get(e,t=xs,i){if(sd(this),e.hasOwnProperty(cA))return e[cA](this);let r=As(i),o,s=qi(this),a=qn(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let u=bU(e)&&hd(e);u&&this.injectableDefInScope(u)?d=ic(By(e),xf):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?oc():this.parent;return t=r&8&&t===xs?null:t,c.get(e,t)}catch(c){let d=aU(c);throw d===-200||d===-201?new O(d,null):c}finally{qn(a),qi(s)}}resolveInjectorInitializers(){let e=ve(null),t=qi(this),i=qn(void 0),r;try{let o=this.get(Os,mn,{self:!0});for(let s of o)s()}finally{qi(t),qn(i),ve(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Nr(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=tn(e);let t=Rs(e)?e:tn(e&&e.provide),i=_U(e);if(!Rs(e)&&e.multi===!0){let r=this.records.get(t);r||(r=ic(void 0,xf,!0),r.factory=()=>jy(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=ve(null);try{if(t.value===lA)throw ib(Nr(e));return t.value===xf&&(t.value=lA,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&yU(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=tn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function By(n){let e=hd(n),t=e!==null?e.factory:ks(n);if(t!==null)return t;if(n instanceof M)throw new O(204,!1);if(n instanceof Function)return gU(n);throw new O(204,!1)}function gU(n){if(n.length>0)throw new O(204,!1);let t=rU(n);return t!==null?()=>t.factory(n):()=>new n}function _U(n){if(DA(n))return ic(void 0,n.useValue);{let e=db(n);return ic(e,xf)}}function db(n,e,t){let i;if(Rs(n)){let r=tn(n);return ks(r)||By(r)}else if(DA(n))i=()=>tn(n.useValue);else if(pU(n))i=()=>n.useFactory(...jy(n.deps||[]));else if(mU(n))i=(r,o)=>X(tn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=tn(n&&(n.useClass||n.provide));if(vU(n))i=()=>new r(...jy(n.deps));else return ks(r)||By(r)}return i}function sd(n){if(n.destroyed)throw new O(205,!1)}function ic(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function vU(n){return!!n.deps}function yU(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function bU(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Uy(n,e){for(let t of n)Array.isArray(t)?Uy(t,e):t&&Yy(t)?Uy(t.\u0275providers,e):e(t)}function ht(n,e){let t;n instanceof Ms?(sd(n),t=n):t=new Vy(n);let i,r=qi(t),o=qn(void 0);try{return e()}finally{qi(r),qn(o)}}function SA(){return _A()!==void 0||Sf()!=null}var Ei=0,se=1,fe=2,Wt=3,ci=4,In=5,sc=6,ac=7,nn=8,Mo=9,Wi=10,ct=11,cc=12,ub=13,Fs=14,Nn=15,No=16,Ls=17,Ki=18,pd=19,hb=20,Mr=21,zf=22,So=23,Gn=24,Vs=25,gd=26,Nt=27,xA=1;var Po=7,_d=8,js=9,pn=10;function Qi(n){return Array.isArray(n)&&typeof n[xA]=="object"}function Ii(n){return Array.isArray(n)&&n[xA]===!0}function fb(n){return(n.flags&4)!==0}function Oo(n){return n.componentOffset>-1}function lc(n){return(n.flags&1)===1}function Yi(n){return!!n.template}function dc(n){return(n[fe]&512)!==0}function Bs(n){return(n[fe]&256)===256}var mb="svg",AA="math";function li(n){for(;Array.isArray(n);)n=n[Ei];return n}function pb(n,e){return li(e[n])}function Ci(n,e){return li(e[n.index])}function vd(n,e){return n.data[e]}function kA(n,e){return n[e]}function di(n,e){let t=e[n];return Qi(t)?t:t[Ei]}function RA(n){return(n[fe]&4)===4}function $f(n){return(n[fe]&128)===128}function MA(n){return Ii(n[Wt])}function Xi(n,e){return e==null?null:n[e]}function gb(n){n[Ls]=0}function _b(n){n[fe]&1024||(n[fe]|=1024,$f(n)&&Us(n))}function NA(n,e){for(;n>0;)e=e[Fs],n--;return e}function yd(n){return!!(n[fe]&9216||n[Gn]?.dirty)}function Hf(n){n[Wi].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),yd(n)&&Us(n)}function Us(n){n[Wi].changeDetectionScheduler?.notify(0);let e=xo(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!$f(e)));)e=xo(e)}function vb(n,e){if(Bs(n))throw new O(911,!1);n[Mr]===null&&(n[Mr]=[]),n[Mr].push(e)}function PA(n,e){if(n[Mr]===null)return;let t=n[Mr].indexOf(e);t!==-1&&n[Mr].splice(t,1)}function xo(n){let e=n[Wt];return Ii(e)?e[Wt]:e}function yb(n){return n[ac]??=[]}function bb(n){return n.cleanup??=[]}function OA(n,e,t,i){let r=yb(e);r.push(t),n.firstCreatePass&&bb(n).push(i,r.length-1)}var ke={lFrame:WA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zy=!1;function FA(){return ke.lFrame.elementDepthCount}function LA(){ke.lFrame.elementDepthCount++}function wb(){ke.lFrame.elementDepthCount--}function qf(){return ke.bindingsEnabled}function Eb(){return ke.skipHydrationRootTNode!==null}function Ib(n){return ke.skipHydrationRootTNode===n}function Cb(){ke.skipHydrationRootTNode=null}function Se(){return ke.lFrame.lView}function St(){return ke.lFrame.tView}function pt(n){return ke.lFrame.contextLView=n,n[nn]}function gt(n){return ke.lFrame.contextLView=null,n}function Kt(){let n=Db();for(;n!==null&&n.type===64;)n=n.parent;return n}function Db(){return ke.lFrame.currentTNode}function VA(){let n=ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function uc(n,e){let t=ke.lFrame;t.currentTNode=n,t.isParent=e}function Tb(){return ke.lFrame.isParent}function Sb(){ke.lFrame.isParent=!1}function jA(){return ke.lFrame.contextLView}function xb(){return zy}function ld(n){let e=zy;return zy=n,e}function BA(){return ke.lFrame.bindingIndex}function UA(n){return ke.lFrame.bindingIndex=n}function zs(){return ke.lFrame.bindingIndex++}function Gf(n){let e=ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zA(){return ke.lFrame.inI18n}function $A(n,e){let t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wf(e)}function HA(){return ke.lFrame.currentDirectiveIndex}function Wf(n){ke.lFrame.currentDirectiveIndex=n}function qA(n){let e=ke.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Kf(){return ke.lFrame.currentQueryIndex}function bd(n){ke.lFrame.currentQueryIndex=n}function wU(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[In]:null}function Ab(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=wU(o),r===null||(o=o[Fs],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ke.lFrame=GA();return i.currentTNode=e,i.lView=n,!0}function Qf(n){let e=GA(),t=n[se];ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function GA(){let n=ke.lFrame,e=n===null?null:n.child;return e===null?WA(n):e}function WA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function KA(){let n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var kb=KA;function Yf(){let n=KA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function QA(n){return(ke.lFrame.contextLView=NA(n,ke.lFrame.contextLView))[nn]}function Or(){return ke.lFrame.selectedIndex}function Fo(n){ke.lFrame.selectedIndex=n}function wd(){let n=ke.lFrame;return vd(n.tView,n.selectedIndex)}function Ed(){ke.lFrame.currentNamespace=mb}function YA(){return ke.lFrame.currentNamespace}var XA=!0;function Xf(){return XA}function Id(n){XA=n}function $y(n,e=null,t=null,i){let r=Rb(n,e,t,i);return r.resolveInjectorInitializers(),r}function Rb(n,e=null,t=null,i,r=new Set){let o=[t||mn,IA(n)];return i=i||(typeof n=="object"?void 0:Nr(n)),new Ms(o,e||oc(),i||null,r)}var ye=class n{static THROW_IF_NOT_FOUND=xs;static NULL=new cd;static create(e,t){if(Array.isArray(e))return $y({name:""},t,e,"");{let i=e.name??"";return $y({name:i},e.parent,e.providers,i)}}static \u0275prov=P({token:n,providedIn:"any",factory:()=>X(sb)});static __NG_ELEMENT_ID__=-1},me=new M(""),Cn=(()=>{class n{static __NG_ELEMENT_ID__=EU;static __NG_ENV_ID__=t=>t}return n})(),Rf=class extends Cn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Bs(this._lView)}onDestroy(e){let t=this._lView;return vb(t,e),()=>PA(t,e)}};function EU(){return new Rf(Se())}var ZA=!1,Fr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hy=class extends K{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,SA()&&(this.destroyRef=v(Cn,{optional:!0})??void 0,this.pendingTasks=v(Fr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Ee=Hy;function Mf(...n){}function Mb(n){let e,t;function i(){n=Mf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Nb(n){return queueMicrotask(()=>n()),()=>{n=Mf}}var Pb="isAngularZone",dd=Pb+"_ID",IU=0,Q=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=ZA}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,TU(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,CU,Mf,Mf);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},CU={};function Ob(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Mb(()=>{n.callbackScheduled=!1,qy(n),n.isCheckStableRunning=!0,Ob(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),qy(n)}function TU(n){let e=()=>{DU(n)},t=IU++;n._inner=n._inner.fork({name:"angular",properties:{[Pb]:!0,[dd]:t,[dd+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(SU(c))return i.invokeTask(o,s,a,c);try{return dA(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),uA(n)}},onInvoke:(i,r,o,s,a,c,d)=>{try{return dA(n),i.invoke(o,s,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!xU(c)&&e(),uA(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,qy(n),Ob(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function qy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function dA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uA(n){n._nesting--,Ob(n)}var ud=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function SU(n){return JA(n,"__ignore_ng_zone__")}function xU(n){return JA(n,"__scheduler_tick__")}function JA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ui=new M("",{factory:()=>{let n=v(Q),e=v(Je),t;return i=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw i}):(t??=e.get(Rn),t.handleError(i))})}}}),ek={provide:Os,useValue:()=>{let n=v(Rn,{optional:!0})},multi:!0};function Re(n,e){let[t,i,r]=hy(n,e?.equal),o=t,s=o[qt];return o.set=i,o.update=r,o.asReadonly=tk.bind(o),o}function tk(){let n=this[qt];if(n.readonlyFn===void 0){let e=()=>this();e[qt]=n,n.readonlyFn=e}return n.readonlyFn}var hc=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=AU}return n})();function AU(){return new hc(Se(),Kt())}var Gi=class{},Cd=new M("",{factory:()=>!0});var Fb=new M(""),Lr=(()=>{class n{internalPendingTasks=v(Fr);scheduler=v(Gi);errorHandler=v(ui);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zf=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>new Gy})}return n})(),Gy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}},Nf=class{[qt];constructor(e){this[qt]=e}destroy(){this[qt].destroy()}};function Di(n,e){let t=e?.injector??v(ye),i=e?.manualCleanup!==!0?t.get(Cn):null,r,o=t.get(hc,null,{optional:!0}),s=t.get(Gi);return o!==null?(r=MU(o.view,s,n),i instanceof Rf&&i._lView===o.view&&(i=null)):r=NU(n,t.get(Zf),s),r.injector=t,i!==null&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new Nf(r)}var nk=de(N({},my),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=ld(!1);try{py(this)}finally{ld(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=ve(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ve(n)}}}),kU=de(N({},nk),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(bo(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),RU=de(N({},nk),{consumerMarkedDirty(){this.view[fe]|=8192,Us(this.view),this.notifier.notify(13)},destroy(){if(bo(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[So]?.delete(this)}});function MU(n,e,t){let i=Object.create(RU);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=ik(i,t),n[So]??=new Set,n[So].add(i),i.consumerMarkedDirty(i),i}function NU(n,e,t){let i=Object.create(kU);return i.fn=ik(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function ik(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function xt(n){return fy(n)}function yc(n){return{toString:n}.toString()}var Jf="__parameters__";function BU(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function UU(n,e,t){return yc(()=>{let i=BU(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,d,u){let f=c.hasOwnProperty(Jf)?c[Jf]:Object.defineProperty(c,Jf,{value:[]})[Jf];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var On=vA(UU("Optional"),8);function zU(n){return typeof n=="function"}function Fk(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var cm=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}},rn=(()=>{let n=()=>Lk;return n.ngInherit=!0,n})();function Lk(n){return n.type.prototype.ngOnChanges&&(n.setInput=HU),$U}function $U(){let n=jk(this),e=n?.current;if(e){let t=n.previous;if(t===Ro)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function HU(n,e,t,i,r){let o=this.declaredInputs[i],s=jk(n)||qU(n,{previous:Ro,current:null}),a=s.current||(s.current={}),c=s.previous,d=c[o];a[o]=new cm(d&&d.currentValue,t,c===Ro),Fk(n,e,r,t)}var Vk="__ngSimpleChanges__";function jk(n){return n[Vk]||null}function qU(n,e){return n[Vk]=e}var rk=[];var Qe=function(n,e=null,t){for(let i=0;i<rk.length;i++){let r=rk[i];r(n,e,t)}},qe=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(qe||{});function GU(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=Lk(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Bk(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function rm(n,e,t){Uk(n,e,3,t)}function om(n,e,t,i){(n[fe]&3)===t&&Uk(n,e,t,i)}function Lb(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function Uk(n,e,t,i){let r=i!==void 0?n[Ls]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Ls]+=65536),(a<o||o==-1)&&(WU(n,t,e,c),n[Ls]=(n[Ls]&4294901760)+c+2),c++}function ok(n,e){Qe(qe.LifecycleHookStart,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Qe(qe.LifecycleHookEnd,n,e)}}function WU(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[fe]>>14<n[Ls]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,ok(a,o)):ok(a,o)}var mc=-1,Hs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function KU(n){return(n.flags&8)!==0}function QU(n){return(n.flags&16)!==0}function YU(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];XU(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function zk(n){return n===3||n===4||n===6}function XU(n){return n.charCodeAt(0)===64}function pc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?sk(n,t,r,null,e[++i]):sk(n,t,r,null,null))}}return n}function sk(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function $k(n){return n!==mc}function lm(n){return n&32767}function ZU(n){return n>>16}function dm(n,e){let t=ZU(n),i=e;for(;t>0;)i=i[Fs],t--;return i}var Wb=!0;function ak(n){let e=Wb;return Wb=n,e}var JU=256,Hk=JU-1,qk=5,ez=0,Zi={};function tz(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ns)&&(i=t[Ns]),i==null&&(i=t[Ns]=ez++);let r=i&Hk,o=1<<r;e.data[n+(r>>qk)]|=o}function um(n,e){let t=Gk(n,e);if(t!==-1)return t;let i=e[se];i.firstCreatePass&&(n.injectorIndex=e.length,Vb(i.data,n),Vb(e,null),Vb(i.blueprint,null));let r=Ew(n,e),o=n.injectorIndex;if($k(r)){let s=lm(r),a=dm(r,e),c=a[se].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|c[s+d]}return e[o+8]=r,o}function Vb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Gk(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ew(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=Xk(r),i===null)return mc;if(t++,r=r[Fs],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return mc}function Kb(n,e,t){tz(n,e,t)}function nz(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(zk(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function Wk(n,e,t){if(t&8||n!==void 0)return n;Vf(e,"NodeInjector")}function Kk(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Mo],o=qn(void 0);try{return r?r.get(e,i,t&8):rb(e,i,t&8)}finally{qn(o)}}return Wk(i,e,t)}function Qk(n,e,t,i=0,r){if(n!==null){if(e[fe]&2048&&!(i&2)){let s=sz(n,e,t,i,Zi);if(s!==Zi)return s}let o=Yk(n,e,t,i,Zi);if(o!==Zi)return o}return Kk(e,t,i,r)}function Yk(n,e,t,i,r){let o=rz(t);if(typeof o=="function"){if(!Ab(e,n,i))return i&1?Wk(r,t,i):Kk(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Vf(t);else return s}finally{kb()}}else if(typeof o=="number"){let s=null,a=Gk(n,e),c=mc,d=i&1?e[Nn][In]:null;for((a===-1||i&4)&&(c=a===-1?Ew(n,e):e[a+8],c===mc||!lk(i,!1)?a=-1:(s=e[se],a=lm(c),e=dm(c,e)));a!==-1;){let u=e[se];if(ck(o,a,u.data)){let f=iz(a,e,t,s,i,d);if(f!==Zi)return f}c=e[a+8],c!==mc&&lk(i,e[se].data[a+8]===d)&&ck(o,a,e)?(s=u,a=lm(c),e=dm(c,e)):a=-1}}return r}function iz(n,e,t,i,r,o){let s=e[se],a=s.data[n+8],c=i==null?Oo(a)&&Wb:i!=s&&(a.type&3)!==0,d=r&1&&o===a,u=sm(a,s,t,c,d);return u!==null?Sd(e,s,u,a,r):Zi}function sm(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,d=n.directiveEnd,u=o>>20,f=i?a:a+u,p=r?a+u:d;for(let g=f;g<p;g++){let b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(r){let g=s[c];if(g&&Yi(g)&&g.type===t)return c}return null}function Sd(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Hs){let a=o;if(a.resolving){let g=mA(s[t]);throw ib(g)}let c=ak(a.canSeeViewProviders);a.resolving=!0;let d=s[t].type||s[t],u,f=a.injectImpl?qn(a.injectImpl):null,p=Ab(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&GU(t,s[t],e)}finally{f!==null&&qn(f),ak(c),a.resolving=!1,kb()}}return o}function rz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ns)?n[Ns]:void 0;return typeof e=="number"?e>=0?e&Hk:oz:e}function ck(n,e,t){let i=1<<n;return!!(t[e+(n>>qk)]&i)}function lk(n,e){return!(n&2)&&!(n&1&&e)}var $s=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Qk(this._tNode,this._lView,e,As(i),t)}};function oz(){return new $s(Kt(),Se())}function on(n){return yc(()=>{let e=n.prototype.constructor,t=e[ad]||Qb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[ad]||Qb(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Qb(n){return Ky(n)?()=>{let e=Qb(tn(n));return e&&e()}:ks(n)}function sz(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!dc(s);){let a=Yk(o,s,t,i|2,Zi);if(a!==Zi)return a;let c=o.parent;if(!c){let d=s[hb];if(d){let u=d.get(t,Zi,i);if(u!==Zi)return u}c=Xk(s),s=s[Fs]}o=c}return r}function Xk(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[In]:null}function Md(n){return nz(Kt(),n)}function az(){return bc(Kt(),Se())}function bc(n,e){return new be(Ci(n,e))}var be=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=az}return n})();function Zk(n){return n instanceof be?n.nativeElement:n}function cz(){return this._results[Symbol.iterator]()}var Vr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new K}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=bA(e);(this._changesDetected=!yA(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cz};function Jk(n){return(n.flags&128)===128}var Iw=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Iw||{}),eR=new Map,lz=0;function dz(){return lz++}function uz(n){eR.set(n[pd],n)}function Yb(n){eR.delete(n[pd])}var dk="__ngContext__";function gc(n,e){Qi(e)?(n[dk]=e[pd],uz(e)):n[dk]=e}function tR(n){return iR(n[cc])}function nR(n){return iR(n[ci])}function iR(n){for(;n!==null&&!Ii(n);)n=n[ci];return n}var hz;function Cw(n){hz=n}var wc=new M("",{factory:()=>fz}),fz="ng";var Im=new M(""),Ur=new M("",{providedIn:"platform",factory:()=>"unknown"}),Vo=new M(""),Ec=new M("",{factory:()=>v(me).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rR=!1,oR=new M("",{factory:()=>rR});var mz=(n,e,t,i)=>{};function pz(n,e,t,i){mz(n,e,t,i)}function Cm(n){return(n.flags&32)===32}var gz=()=>null;function sR(n,e,t=!1){return gz(n,e,t)}function aR(n,e){let t=n.contentQueries;if(t!==null){let i=ve(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];bd(o),a.contentQueries(2,e[s],s)}}}finally{ve(i)}}}function Xb(n,e,t){bd(0);let i=ve(null);try{e(n,t)}finally{ve(i)}}function Dw(n,e,t){if(fb(e)){let i=ve(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(i)}}}var xi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(xi||{});var em;function _z(){if(em===void 0&&(em=null,ko.trustedTypes))try{em=ko.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return em}function Dm(n){return _z()?.createHTML(n)||n}var tm;function vz(){if(tm===void 0&&(tm=null,ko.trustedTypes))try{tm=ko.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tm}function uk(n){return vz()?.createScriptURL(n)||n}var jr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pf})`}},Zb=class extends jr{getTypeName(){return"HTML"}},Jb=class extends jr{getTypeName(){return"Style"}},ew=class extends jr{getTypeName(){return"Script"}},tw=class extends jr{getTypeName(){return"URL"}},nw=class extends jr{getTypeName(){return"ResourceURL"}};function Ai(n){return n instanceof jr?n.changingThisBreaksApplicationSecurity:n}function zr(n,e){let t=cR(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Pf})`)}return t===e}function cR(n){return n instanceof jr&&n.getTypeName()||null}function Tw(n){return new Zb(n)}function Sw(n){return new Jb(n)}function xw(n){return new ew(n)}function Aw(n){return new tw(n)}function kw(n){return new nw(n)}function yz(n){let e=new rw(n);return bz()?new iw(e):e}var iw=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Dm(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},rw=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dm(e),t}};function bz(){try{return!!new window.DOMParser().parseFromString(Dm(""),"text/html")}catch{return!1}}var wz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nd(n){return n=String(n),n.match(wz)?n:"unsafe:"+n}function $r(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Pd(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var lR=$r("area,br,col,hr,img,wbr"),dR=$r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uR=$r("rp,rt"),Ez=Pd(uR,dR),Iz=Pd(dR,$r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cz=Pd(uR,$r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hk=Pd(lR,Iz,Cz,Ez),hR=$r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dz=$r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tz=$r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Sz=Pd(hR,Dz,Tz),xz=$r("script,style,template"),ow=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=Rz(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=kz(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=fk(e).toLowerCase();if(!hk.hasOwnProperty(t))return this.sanitizedSomething=!0,!xz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Sz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;hR[a]&&(c=Nd(c)),this.buf.push(" ",s,'="',mk(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=fk(e).toLowerCase();hk.hasOwnProperty(t)&&!lR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mk(e))}};function Az(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function kz(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw fR(e);return e}function Rz(n){let e=n.firstChild;if(e&&Az(n,e))throw fR(e);return e}function fk(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function fR(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Mz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nz=/([^\#-~ |!])/g;function mk(n){return n.replace(/&/g,"&amp;").replace(Mz,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(Nz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nm;function Rw(n,e){let t=null;try{nm=nm||yz(n);let i=e?String(e):"";t=nm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=nm.getInertBodyElement(i)}while(i!==o);let a=new ow().sanitizeChildren(pk(t)||t);return Dm(a)}finally{if(t){let i=pk(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function pk(n){return"content"in n&&Pz(n)?n.content:null}function Pz(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Oz=/^>|^->|<!--|-->|--!>|<!-$/g,Fz=/(<|>)/g,Lz="\u200B$1\u200B";function Vz(n){return n.replace(Oz,e=>e.replace(Fz,Lz))}function jz(n,e){return n.createText(e)}function Bz(n,e,t){n.setValue(e,t)}function Uz(n,e){return n.createComment(Vz(e))}function mR(n,e,t){return n.createElement(e,t)}function hm(n,e,t,i,r){n.insertBefore(e,t,i,r)}function pR(n,e,t){n.appendChild(e,t)}function gk(n,e,t,i,r){i!==null?hm(n,e,t,i,r):pR(n,e,t)}function zz(n,e,t,i){n.removeChild(null,e,t,i)}function $z(n,e,t){n.setAttribute(e,"style",t)}function Hz(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gR(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&YU(n,e,i),r!==null&&Hz(n,e,r),o!==null&&$z(n,e,o)}var sn=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(sn||{});function _R(n){let e=yR();return e?e.sanitize(sn.URL,n)||"":zr(n,"URL")?Ai(n):Nd(Ps(n))}function vR(n){let e=yR();if(e)return uk(e.sanitize(sn.RESOURCE_URL,n)||"");if(zr(n,"ResourceURL"))return uk(Ai(n));throw new O(904,!1)}function qz(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?vR:_R}function Mw(n,e,t){return qz(e,t)(n)}function yR(){let n=Se();return n&&n[Wi].sanitizer}function bR(n){return n instanceof Function?n():n}function Gz(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var wR="ng-template";function Wz(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Gz(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Nw(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Nw(n){return n.type===4&&n.value!==wR}function Kz(n,e,t){let i=n.type===4&&!t?wR:n.value;return e===i}function Qz(n,e,t){let i=4,r=n.attrs,o=r!==null?Zz(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ti(i)&&!Ti(c))return!1;if(s&&Ti(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!Kz(n,c,t)||c===""&&e.length===1){if(Ti(i))return!1;s=!0}}else if(i&8){if(r===null||!Wz(n,r,c,t)){if(Ti(i))return!1;s=!0}}else{let d=e[++a],u=Yz(c,r,Nw(n),t);if(u===-1){if(Ti(i))return!1;s=!0;continue}if(d!==""){let f;if(u>o?f="":f=r[u+1].toLowerCase(),i&2&&d!==f){if(Ti(i))return!1;s=!0}}}}return Ti(i)||s}function Ti(n){return(n&1)===0}function Yz(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Jz(e,n)}function ER(n,e,t=!1){for(let i=0;i<e.length;i++)if(Qz(n,e[i],t))return!0;return!1}function Xz(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Zz(n){for(let e=0;e<n.length;e++){let t=n[e];if(zk(t))return e}return n.length}function Jz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function e$(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function _k(n,e){return n?":not("+e.trim()+")":e}function t$(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ti(s)&&(e+=_k(o,r),r=""),i=s,o=o||!Ti(i);t++}return r!==""&&(e+=_k(o,r)),e}function n$(n){return n.map(t$).join(",")}function i$(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Ti(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Wn={};function Pw(n,e,t,i,r,o,s,a,c,d,u){let f=Nt+i,p=f+r,g=r$(f,p),b=typeof d=="function"?d():d;return g[se]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function r$(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Wn);return t}function o$(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Pw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ow(n,e,t,i,r,o,s,a,c,d,u){let f=e.blueprint.slice();return f[Ei]=r,f[fe]=i|4|128|8|64|1024,(d!==null||n&&n[fe]&2048)&&(f[fe]|=2048),gb(f),f[Wt]=f[Fs]=n,f[nn]=t,f[Wi]=s||n&&n[Wi],f[ct]=a||n&&n[ct],f[Mo]=c||n&&n[Mo]||null,f[In]=o,f[pd]=dz(),f[sc]=u,f[hb]=d,f[Nn]=e.type==2?n[Nn]:f,f}function s$(n,e,t){let i=Ci(e,n),r=o$(t),o=n[Wi].rendererFactory,s=Fw(n,Ow(n,r,null,IR(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function IR(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function CR(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Fw(n,e){return n[cc]?n[ub][ci]=e:n[cc]=e,n[ub]=e,e}function q(n=1){DR(St(),Se(),Or()+n,!1)}function DR(n,e,t,i){if(!i)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&om(e,o,0,t)}Fo(t)}var Tm=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Tm||{});function sw(n,e,t,i){let r=ve(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Tm.SignalBased)!==0&&(c=e[o][qt]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,c,i,t,o):Fk(e,c,o,i)}finally{ve(r)}}var Ji=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ji||{}),a$;function Lw(n,e){return a$(n,e)}var _c=new Set,Sm=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Sm||{}),tr=new M(""),vk=new Set;function Hr(n){vk.has(n)||(vk.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vw=[0,1,2,3],jw=(()=>{class n{ngZone=v(Q);scheduler=v(Gi);errorHandler=v(Rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(tr,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qe(qe.AfterRenderHooksStart),this.executing=!0;for(let i of Vw)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qe(qe.AfterRenderHooksEnd)}register(t){let{view:i}=t;i!==void 0?((i[Vs]??=[]).push(t),Us(i),i[fe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Sm.AFTER_NEXT_RENDER,t):t()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),xd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Vs];e&&(this.view[Vs]=e.filter(t=>t!==this))}};function nr(n,e){let t=e?.injector??v(ye);return Hr("NgAfterNextRender"),l$(n,t,e,!0)}function c$(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function l$(n,e,t,i){let r=e.get(xm);r.impl??=e.get(jw);let o=e.get(tr,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Cn):null,a=e.get(hc,null,{optional:!0}),c=new xd(r.impl,c$(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var d$=new M("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:v(Je)})});function TR(n,e,t){let i=n.get(d$);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function u$(n,e){for(let[t,i]of e)TR(n,i.animateFns)}function yk(n,e,t,i){let r=n?.[gd]?.enter;e!==null&&r&&r.has(t.index)&&u$(i,r)}function fc(n,e,t,i,r,o,s,a){if(r!=null){let c,d=!1;Ii(r)?c=r:Qi(r)&&(d=!0,r=r[Ei]);let u=li(r);n===0&&i!==null?(yk(a,i,o,t),s==null?pR(e,i,u):hm(e,i,u,s||null,!0)):n===1&&i!==null?(yk(a,i,o,t),hm(e,i,u,s||null,!0)):n===2?bk(a,o,t,f=>{zz(e,u,d,f)}):n===3&&bk(a,o,t,()=>{e.destroyNode(u)}),c!=null&&E$(e,n,t,c,o,i,s)}}function h$(n,e){SR(n,e),e[Ei]=null,e[In]=null}function f$(n,e,t,i,r,o){i[Ei]=r,i[In]=e,Am(n,i,t,1,r,o)}function SR(n,e){e[Wi].changeDetectionScheduler?.notify(9),Am(n,e,e[ct],2,null,null)}function m$(n){let e=n[cc];if(!e)return jb(n[se],n);for(;e;){let t=null;if(Qi(e))t=e[cc];else{let i=e[pn];i&&(t=i)}if(!t){for(;e&&!e[ci]&&e!==n;)Qi(e)&&jb(e[se],e),e=e[Wt];e===null&&(e=n),Qi(e)&&jb(e[se],e),t=e&&e[ci]}e=t}}function Bw(n,e){let t=n[js],i=t.indexOf(e);t.splice(i,1)}function Uw(n,e){if(Bs(e))return;let t=e[ct];t.destroyNode&&Am(n,e,t,3,null,null),m$(e)}function jb(n,e){if(Bs(e))return;let t=ve(null);try{e[fe]&=-129,e[fe]|=256,e[Gn]&&bo(e[Gn]),_$(n,e),g$(n,e),e[se].type===1&&e[ct].destroy();let i=e[No];if(i!==null&&Ii(e[Wt])){i!==e[Wt]&&Bw(i,e);let r=e[Ki];r!==null&&r.detachView(n)}Yb(e)}finally{ve(t)}}function bk(n,e,t,i){let r=n?.[gd];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&_c.add(n),TR(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:u}=d();a.push(u)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),p$(n,i)}else n&&_c.delete(n),i(!1)},r)}function p$(n,e){let t=n[gd]?.running;if(t){t.then(()=>{n[gd].running=void 0,_c.delete(n),e(!0)});return}e(!1)}function g$(n,e){let t=n.cleanup,i=e[ac];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[ac]=null);let r=e[Mr];if(r!==null){e[Mr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[So];if(o!==null){e[So]=null;for(let s of o)s.destroy()}}function _$(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Hs)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Qe(qe.LifecycleHookStart,a,c);try{c.call(a)}finally{Qe(qe.LifecycleHookEnd,a,c)}}else{Qe(qe.LifecycleHookStart,r,o);try{o.call(r)}finally{Qe(qe.LifecycleHookEnd,r,o)}}}}}function xR(n,e,t){return v$(n,e.parent,t)}function v$(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ei];if(Oo(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===xi.None||r===xi.Emulated)return null}return Ci(i,t)}function AR(n,e,t){return b$(n,e,t)}function y$(n,e,t){return n.type&40?Ci(n,t):null}var b$=y$,wk;function zw(n,e,t,i){let r=xR(n,i,e),o=e[ct],s=i.parent||e[In],a=AR(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)gk(o,r,t[c],a,!1);else gk(o,r,t,a,!1);wk!==void 0&&wk(o,i,e,t,r)}function Dd(n,e){if(e!==null){let t=e.type;if(t&3)return Ci(e,n);if(t&4)return aw(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Dd(n,i);{let r=n[e.index];return Ii(r)?aw(-1,r):li(r)}}else{if(t&128)return Dd(n,e.next);if(t&32)return Lw(e,n)()||li(n[e.index]);{let i=kR(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=xo(n[Nn]);return Dd(r,i)}else return Dd(n,e.next)}}}return null}function kR(n,e){if(e!==null){let i=n[Nn][In],r=e.projection;return i.projection[r]}return null}function aw(n,e){let t=pn+n+1;if(t<e.length){let i=e[t],r=i[se].firstChild;if(r!==null)return Dd(i,r)}return e[Po]}function $w(n,e,t,i,r,o,s){for(;t!=null;){let a=i[Mo];if(t.type===128){t=t.next;continue}let c=i[t.index],d=t.type;if(s&&e===0&&(c&&gc(li(c),i),t.flags|=2),!Cm(t))if(d&8)$w(n,e,t.child,i,r,o,!1),fc(e,n,a,r,c,t,o,i);else if(d&32){let u=Lw(t,i),f;for(;f=u();)fc(e,n,a,r,f,t,o,i);fc(e,n,a,r,c,t,o,i)}else d&16?RR(n,e,i,t,r,o):fc(e,n,a,r,c,t,o,i);t=s?t.projectionNext:t.next}}function Am(n,e,t,i,r,o){$w(t,i,n.firstChild,e,r,o,!1)}function w$(n,e,t){let i=e[ct],r=xR(n,t,e),o=t.parent||e[In],s=AR(o,t,e);RR(i,0,e,t,r,s)}function RR(n,e,t,i,r,o){let s=t[Nn],c=s[In].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let u=c[d];fc(e,n,t[Mo],r,u,i,o,t)}else{let d=c,u=s[Wt];Jk(i)&&(d.flags|=128),$w(n,e,d,u,r,o,!0)}}function E$(n,e,t,i,r,o,s){let a=i[Po],c=li(i);a!==c&&fc(e,n,t,o,a,r,s);for(let d=pn;d<i.length;d++){let u=i[d];Am(u[se],u,n,e,o,a)}}function I$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Ji.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ji.Important),n.setStyle(t,i,r,o))}}function MR(n,e,t,i,r){let o=Or(),s=i&2;try{Fo(-1),s&&e.length>Nt&&DR(n,e,Nt,!1);let a=s?qe.TemplateUpdateStart:qe.TemplateCreateStart;Qe(a,r,t),t(i,r)}finally{Fo(o);let a=s?qe.TemplateUpdateEnd:qe.TemplateCreateEnd;Qe(a,r,t)}}function km(n,e,t){A$(n,e,t),(t.flags&64)===64&&k$(n,e,t)}function Od(n,e,t=Ci){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function C$(n,e,t,i){let o=i.get(oR,rR)||t===xi.ShadowDom||t===xi.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return D$(s),s}function D$(n){T$(n)}var T$=()=>null;function S$(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function NR(n,e,t,i,r,o){let s=e[se];if(Ww(n,s,e,t,i)){Oo(n)&&x$(e,n.index);return}n.type&3&&(t=S$(t)),PR(n,e,t,i,r,o)}function PR(n,e,t,i,r,o){if(n.type&3){let s=Ci(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function x$(n,e){let t=di(e,n);t[fe]&16||(t[fe]|=64)}function A$(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Oo(t)&&s$(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||um(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=Sd(e,n,s,t);if(gc(c,e),o!==null&&P$(e,s-i,c,a,t,o),Yi(a)){let d=di(t.index,e);d[nn]=Sd(e,n,s,t)}}}function k$(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=HA();try{Fo(o);for(let a=i;a<r;a++){let c=n.data[a],d=e[a];Wf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&R$(c,d)}}finally{Fo(-1),Wf(s)}}function R$(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Hw(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];ER(e,o.selectors,!1)&&(i??=[],Yi(o)?i.unshift(o):i.push(o))}return i}function M$(n,e,t,i,r,o){let s=Ci(n,e);N$(e[ct],s,o,n.value,t,i,r)}function N$(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Ps(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function P$(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],d=s[a+1];sw(i,t,c,d)}}function qw(n,e,t,i,r){let o=Nt+t,s=e[se],a=r(s,e,n,i,t);e[o]=a,uc(n,!0);let c=n.type===2;return c?(gR(e[ct],a,n),(FA()===0||lc(n))&&gc(a,e),LA()):gc(a,e),Xf()&&(!c||!Cm(n))&&zw(s,e,a,n),n}function Gw(n){let e=n;return Tb()?Sb():(e=e.parent,uc(e,!1)),e}function O$(n,e){let t=n[Mo];if(!t)return;let i;try{i=t.get(ui,null)}catch{i=null}i?.(e)}function Ww(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],u=s[c+1],f=e.data[d];sw(f,t[d],u,r),a=!0}if(o)for(let c of o){let d=t[c],u=e.data[c];sw(u,d,i,r),a=!0}return a}function F$(n,e){let t=di(e,n),i=t[se];L$(i,t);let r=t[Ei];r!==null&&t[sc]===null&&(t[sc]=sR(r,t[Mo])),Qe(qe.ComponentStart);try{Kw(i,t,t[nn])}finally{Qe(qe.ComponentEnd,t[nn])}}function L$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Kw(n,e,t){Qf(e);try{let i=n.viewQuery;i!==null&&Xb(1,i,t);let r=n.template;r!==null&&MR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ki]?.finishViewCreation(n),n.staticContentQueries&&aR(n,e),n.staticViewQueries&&Xb(2,n.viewQuery,t);let o=n.components;o!==null&&V$(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[fe]&=-5,Yf()}}function V$(n,e){for(let t=0;t<e.length;t++)F$(n,e[t])}function Qw(n,e,t,i){let r=ve(null);try{let o=e.tView,a=n[fe]&4096?4096:16,c=Ow(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=n[e.index];c[No]=d;let u=n[Ki];return u!==null&&(c[Ki]=u.createEmbeddedView(o)),Kw(o,c,t),c}finally{ve(r)}}function fm(n,e){return!e||e.firstChild===null||Jk(n)}function Ad(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(li(o)),Ii(o)&&OR(o,i);let s=t.type;if(s&8)Ad(n,e,t.child,i);else if(s&32){let a=Lw(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=kR(e,t);if(Array.isArray(a))i.push(...a);else{let c=xo(e[Nn]);Ad(c[se],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function OR(n,e){for(let t=pn;t<n.length;t++){let i=n[t],r=i[se].firstChild;r!==null&&Ad(i[se],i,r,e)}n[Po]!==n[Ei]&&e.push(n[Po])}function FR(n){if(n[Vs]!==null){for(let e of n[Vs])e.impl.addSequence(e);n[Vs].length=0}}var LR=[];function j$(n){return n[Gn]??B$(n)}function B$(n){let e=LR.pop()??Object.create(z$);return e.lView=n,e}function U$(n){n.lView[Gn]!==n&&(n.lView=null,LR.push(n))}var z$=de(N({},$a),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Us(n.lView)},consumerOnSignalRead(){this.lView[Gn]=this}});function $$(n){let e=n[Gn]??Object.create(H$);return e.lView=n,e}var H$=de(N({},$a),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xo(n.lView);for(;e&&!VR(e[se]);)e=xo(e);e&&_b(e)},consumerOnSignalRead(){this.lView[Gn]=this}});function VR(n){return n.type!==2}function jR(n){if(n[So]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[So])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[fe]&8192)}}var q$=100;function BR(n,e=0){let i=n[Wi].rendererFactory,r=!1;r||i.begin?.();try{G$(n,e)}finally{r||i.end?.()}}function G$(n,e){let t=xb();try{ld(!0),cw(n,e);let i=0;for(;yd(n);){if(i===q$)throw new O(103,!1);i++,cw(n,1)}}finally{ld(t)}}function W$(n,e,t,i){if(Bs(e))return;let r=e[fe],o=!1,s=!1;Qf(e);let a=!0,c=null,d=null;o||(VR(n)?(d=j$(e),c=bs(d)):Qh()===null?(a=!1,d=$$(e),c=bs(d)):e[Gn]&&(bo(e[Gn]),e[Gn]=null));try{gb(e),UA(n.bindingStartIndex),t!==null&&MR(n,e,t,2,i);let u=(r&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&rm(e,g,null)}else{let g=n.preOrderHooks;g!==null&&om(e,g,0,null),Lb(e,0)}if(s||K$(e),jR(e),UR(e,0),n.contentQueries!==null&&aR(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&rm(e,g)}else{let g=n.contentHooks;g!==null&&om(e,g,1),Lb(e,1)}Y$(n,e);let f=n.components;f!==null&&$R(e,f,0);let p=n.viewQuery;if(p!==null&&Xb(2,p,i),!o)if(u){let g=n.viewCheckHooks;g!==null&&rm(e,g)}else{let g=n.viewHooks;g!==null&&om(e,g,2),Lb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zf]){for(let g of e[zf])g();e[zf]=null}o||(FR(e),e[fe]&=-73)}catch(u){throw o||Us(e),u}finally{d!==null&&(qa(d,c),a&&U$(d)),Yf()}}function UR(n,e){for(let t=tR(n);t!==null;t=nR(t))for(let i=pn;i<t.length;i++){let r=t[i];zR(r,e)}}function K$(n){for(let e=tR(n);e!==null;e=nR(e)){if(!(e[fe]&2))continue;let t=e[js];for(let i=0;i<t.length;i++){let r=t[i];_b(r)}}}function Q$(n,e,t){Qe(qe.ComponentStart);let i=di(e,n);try{zR(i,t)}finally{Qe(qe.ComponentEnd,i[nn])}}function zR(n,e){$f(n)&&cw(n,e)}function cw(n,e){let i=n[se],r=n[fe],o=n[Gn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ga(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)W$(i,n,i.template,n[nn]);else if(r&8192){let a=ve(null);try{jR(n),UR(n,1);let c=i.components;c!==null&&$R(n,c,1),FR(n)}finally{ve(a)}}}function $R(n,e,t){for(let i=0;i<e.length;i++)Q$(n,e[i],t)}function Y$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Fo(~r);else{let o=r,s=t[++i],a=t[++i];$A(s,o);let c=e[o];Qe(qe.HostBindingsUpdateStart,c);try{a(2,c)}finally{Qe(qe.HostBindingsUpdateEnd,c)}}}}finally{Fo(-1)}}function Yw(n,e){let t=xb()?64:1088;for(n[Wi].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let i=xo(n);if(dc(n)&&!i)return n;n=i}return null}function HR(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function X$(n,e){let t=pn+e;if(t<n.length)return n[t]}function Xw(n,e,t,i=!0){let r=e[se];if(J$(r,e,n,t),i){let s=aw(t,n),a=e[ct],c=a.parentNode(n[Po]);c!==null&&f$(r,n[In],a,e,c,s)}let o=e[sc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Z$(n,e){let t=mm(n,e);return t!==void 0&&Uw(t[se],t),t}function mm(n,e){if(n.length<=pn)return;let t=pn+e,i=n[t];if(i){let r=i[No];r!==null&&r!==n&&Bw(r,i),e>0&&(n[t-1][ci]=i[ci]);let o=fd(n,pn+e);h$(i[se],i);let s=o[Ki];s!==null&&s.detachView(o[se]),i[Wt]=null,i[ci]=null,i[fe]&=-129}return i}function J$(n,e,t,i){let r=pn+i,o=t.length;i>0&&(t[r-1][ci]=e),i<o-pn?(e[ci]=t[r],ob(t,pn+i,e)):(t.push(e),e[ci]=null),e[Wt]=t;let s=e[No];s!==null&&t!==s&&qR(s,e);let a=e[Ki];a!==null&&a.insertView(n),Hf(e),e[fe]|=128}function qR(n,e){let t=n[js],i=e[Wt];if(Qi(i))n[fe]|=2;else{let r=i[Wt][Nn];e[Nn]!==r&&(n[fe]|=2)}t===null?n[js]=[e]:t.push(e)}var Lo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return Ad(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return Bs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(Ii(e)){let t=e[_d],i=t?t.indexOf(this):-1;i>-1&&(mm(e,i),fd(t,i))}this._attachedToViewContainer=!1}Uw(this._lView[se],this._lView)}onDestroy(e){vb(this._lView,e)}markForCheck(){Yw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Hf(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,BR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dc(this._lView),t=this._lView[No];t!==null&&!e&&Bw(t,this._lView),SR(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let t=dc(this._lView),i=this._lView[No];i!==null&&!t&&qR(i,this._lView),Hf(this._lView)}};var Pn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eH;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Qw(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Lo(o)}}return n})();function eH(){return Rm(Kt(),Se())}function Rm(n,e){return n.type&4?new Pn(e,n,bc(n,e)):null}function Ic(n,e,t,i,r){let o=n.data[e];if(o===null)o=tH(n,e,t,i,r),zA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=VA();o.injectorIndex=s===null?-1:s.injectorIndex}return uc(o,!0),o}function tH(n,e,t,i,r){let o=Db(),s=Tb(),a=s?o:o&&o.parent,c=n.data[e]=iH(n,a,t,e,i,r);return nH(n,c,o,s),c}function nH(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function iH(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Eb()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rH=()=>null,oH=()=>null;function lw(n,e){return rH(n,e)}function sH(n,e,t){return oH(n,e,t)}var GR=class{},Mm=class{},dw=class{resolveComponentFactory(e){throw new O(917,!1)}},Fd=class{static NULL=new dw},Ft=class{},Ut=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>aH()}return n})();function aH(){let n=Se(),e=Kt(),t=di(e.index,n);return(Qi(t)?t:n)[ct]}var WR=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>null})}return n})();var am={},uw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,am,i);return r!==am||t===am?r:this.parentInjector.get(e,t,i)}};function pm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Of(r,a);else if(o==2){let c=a,d=e[++s];i=Of(i,c+": "+d+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Me(n,e=0){let t=Se();if(t===null)return X(n,e);let i=Kt();return Qk(i,t,tn(n),e)}function KR(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,c=null,d=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,d]=u.resolveHostDirectives(s);break}dH(n,e,t,a,o,c,d)}o!==null&&i!==null&&cH(t,i,o)}function cH(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new O(-301,!1);i.push(e[r],o)}}function lH(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function dH(n,e,t,i,r,o,s){let a=i.length,c=null;for(let p=0;p<a;p++){let g=i[p];c===null&&Yi(g)&&(c=g,lH(n,t,p)),Kb(um(t,e),n,g.type)}gH(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let g=i[p];g.providersResolver&&g.providersResolver(g)}let d=!1,u=!1,f=CR(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let g=i[p];if(t.mergedAttrs=pc(t.mergedAttrs,g.hostAttrs),hH(n,t,e,f,g),pH(f,g,r),s!==null&&s.has(g)){let[D,T]=s.get(g);t.directiveToIndex.set(g.type,[f,D+t.directiveStart,T+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,f);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let b=g.type.prototype;!d&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}uH(n,t,o)}function uH(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))Ek(0,e,r,i),Ek(1,e,r,i),Ck(e,i,!1);else{let o=t.get(r);Ik(0,e,o,i),Ik(1,e,o,i),Ck(e,i,!0)}}}function Ek(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),QR(e,o)}}function Ik(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),QR(e,s)}}function QR(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Ck(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||Nw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let d=r[c];for(let u of d)if(u===e){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let d=o[c];for(let u=0;u<d.length;u+=2)if(d[u]===e){s??=[],s.push(d[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function hH(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=ks(r.type,!0)),s=new Hs(o,Yi(r),Me,null);n.blueprint[i]=s,t[i]=s,fH(n,e,i,CR(n,t,r.hostVars,Wn),r)}function fH(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;mH(s)!=a&&s.push(a),s.push(t,i,o)}}function mH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function pH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Yi(e)&&(t[""]=n)}}function gH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Zw(n,e,t,i,r,o,s,a){let c=e[se],d=c.consts,u=Xi(d,s),f=Ic(c,n,t,i,u);return o&&KR(c,e,f,Xi(d,a),r),f.mergedAttrs=pc(f.mergedAttrs,f.attrs),f.attrs!==null&&pm(f,f.attrs,!1),f.mergedAttrs!==null&&pm(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function Jw(n,e){Bk(n,e),fb(e)&&n.queries.elementEnd(e)}function _H(n,e,t,i,r,o){let s=e.consts,a=Xi(s,r),c=Ic(e,n,t,i,a);if(c.mergedAttrs=pc(c.mergedAttrs,c.attrs),o!=null){let d=Xi(s,o);c.localNames=[];for(let u=0;u<d.length;u+=2)c.localNames.push(d[u],-1)}return c.attrs!==null&&pm(c,c.attrs,!1),c.mergedAttrs!==null&&pm(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function eE(n){return XR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function YR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function XR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function er(n,e,t){if(t===Wn)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function vH(n,e,t,i){let r=er(n,e,t);return er(n,e+1,i)||r}function Bb(n,e,t){return function i(r){let o=Oo(n)?di(n.index,e):e;Yw(o,5);let s=e[nn],a=Dk(e,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=Dk(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function Dk(n,e,t,i){let r=ve(null);try{return Qe(qe.OutputStart,e,t),t(i)!==!1}catch(o){return O$(n,o),!1}finally{Qe(qe.OutputEnd,e,t),ve(r)}}function yH(n,e,t,i,r,o,s,a){let c=lc(n),d=!1,u=null;if(!i&&c&&(u=wH(e,t,o,n.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,d=!0}else{let f=Ci(n,t),p=i?i(f):f;pz(t,p,o,a);let g=r.listen(p,o,a);if(!bH(o)){let b=i?D=>i(li(D[n.index])):n.index;ZR(b,e,t,o,a,g,!1)}}return d}function bH(n){return n.startsWith("animation")||n.startsWith("transition")}function wH(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[ac],c=r[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ZR(n,e,t,i,r,o,s){let a=e.firstCreatePass?bb(e):null,c=yb(t),d=c.length;c.push(r,o),a&&a.push(i,n,d,(d+1)*(s?-1:1))}function Tk(n,e,t,i,r,o){let s=e[t],a=e[se],d=a.data[t].outputs[i],f=s[d].subscribe(o);ZR(n.index,a,e,r,o,f,!0)}var hw=Symbol("BINDING");var gm=class extends Fd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Pr(e);return new qs(t,this.ngModule)}};function EH(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Tm.SignalBased)!==0};return r&&(o.transform=r),o})}function IH(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function CH(n,e,t){let i=e instanceof Je?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new uw(t,i):t}function DH(n){let e=n.get(Ft,null);if(e===null)throw new O(407,!1);let t=n.get(WR,null),i=n.get(Gi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function TH(n,e){let t=JR(n);return mR(e,t,t==="svg"?mb:t==="math"?AA:null)}function JR(n){return(n.selectors[0][0]||"div").toLowerCase()}var qs=class extends Mm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=EH(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=IH(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=n$(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Qe(qe.DynamicComponentStart);let a=ve(null);try{let c=this.componentDef,d=SH(i,c,s,o),u=CH(c,r||this.ngModule,e),f=DH(u),p=f.rendererFactory.createRenderer(null,c),g=i?C$(p,i,c.encapsulation,u):TH(c,p),b=s?.some(Sk)||o?.some(R=>typeof R!="function"&&R.bindings.some(Sk)),D=Ow(null,d,null,512|IR(c),null,null,f,p,u,null,sR(g,u,!0));D[Nt]=g,Qf(D);let T=null;try{let R=Zw(Nt,D,2,"#host",()=>d.directiveRegistry,!0,0);gR(p,g,R),gc(g,D),km(d,D,R),Dw(d,R,D),Jw(d,R),t!==void 0&&AH(R,this.ngContentSelectors,t),T=di(R.index,D),D[nn]=T[nn],Kw(d,D,null)}catch(R){throw T!==null&&Yb(T),Yb(D),R}finally{Qe(qe.DynamicComponentEnd),Yf()}return new _m(this.componentType,D,!!b)}finally{ve(a)}}};function SH(n,e,t,i){let r=n?["ng-version","21.0.6"]:i$(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[hw].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let f=i[u];if(typeof f!="function")for(let p of f.bindings){a+=p[hw].requiredVars;let g=u+1;p.create&&(p.targetIdx=g,(o??=[]).push(p)),p.update&&(p.targetIdx=g,(s??=[]).push(p))}}let c=[e];if(i)for(let u of i){let f=typeof u=="function"?u:u.type,p=nb(f);c.push(p)}return Pw(0,null,xH(o,s),1,a,c,null,null,null,[r],null)}function xH(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function Sk(n){let e=n[hw].kind;return e==="input"||e==="twoWay"}var _m=class extends GR{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=vd(t[se],Nt),this.location=bc(this._tNode,t),this.instance=di(this._tNode.index,t)[nn],this.hostView=this.changeDetectorRef=new Lo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=Ww(i,r[se],r,e,t);this.previousInputValues.set(e,t);let s=di(i.index,r);Yw(s,1)}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AH(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Qt=(()=>{class n{static __NG_ELEMENT_ID__=kH}return n})();function kH(){let n=Kt();return tM(n,Se())}var RH=Qt,eM=class extends RH{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ew(this._hostTNode,this._hostLView);if($k(e)){let t=dm(e,this._hostLView),i=lm(e),r=t[se].data[i+8];return new $s(r,t)}else return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=xk(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=lw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,fm(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let c=e&&!zU(e),d;if(c)d=t;else{let T=t||{};d=T.index,i=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef,s=T.directives,a=T.bindings}let u=c?e:new qs(Pr(e)),f=i||this.parentInjector;if(!o&&u.ngModule==null){let R=(c?f:this.parentInjector).get(Je,null);R&&(o=R)}let p=Pr(u.componentType??{}),g=lw(this._lContainer,p?.id??null),b=g?.firstChild??null,D=u.create(f,r,b,o,s,a);return this.insertImpl(D.hostView,d,fm(this._hostTNode,g)),D}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(MA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Wt],d=new eM(c,c[In],c[Wt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xw(s,r,o,i),e.attachToViewContainerRef(),ob(Ub(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=xk(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=mm(this._lContainer,t);i&&(fd(Ub(this._lContainer),t),Uw(i[se],i))}detach(e){let t=this._adjustIndex(e,-1),i=mm(this._lContainer,t);return i&&fd(Ub(this._lContainer),t)!=null?new Lo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function xk(n){return n[_d]}function Ub(n){return n[_d]||(n[_d]=[])}function tM(n,e){let t,i=e[n.index];return Ii(i)?t=i:(t=HR(i,e,null,n),e[n.index]=t,Fw(e,t)),NH(t,e,n,i),new eM(t,n,e)}function MH(n,e){let t=n[ct],i=t.createComment(""),r=Ci(e,n),o=t.parentNode(r);return hm(t,o,i,t.nextSibling(r),!1),i}var NH=FH,PH=()=>!1;function OH(n,e,t){return PH(n,e,t)}function FH(n,e,t,i){if(n[Po])return;let r;t.type&8?r=li(i):r=MH(e,t),n[Po]=r}var fw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},mw=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)nE(e,t).matches!==null&&this.queries[t].setDirty()}},vm=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=UH(e):this.predicate=e}},pw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},gw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,LH(t,o)),this.matchTNodeWithReadOption(e,t,sm(t,e,o,!1,!1))}else i===Pn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===be||r===Qt||r===Pn&&t.type&4)this.addMatch(t.index,-2);else{let o=sm(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function LH(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function VH(n,e){return n.type&11?bc(n,e):n.type&4?Rm(n,e):null}function jH(n,e,t,i){return t===-1?VH(e,n):t===-2?BH(n,e,i):Sd(n,n[se],t,e)}function BH(n,e,t){if(t===be)return bc(e,n);if(t===Pn)return Rm(e,n);if(t===Qt)return tM(e,n)}function nM(n,e,t,i){let r=e[Ki].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)a.push(null);else{let u=o[d];a.push(jH(e,u,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function _w(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=nM(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let d=o[a+1],u=e[-c];for(let f=pn;f<u.length;f++){let p=u[f];p[No]===p[Wt]&&_w(p[se],p,d,i)}if(u[js]!==null){let f=u[js];for(let p=0;p<f.length;p++){let g=f[p];_w(g[se],g,d,i)}}}}}return i}function tE(n,e){return n[Ki].queries[e].queryList}function iM(n,e,t){let i=new Vr((t&4)===4);return OA(n,e,i,i.destroy),(e[Ki]??=new mw).queries.push(new fw(i))-1}function rM(n,e,t){let i=St();return i.firstCreatePass&&(sM(i,new vm(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),iM(i,Se(),e)}function oM(n,e,t,i){let r=St();if(r.firstCreatePass){let o=Kt();sM(r,new vm(e,t,i),o.index),zH(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return iM(r,Se(),t)}function UH(n){return n.split(",").map(e=>e.trim())}function sM(n,e,t){n.queries===null&&(n.queries=new pw),n.queries.track(new gw(e,t))}function zH(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function nE(n,e){return n.queries.getByIndex(e)}function aM(n,e){let t=n[se],i=nE(t,e);return i.crossesNgTemplate?_w(t,n,e,[]):nM(t,n,i,e)}function cM(n,e,t){let i,r=Ql(()=>{i._dirtyCounter();let o=$H(i,n);if(e&&o===void 0)throw new O(-951,!1);return o});return i=r[qt],i._dirtyCounter=Re(0),i._flatValue=void 0,r}function iE(n){return cM(!0,!1,n)}function rE(n){return cM(!0,!0,n)}function lM(n,e){let t=n[qt];t._lView=Se(),t._queryIndex=e,t._queryList=tE(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function $H(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[fe]&4)return e?void 0:mn;let r=tE(t,i),o=aM(t,i);return r.reset(o,Zk),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var Br=class{},Nm=class{};var ym=class extends Br{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gm(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=tb(e);this._bootstrapComponents=bR(o.bootstrap),this._r3Injector=Rb(e,t,[{provide:Br,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver},...i],Nr(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bm=class extends Nm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ym(this.moduleType,e,[])}};var kd=class extends Br{injector;componentFactoryResolver=new gm(this);instance=null;constructor(e){super();let t=new Ms([...e.providers,{provide:Br,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],e.parent||oc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ld(n,e,t=null){return new kd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var HH=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=cb(!1,t.type),r=i.length>0?Ld([i],this._injector,""):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(X(Je))})}return n})();function ie(n){return yc(()=>{let e=dM(n),t=de(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Iw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(HH).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xi.Emulated,styles:n.styles||mn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Hr("NgStandalone"),uM(t);let i=n.dependencies;return t.directiveDefs=Ak(i,qH),t.pipeDefs=Ak(i,fA),t.id=KH(t),t})}function qH(n){return Pr(n)||nb(n)}function ae(n){return yc(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GH(n,e){if(n==null)return Ro;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Tm.None,c=null),t[o]=[i,a,c],e[o]=s}return t}function WH(n){if(n==null)return Ro;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function te(n){return yc(()=>{let e=dM(n);return uM(e),e})}function dM(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ro,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:GH(n.inputs,e),outputs:WH(n.outputs),debugInfo:null}}function uM(n){n.features?.forEach(e=>e(n))}function Ak(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function KH(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function QH(n){return Object.getPrototypeOf(n.prototype).constructor}function ft(n){let e=QH(n.type),t=!0,i=[n];for(;e;){let r;if(Yi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=zb(n.inputs),s.declaredInputs=zb(n.declaredInputs),s.outputs=zb(n.outputs);let a=r.hostBindings;a&&e4(n,a);let c=r.viewQuery,d=r.contentQueries;if(c&&ZH(n,c),d&&JH(n,d),YH(n,r),hA(n.outputs,r.outputs),Yi(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ft&&(t=!1)}}e=Object.getPrototypeOf(e)}XH(i)}function YH(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function XH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=pc(r.hostAttrs,t=pc(t,r.hostAttrs))}}function zb(n){return n===Ro?{}:n===mn?[]:n}function ZH(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function JH(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function e4(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function hM(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=pc(n.mergedAttrs,n.attrs);let u=n.tView=Pw(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),uc(n,!1);let c=n4(t,e,n,i);Xf()&&zw(t,e,c,n),gc(c,e);let d=HR(c,e,c,n);e[i+Nt]=d,Fw(e,d),OH(d,n,e)}function t4(n,e,t,i,r,o,s,a,c,d,u){let f=t+Nt,p;return e.firstCreatePass?(p=Ic(e,f,4,s||null,a||null),qf()&&KR(e,n,p,Xi(e.consts,d),Hw),Bk(e,p)):p=e.data[f],hM(p,n,e,t,i,r,o,c),lc(p)&&km(e,n,p),d!=null&&Od(n,p,u),p}function oE(n,e,t,i,r,o,s,a,c,d,u){let f=t+Nt,p;if(e.firstCreatePass){if(p=Ic(e,f,4,s||null,a||null),d!=null){let g=Xi(e.consts,d);p.localNames=[];for(let b=0;b<g.length;b+=2)p.localNames.push(g[b],-1)}}else p=e.data[f];return hM(p,n,e,t,i,r,o,c),d!=null&&Od(n,p,u),p}function _t(n,e,t,i,r,o,s,a){let c=Se(),d=St(),u=Xi(d.consts,o);return t4(c,d,n,e,t,i,r,u,void 0,s,a),_t}var n4=i4;function i4(n,e,t,i){return Id(!0),e[ct].createComment("")}var Pm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Ws(n){return typeof n=="function"&&n[qt]!==void 0}function sE(n){return Ws(n)&&typeof n.set=="function"}var aE=new M("");function jo(n){return!!n&&typeof n.then=="function"}function cE(n){return!!n&&typeof n.subscribe=="function"}var Om=new M("");var lE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=v(Om,{optional:!0})??[];injector=v(ye);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=ht(this.injector,r);if(jo(o))t.push(o);else if(cE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fm=new M("");function fM(){uy(()=>{let n="";throw new O(600,n)})}function mM(n){return n.isBoundToModule}var r4=10;var Kn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(ui);afterRenderManager=v(xm);zonelessEnabled=v(Cd);rootEffectScheduler=v(Zf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new K;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(Fr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ee(t=>!t))}constructor(){v(tr,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=v(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=ye.NULL){return this._injector.get(Q).run(()=>{Qe(qe.BootstrapComponentStart);let s=t instanceof Mm;if(!this._injector.get(lE).done){let b="";throw new O(405,b)}let c;s?c=t:c=this._injector.get(Fd).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=mM(c)?void 0:this._injector.get(Br),u=i||c.selector,f=c.create(r,[],u,d),p=f.location.nativeElement,g=f.injector.get(aE,null);return g?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Td(this.components,f),g?.unregisterApplication(p)}),this._loadComponent(f),Qe(qe.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qe(qe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Qe(qe.ChangeDetectionEnd),new O(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Qe(qe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ft,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<r4;){Qe(qe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Qe(qe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!yd(r))continue;let o=i&&!this.zonelessEnabled?0:1;BR(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>yd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Td(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(Fm,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Td(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Td(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ye(n,e,t,i){let r=Se(),o=zs();if(er(r,o,e)){let s=St(),a=wd();M$(a,r,n,e,t,i)}return Ye}var oae=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function wt(n,e,t,i,r,o,s,a){Hr("NgControlFlow");let c=Se(),d=St(),u=Xi(d.consts,o);return oE(c,d,n,e,t,i,r,u,256,s,a),dE}function dE(n,e,t,i,r,o,s,a){Hr("NgControlFlow");let c=Se(),d=St(),u=Xi(d.consts,o);return oE(c,d,n,e,t,i,r,u,512,s,a),dE}function Et(n,e){Hr("NgControlFlow");let t=Se(),i=zs(),r=t[i]!==Wn?t[i]:-1,o=r!==-1?kk(t,Nt+r):void 0,s=0;if(er(t,i,n)){let a=ve(null);try{if(o!==void 0&&Z$(o,s),n!==-1){let c=Nt+n,d=kk(t,c),u=o4(t[se],c),f=sH(d,u,t),p=Qw(t,u,e,{dehydratedView:f});Xw(d,p,s,fm(u,f))}}finally{ve(a)}}else if(o!==void 0){let a=X$(o,s);a!==void 0&&(a[nn]=e)}}function kk(n,e){return n[e]}function o4(n,e){return vd(n,e)}function Ie(n,e,t){let i=Se(),r=zs();if(er(i,r,e)){let o=St(),s=wd();NR(s,i,n,e,i[ct],t)}return Ie}function vw(n,e,t,i,r){Ww(e,n,t,r?"class":"style",i)}function B(n,e,t,i){let r=Se(),o=r[se],s=n+Nt,a=o.firstCreatePass?Zw(s,r,2,e,Hw,qf(),t,i):o.data[s];if(qw(a,r,n,e,pM),lc(a)){let c=r[se];km(c,r,a),Dw(c,a,r)}return i!=null&&Od(r,a),B}function U(){let n=St(),e=Kt(),t=Gw(e);return n.firstCreatePass&&Jw(n,t),Ib(t)&&Cb(),wb(),t.classesWithoutHost!=null&&KU(t)&&vw(n,t,Se(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&QU(t)&&vw(n,t,Se(),t.stylesWithoutHost,!1),U}function vt(n,e,t,i){return B(n,e,t,i),U(),vt}function Fn(n,e,t,i){let r=Se(),o=r[se],s=n+Nt,a=o.firstCreatePass?_H(s,o,2,e,t,i):o.data[s];return qw(a,r,n,e,pM),i!=null&&Od(r,a),Fn}function Ln(){let n=Kt(),e=Gw(n);return Ib(e)&&Cb(),wb(),Ln}function hi(n,e,t,i){return Fn(n,e,t,i),Ln(),hi}var pM=(n,e,t,i,r)=>(Id(!0),mR(e[ct],i,YA()));function uE(n,e,t){let i=Se(),r=i[se],o=n+Nt,s=r.firstCreatePass?Zw(o,i,8,"ng-container",Hw,qf(),e,t):r.data[o];if(qw(s,i,n,"ng-container",s4),lc(s)){let a=i[se];km(a,i,s),Dw(a,s,i)}return t!=null&&Od(i,s),uE}function hE(){let n=St(),e=Kt(),t=Gw(e);return n.firstCreatePass&&Jw(n,t),hE}function Bo(n,e,t){return uE(n,e,t),hE(),Bo}var s4=(n,e,t,i,r)=>(Id(!0),Uz(e[ct],""));function an(){return Se()}function ir(n,e,t){let i=Se(),r=zs();if(er(i,r,e)){let o=St(),s=wd();PR(s,i,n,e,i[ct],t)}return ir}var Vd="en-US";var a4=Vd;function gM(n){typeof n=="string"&&(a4=n.toLowerCase().replace(/_/g,"-"))}function xe(n,e,t){let i=Se(),r=St(),o=Kt();return _M(r,i,i[ct],o,n,e,t),xe}function _M(n,e,t,i,r,o,s){let a=!0,c=null;if((i.type&3||s)&&(c??=Bb(i,e,o),yH(i,n,e,s,t,r,o,c)&&(a=!1)),a){let d=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let f=0;f<u.length;f+=2){let p=u[f],g=u[f+1];c??=Bb(i,e,o),Tk(i,e,p,g,r,c)}if(d&&d.length)for(let f of d)c??=Bb(i,e,o),Tk(i,e,f,r,r,c)}}function $e(n=1){return QA(n)}function c4(n,e){let t=null,i=Xz(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?ER(n,o,!0):e$(i,o))return r}return t}function It(n){let e=Se()[Nn][In];if(!e.projection){let t=n?n.length:1,i=e.projection=wA(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?c4(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Be(n,e=0,t,i,r,o){let s=Se(),a=St(),c=i?n+1:null;c!==null&&oE(s,a,c,i,r,o,null,t);let d=Ic(a,Nt+n,16,null,t||null);d.projection===null&&(d.projection=e),Sb();let f=!s[sc]||Eb();s[Nn][In].projection[d.projection]===null&&c!==null?l4(s,a,c):f&&!Cm(d)&&w$(a,s,d)}function l4(n,e,t){let i=Nt+t,r=e.data[i],o=n[i],s=lw(o,r.tView.ssrId),a=Qw(n,r,void 0,{dehydratedView:s});Xw(o,a,0,fm(r,s))}function Qn(n,e,t,i){return oM(n,e,t,i),Qn}function cn(n,e,t){return rM(n,e,t),cn}function Le(n){let e=Se(),t=St(),i=Kf();bd(i+1);let r=nE(t,i);if(n.dirty&&RA(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=aM(e,i);n.reset(o,Zk),n.notifyOnChanges()}return!0}return!1}function Ve(){return tE(Se(),Kf())}function Lm(n,e,t,i,r){return lM(e,oM(n,t,i,r)),Lm}function Vm(n,e,t,i){return lM(n,rM(e,t,i)),Vm}function jm(n=1){bd(Kf()+n)}function ki(n){let e=jA();return kA(e,Nt+n)}function im(n,e){return n<<17|e<<2}function Gs(n){return n>>17&32767}function d4(n){return(n&2)==2}function u4(n,e){return n&131071|e<<17}function yw(n){return n|2}function vc(n){return(n&131068)>>2}function $b(n,e){return n&-131069|e<<2}function h4(n){return(n&1)===1}function bw(n){return n|1}function f4(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Gs(s),c=vc(s);n[i]=t;let d=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||rc(f,u)>0)&&(d=!0)}else u=t;if(r)if(c!==0){let p=Gs(n[a+1]);n[i+1]=im(p,a),p!==0&&(n[p+1]=$b(n[p+1],i)),n[a+1]=u4(n[a+1],i)}else n[i+1]=im(a,0),a!==0&&(n[a+1]=$b(n[a+1],i)),a=i;else n[i+1]=im(c,0),a===0?a=i:n[c+1]=$b(n[c+1],i),c=i;d&&(n[i+1]=yw(n[i+1])),Rk(n,u,i,!0),Rk(n,u,i,!1),m4(e,u,n,i,o),s=im(a,c),o?e.classBindings=s:e.styleBindings=s}function m4(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&rc(o,e)>=0&&(t[i+1]=bw(t[i+1]))}function Rk(n,e,t,i){let r=n[t+1],o=e===null,s=i?Gs(r):vc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],d=n[s+1];p4(c,e)&&(a=!0,n[s+1]=i?bw(d):yw(d)),s=i?Gs(d):vc(d)}a&&(n[t+1]=i?yw(r):bw(r))}function p4(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?rc(n,e)>=0:!1}var Si={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g4(n){return n.substring(Si.key,Si.keyEnd)}function _4(n){return v4(n),vM(n,yM(n,0,Si.textEnd))}function vM(n,e){let t=Si.textEnd;return t===e?-1:(e=Si.keyEnd=y4(n,Si.key=e,t),yM(n,e,t))}function v4(n){Si.key=0,Si.keyEnd=0,Si.value=0,Si.valueEnd=0,Si.textEnd=n.length}function yM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function y4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ne(n,e){return w4(n,e,null,!0),Ne}function Ks(n){E4(x4,b4,n,!0)}function b4(n,e){for(let t=_4(e);t>=0;t=vM(e,t))Bf(n,g4(e),!0)}function w4(n,e,t,i){let r=Se(),o=St(),s=Gf(2);if(o.firstUpdatePass&&wM(o,n,s,i),e!==Wn&&er(r,s,e)){let a=o.data[Or()];EM(o,a,r,r[ct],n,r[s+1]=k4(e,t),i,s)}}function E4(n,e,t,i){let r=St(),o=Gf(2);r.firstUpdatePass&&wM(r,null,o,i);let s=Se();if(t!==Wn&&er(s,o,t)){let a=r.data[Or()];if(IM(a,i)&&!bM(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Of(c,t||"")),vw(r,a,s,t,i)}else A4(r,a,s,s[ct],s[o+1],s[o+1]=S4(n,e,t),i,o)}}function bM(n,e){return e>=n.expandoStartIndex}function wM(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Or()],s=bM(n,t);IM(o,i)&&e===null&&!s&&(e=!1),e=I4(r,o,e,i),f4(r,o,e,t,s,i)}}function I4(n,e,t,i){let r=qA(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Hb(null,n,e,t,i),t=Rd(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Hb(r,n,e,t,i),o===null){let c=C4(n,e,i);c!==void 0&&Array.isArray(c)&&(c=Hb(null,n,e,c[1],i),c=Rd(c,e.attrs,i),D4(n,e,i,c))}else o=T4(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function C4(n,e,t){let i=t?e.classBindings:e.styleBindings;if(vc(i)!==0)return n[Gs(i)]}function D4(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Gs(r)]=i}function T4(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Rd(i,s,t)}return Rd(i,e.attrs,t)}function Hb(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Rd(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Rd(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Bf(n,s,t?!0:e[++o]))}return n===void 0?null:n}function S4(n,e,t){if(t==null||t==="")return mn;let i=[],r=Ai(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function x4(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Bf(n,i,t)}function A4(n,e,t,i,r,o,s,a){r===Wn&&(r=mn);let c=0,d=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let p=c<r.length?r[c+1]:void 0,g=d<o.length?o[d+1]:void 0,b=null,D;u===f?(c+=2,d+=2,p!==g&&(b=f,D=g)):f===null||u!==null&&u<f?(c+=2,b=u):(d+=2,b=f,D=g),b!==null&&EM(n,e,t,i,b,D,s,a),u=c<r.length?r[c]:null,f=d<o.length?o[d]:null}}function EM(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,d=c[a+1],u=h4(d)?Mk(c,e,t,r,vc(d),s):void 0;if(!wm(u)){wm(o)||d4(d)&&(o=Mk(c,null,t,r,a,s));let f=pb(Or(),t);I$(i,s,f,r,o)}}function Mk(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],d=Array.isArray(c),u=d?c[1]:c,f=u===null,p=t[r+1];p===Wn&&(p=f?mn:void 0);let g=f?Uf(p,i):u===i?p:void 0;if(d&&!wm(g)&&(g=Uf(c,i)),wm(g)&&(a=g,s))return a;let b=n[r+1];r=s?Gs(b):vc(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Uf(c,i))}return a}function wm(n){return n!==void 0}function k4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nr(Ai(n)))),n}function IM(n,e){return(n.flags&(e?8:16))!==0}function we(n,e=""){let t=Se(),i=St(),r=n+Nt,o=i.firstCreatePass?Ic(i,r,1,e,null):i.data[r],s=R4(i,t,o,e,n);t[r]=s,Xf()&&zw(i,t,s,o),uc(o,!1)}var R4=(n,e,t,i,r)=>(Id(!0),jz(e[ct],i));function CM(n,e,t,i=""){return er(n,zs(),t)?e+Ps(t)+i:Wn}function M4(n,e,t,i,r,o=""){let s=BA(),a=vH(n,s,t,r);return Gf(2),a?e+Ps(t)+i+Ps(r)+o:Wn}function Ri(n){return gn("",n),Ri}function gn(n,e,t){let i=Se(),r=CM(i,n,e,t);return r!==Wn&&DM(i,Or(),r),gn}function Bm(n,e,t,i,r){let o=Se(),s=M4(o,n,e,t,i,r);return s!==Wn&&DM(o,Or(),s),Bm}function DM(n,e,t){let i=pb(e,n);Bz(n[ct],i,t)}function Um(n,e,t){sE(e)&&(e=e());let i=Se(),r=zs();if(er(i,r,e)){let o=St(),s=wd();NR(s,i,n,e,i[ct],t)}return Um}function fE(n,e){let t=sE(n);return t&&n.set(e),t}function zm(n,e){let t=Se(),i=St(),r=Kt();return _M(i,t,t[ct],r,n,e),zm}function mE(n,e,t=""){return CM(Se(),n,e,t)}function Nk(n,e,t){let i=St();i.firstCreatePass&&TM(e,i.data,i.blueprint,Yi(n),t)}function TM(n,e,t,i,r){if(n=tn(n),Array.isArray(n))for(let o=0;o<n.length;o++)TM(n[o],e,t,i,r);else{let o=St(),s=Se(),a=Kt(),c=Rs(n)?n:tn(n.provide),d=db(n),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Rs(n)||!n.multi){let g=new Hs(d,r,Me,null),b=Gb(c,e,r?u:u+p,f);b===-1?(Kb(um(a,s),o,c),qb(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=Gb(c,e,u+p,f),b=Gb(c,e,u,u+p),D=g>=0&&t[g],T=b>=0&&t[b];if(r&&!T||!r&&!D){Kb(um(a,s),o,c);let R=O4(r?P4:N4,t.length,r,i,d,n);!r&&T&&(t[b].providerFactory=R),qb(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(R),s.push(R)}else{let R=SM(t[r?b:g],d,!r&&i);qb(o,n,g>-1?g:b,R)}!r&&i&&T&&t[b].componentProviders++}}}function qb(n,e,t,i){let r=Rs(e),o=TA(e);if(r||o){let c=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=d.indexOf(t);u===-1?d.push(t,[i,c]):d[u+1].push(i,c)}else d.push(t,c)}}}function SM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Gb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function N4(n,e,t,i,r){return ww(this.multi,[])}function P4(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Sd(i,i[se],this.providerFactory.index,r);s=c.slice(0,a),ww(o,s);for(let d=a;d<c.length;d++)s.push(c[d])}else s=[],ww(o,s);return s}function ww(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function O4(n,e,t,i,r,o){let s=new Hs(n,t,Me,null);return s.multi=[],s.index=e,s.componentProviders=0,SM(s,r,i&&!t),s}function mt(n,e){return t=>{t.providersResolver=(i,r)=>Nk(i,r?r(n):n,!1),e&&(t.viewProvidersResolver=(i,r)=>Nk(i,r?r(e):e,!0))}}function Cc(n,e){return Rm(n,e)}var Em=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},pE=(()=>{class n{compileModuleSync(t){return new bm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=tb(t),o=bR(r.declarations).reduce((s,a)=>{let c=Pr(a);return c&&s.push(new qs(c)),s},[]);return new Em(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xM=(()=>{class n{applicationErrorHandler=v(ui);appRef=v(Kn);taskService=v(Fr);ngZone=v(Q);zonelessEnabled=v(Cd);tracing=v(tr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Fb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Nb:Mb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AM(){return[{provide:Gi,useExisting:xM},{provide:Q,useClass:ud},{provide:Cd,useValue:!0}]}function F4(){return typeof $localize<"u"&&$localize.locale||Vd}var $m=new M("",{factory:()=>v($m,{optional:!0,skipSelf:!0})||F4()});function Yn(n,e){return Ql(n,e?.equal)}var FM=Symbol("InputSignalNode#UNSET"),t3=de(N({},Xl),{transformFn:void 0,applyValueToInputSignal(n,e){Yl(n,e)}});function LM(n,e){let t=Object.create(t3);t.value=n,t.transformFn=e?.transform;function i(){if(Ha(t),t.value===FM){let r=null;throw new O(-950,r)}return t.value}return i[qt]=t,i}var fi=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Md(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function kM(n,e){return LM(n,e)}function n3(n){return LM(FM,n)}var VM=(kM.required=n3,kM);function RM(n,e){return iE(e)}function i3(n,e){return rE(e)}var Bd=(RM.required=i3,RM);function MM(n,e){return iE(e)}function r3(n,e){return rE(e)}var jM=(MM.required=r3,MM);var _E=new M(""),o3=new M("");function jd(n){return!n.moduleRef}function s3(n){let e=jd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Q);return t.run(()=>{jd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ui),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),jd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(_E);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(_E);s.add(o),n.moduleRef.onDestroy(()=>{Td(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return c3(i,t,()=>{let o=e.get(Fr),s=o.add(),a=e.get(lE);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get($m,Vd);if(gM(c||Vd),!e.get(o3,!0))return jd(n)?e.get(Kn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(jd(n)){let u=e.get(Kn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return a3?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var a3;function c3(n,e,t){try{let i=t();return jo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var Hm=null;function l3(n=[],e){return ye.create({name:e,providers:[{provide:md,useValue:"platform"},{provide:_E,useValue:new Set([()=>Hm=null])},...n]})}function d3(n=[]){if(Hm)return Hm;let e=l3(n);return Hm=e,fM(),u3(e),e}function u3(n){let e=n.get(Im,null);ht(n,()=>{e?.forEach(t=>t())})}function IE(){return!1}var zt=(()=>{class n{static __NG_ELEMENT_ID__=h3}return n})();function h3(n){return f3(Kt(),Se(),(n&16)===16)}function f3(n,e,t){if(Oo(n)&&!t){let i=di(n.index,e);return new Lo(i,i)}else if(n.type&175){let i=e[Nn];return new Lo(i,e)}return null}var vE=class{constructor(){}supports(e){return eE(e)}create(e){return new yE(e)}},m3=(n,e)=>e,yE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||m3}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<NM(i,r,o)?t:i,a=NM(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,u=c-r;if(d!=u){for(let p=0;p<d;p++){let g=p<o.length?o[p]:o[p]=0,b=g+p;u<=b&&b<d&&(o[p]=g+1)}let f=s.previousIndex;o[f]=u-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!eE(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,YR(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new bE(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new qm),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},bE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},wE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},qm=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new wE,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NM(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function PM(){return new Ys([new vE])}var Ys=(()=>{class n{factories;static \u0275prov=P({token:n,providedIn:"root",factory:PM});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=v(n,{optional:!0,skipSelf:!0});return n.create(t,i||PM())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new O(901,!1)}}return n})();function BM(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;Qe(qe.BootstrapApplicationStart);try{let o=r?.injector??d3(i),s=[AM(),ek,...t||[]],a=new kd({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return s3({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Qe(qe.BootstrapApplicationEnd)}}function ue(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Xn(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var gE=Symbol("NOT_SET"),UM=new Set,p3=de(N({},Xl),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:gE,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==gE&&!Ga(this))return this.signal;try{for(let r of this.cleanup??UM)r()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=bs(this),i;try{i=this.userFn.apply(null,e)}finally{qa(this,t)}return(this.value===gE||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),EE=class extends xd{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(e,t,i,r,o,s=null){super(e,[void 0,void 0,void 0,void 0],i,!1,o.get(Cn),s),this.scheduler=r;for(let a of Vw){let c=t[a];if(c===void 0)continue;let d=Object.create(p3);d.sequence=this,d.phase=a,d.userFn=c,d.dirty=!0,d.signal=()=>(Ha(d),d.value),d.signal[qt]=d,d.registerCleanupFn=u=>(d.cleanup??=new Set).add(u),this.nodes[a]=d,this.hooks[a]=u=>d.phaseFn(u)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??UM)t()}finally{bo(e)}}};function zM(n,e){let t=e?.injector??v(ye),i=t.get(Gi),r=t.get(xm),o=t.get(tr,null,{optional:!0});r.impl??=t.get(jw);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(hc,null,{optional:!0}),c=new EE(r.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,i,t,o?.snapshot(null));return r.impl.register(c),c}function Gm(n,e){let t=Pr(n),i=e.elementInjector||oc();return new qs(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var $M=null;function mi(){return $M}function CE(n){$M??=n}var Ud=class{},Dc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(HM),providedIn:"platform"})}return n})();var HM=(()=>{class n extends Dc{_location;_history;_doc=v(me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(t){let i=mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function WM(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function qM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Uo(n){return n&&n[0]!=="?"?`?${n}`:n}var Tc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(_3),providedIn:"root"})}return n})(),g3=new M(""),_3=(()=>{class n extends Tc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WM(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Uo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Uo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Uo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(X(Dc),X(g3,8))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zo=(()=>{class n{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=b3(qM(GM(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Uo(i))}normalize(t){return n.stripTrailingSlash(y3(this._basePath,GM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Uo;static joinWithSlash=WM;static stripTrailingSlash=qM;static \u0275fac=function(i){return new(i||n)(X(Tc))};static \u0275prov=P({token:n,factory:()=>v3(),providedIn:"root"})}return n})();function v3(){return new zo(X(Tc))}function y3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function GM(n){return n.replace(/\/index.html$/,"")}function b3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var DE=/\s+/,KM=[],TE=(()=>{class n{_ngEl;_renderer;initialClasses=KM;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(DE):KM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(DE):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(DE).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(Me(be),Me(Ut))};static \u0275dir=te({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Wm=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qm=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Wm(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),QM(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);QM(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(Me(Qt),Me(Pn),Me(Ys))};static \u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function QM(n,e){n.context.$implicit=e.item}var qr=(()=>{class n{_viewContainer;_context=new Km;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(Me(Qt),Me(Pn))};static \u0275dir=te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Km=class{$implicit=null;ngIf=null};function YM(n,e){if(n&&!n.createEmbeddedView)throw new O(2020,!1)}var SE=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(Me(Qt))};static \u0275dir=te({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[rn]})}return n})();var Vn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})();function zd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Xs=class{};var xE="browser";function XM(n){return n===xE}var $d=class{_doc;constructor(e){this._doc=e}manager},Ym=(()=>{class n extends $d{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(X(me))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Jm=new M(""),ME=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof Ym));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof Ym);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(X(Jm),X(Q))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),AE="ng-app-id";function ZM(n){for(let e of n)e.remove()}function JM(n,e){let t=e.createElement("style");return t.textContent=n,t}function w3(n,e,t,i){let r=n.head?.querySelectorAll(`style[${AE}="${e}"],link[${AE}="${e}"]`);if(r)for(let o of r)o.removeAttribute(AE),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function RE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var NE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,w3(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,JM);i?.forEach(r=>this.addUsage(r,this.external,RE))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(ZM(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ZM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,JM(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,RE(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(X(me),X(wc),X(Ec,8),X(Ur))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),kE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},PE=/%COMP%/g;var tN="%COMP%",E3=`_nghost-${tN}`,I3=`_ngcontent-${tN}`,C3=!0,D3=new M("",{factory:()=>C3});function T3(n){return I3.replace(PE,n)}function S3(n){return E3.replace(PE,n)}function nN(n,e){return e.map(t=>t.replace(PE,n))}var Gd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,i,r,o,s,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Hd(t,s,a,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof Zm?r.applyToHost(t):r instanceof qd&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(i.encapsulation){case xi.Emulated:o=new Zm(c,d,i,this.appId,u,s,a,f);break;case xi.ShadowDom:return new Xm(c,t,i,s,a,this.nonce,f,d);case xi.ExperimentalIsolatedShadowDom:return new Xm(c,t,i,s,a,this.nonce,f);default:o=new qd(c,d,i,u,s,a,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(X(ME),X(NE),X(wc),X(D3),X(me),X(Q),X(Ec),X(tr,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),Hd=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(kE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(eN(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(eN(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=kE[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=kE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ji.DashCase|Ji.Important)?e.style.setProperty(t,i,r&Ji.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ji.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=mi().getGlobalEventTarget(this.doc,e),!e))throw new O(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function eN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xm=class extends Hd{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,i,r,o,s,a,c){super(e,r,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=nN(i.id,d);for(let f of d){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=f,this.shadowRoot.appendChild(p)}let u=i.getExternalStyles?.();if(u)for(let f of u){let p=RE(f,r);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},qd=class extends Hd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?nN(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&_c.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zm=class extends qd{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,c){let d=r+"-"+i.id;super(e,t,i,o,s,a,c,d),this.contentAttr=T3(d),this.hostAttr=S3(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var ep=class n extends Ud{supportsDOMEvents=!0;static makeCurrent(){CE(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=x3();return t==null?null:A3(t)}resetBaseElement(){Wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zd(document.cookie,e)}},Wd=null;function x3(){return Wd=Wd||document.head.querySelector("base"),Wd?Wd.getAttribute("href"):null}function A3(n){return new URL(n,document.baseURI).pathname}var k3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),iN=["alt","control","meta","shift"],R3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rN=(()=>{class n extends $d{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),iN.forEach(d=>{let u=i.indexOf(d);u>-1&&(i.splice(u,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=R3[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),iN.forEach(s=>{if(s!==r){let a=M3[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(X(me))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function OE(n,e,t){let i=N({rootComponent:n,platformRef:t?.platformRef},N3(e));return BM(i)}function N3(n){return{appProviders:[...V3,...n?.providers??[]],platformProviders:L3}}function P3(){ep.makeCurrent()}function O3(){return new Rn}function F3(){return Cw(document),document}var L3=[{provide:Ur,useValue:xE},{provide:Im,useValue:P3,multi:!0},{provide:me,useFactory:F3}];var V3=[{provide:md,useValue:"root"},{provide:Rn,useFactory:O3},{provide:Jm,useClass:Ym,multi:!0},{provide:Jm,useClass:rN,multi:!0},Gd,NE,ME,{provide:Ft,useExisting:Gd},{provide:Xs,useClass:k3},[]];var $o=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var np=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},ip=class{encodeKey(e){return oN(e)}encodeValue(e){return oN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j3(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var B3=/%(\d[a-f0-9])/gi,U3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oN(n){return encodeURIComponent(n).replace(B3,(e,t)=>U3[t]??e)}function tp(n){return`${n}`}var Gr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ip,e.fromString){if(e.fromObject)throw new O(2805,!1);this.map=j3(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(tp):[tp(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(tp(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(tp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function z3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aN(n){return typeof Blob<"u"&&n instanceof Blob}function cN(n){return typeof FormData<"u"&&n instanceof FormData}function $3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var lN="Content-Type",dN="Accept",hN="text/plain",fN="application/json",H3=`${fN}, ${hN}, */*`,xc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(z3(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new O(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new $o,this.context??=new np,!this.params)this.params=new Gr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sN(this.body)||aN(this.body)||cN(this.body)||$3(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cN(this.body)?null:aN(this.body)?this.body.type||null:sN(this.body)?null:typeof this.body=="string"?hN:this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?fN:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,u=e.credentials||this.credentials,f=e.referrer||this.referrer,p=e.integrity||this.integrity,g=e.referrerPolicy||this.referrerPolicy,b=e.transferCache??this.transferCache,D=e.timeout??this.timeout,T=e.body!==void 0?e.body:this.body,R=e.withCredentials??this.withCredentials,V=e.reportProgress??this.reportProgress,H=e.headers||this.headers,G=e.params||this.params,tt=e.context??this.context;return e.setHeaders!==void 0&&(H=Object.keys(e.setHeaders).reduce((ge,I)=>ge.set(I,e.setHeaders[I]),H)),e.setParams&&(G=Object.keys(e.setParams).reduce((ge,I)=>ge.set(I,e.setParams[I]),G)),new n(t,i,T,{params:G,headers:H,context:tt,reportProgress:V,responseType:r,withCredentials:R,transferCache:b,keepalive:o,cache:a,priority:s,timeout:D,mode:c,redirect:d,credentials:u,referrer:f,integrity:p,referrerPolicy:g})}},Zs=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Zs||{}),kc=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,i="OK"){this.headers=e.headers||new $o,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},rp=class n extends kc{constructor(e={}){super(e)}type=Zs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Kd=class n extends kc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Zs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Ac=class extends kc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},q3=200,G3=204;var W3=new M("");var K3=/^\)\]\}',?\n/;var LE=(()=>{class n{xhrFactory;tracingService=v(tr,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return z(null).pipe(Mt(()=>new oe(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,R)=>s.setRequestHeader(T,R.join(","))),t.headers.has(dN)||s.setRequestHeader(dN,H3),!t.headers.has(lN)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(lN,T)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),c=null,d=()=>{if(c!==null)return c;let T=s.statusText||"OK",R=new $o(s.getAllResponseHeaders()),V=s.responseURL||t.url;return c=new rp({headers:R,status:s.status,statusText:T,url:V}),c},u=this.maybePropagateTrace(()=>{let{headers:T,status:R,statusText:V,url:H}=d(),G=null;R!==G3&&(G=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=G?q3:0);let tt=R>=200&&R<300;if(t.responseType==="json"&&typeof G=="string"){let ge=G;G=G.replace(K3,"");try{G=G!==""?JSON.parse(G):null}catch(I){G=ge,tt&&(tt=!1,G={error:I,text:G})}}tt?(o.next(new Kd({body:G,headers:T,status:R,statusText:V,url:H||void 0})),o.complete()):o.error(new Ac({error:G,headers:T,status:R,statusText:V,url:H||void 0}))}),f=this.maybePropagateTrace(T=>{let{url:R}=d(),V=new Ac({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)}),p=f;t.timeout&&(p=this.maybePropagateTrace(T=>{let{url:R}=d(),V=new Ac({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:R||void 0});o.error(V)}));let g=!1,b=this.maybePropagateTrace(T=>{g||(o.next(d()),g=!0);let R={type:Zs.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(R.total=T.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)}),D=this.maybePropagateTrace(T=>{let R={type:Zs.UploadProgress,loaded:T.loaded};T.lengthComputable&&(R.total=T.total),o.next(R)});return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",p),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Zs.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(X(Xs))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mN(n,e){return e(n)}function Q3(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function Y3(n,e,t){return(i,r)=>ht(t,()=>e(i,o=>n(o,r)))}var pN=new M(""),VE=new M("",{factory:()=>[]}),gN=new M(""),jE=new M("",{factory:()=>!0});function X3(){let n=null;return(e,t)=>{n===null&&(n=(v(pN,{optional:!0})??[]).reduceRight(Q3,mN));let i=v(Lr);if(v(jE)){let o=i.add();return n(e,t).pipe(Do(o))}else return n(e,t)}}var BE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=X(LE),r},providedIn:"root"})}return n})();var op=(()=>{class n{backend;injector;chain=null;pendingTasks=v(Lr);contributeToStability=v(jE);constructor(t,i){this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(VE),...this.injector.get(gN,[])]));this.chain=i.reduceRight((r,o)=>Y3(r,o,this.injector),mN)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Do(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(X(BE),X(Je))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=X(op),r},providedIn:"root"})}return n})();function FE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var Ho=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof xc)o=t;else{let c;r.headers instanceof $o?c=r.headers:c=new $o(r.headers);let d;r.params&&(r.params instanceof Gr?d=r.params:d=new Gr({fromObject:r.params})),o=new xc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=z(o).pipe(kr(c=>this.handler.handle(c)));if(t instanceof xc||r.observe==="events")return s;let a=s.pipe(Ze(c=>c instanceof Kd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new O(2806,!1);return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new O(2807,!1);return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new O(2808,!1);return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new O(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Gr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,FE(r,i))}post(t,i,r={}){return this.request("POST",t,FE(r,i))}put(t,i,r={}){return this.request("PUT",t,FE(r,i))}static \u0275fac=function(i){return new(i||n)(X(UE))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z3=new M("",{factory:()=>!0}),J3="XSRF-TOKEN",eq=new M("",{factory:()=>J3}),tq="X-XSRF-TOKEN",nq=new M("",{providedIn:"root",factory:()=>tq}),iq=(()=>{class n{cookieName=v(eq);doc=v(me);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_N=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=X(iq),r},providedIn:"root"})}return n})();function rq(n,e){if(!v(Z3)||n.method==="GET"||n.method==="HEAD")return e(n);try{let r=v(Dc).href,{origin:o}=new URL(r),{origin:s}=new URL(n.url,o);if(o!==s)return e(n)}catch{return e(n)}let t=v(_N).getToken(),i=v(nq);return t!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,t)})),e(n)}var zE=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(zE||{});function oq(n,e){return{\u0275kind:n,\u0275providers:e}}function vN(...n){let e=[Ho,op,{provide:UE,useExisting:op},{provide:BE,useFactory:()=>v(W3,{optional:!0})??v(LE)},{provide:VE,useValue:rq,multi:!0}];for(let t of n)e.push(...t.\u0275providers);return Mn(e)}var uN=new M("");function yN(){return oq(zE.LegacyInterceptors,[{provide:uN,useFactory:X3},{provide:VE,useExisting:uN,multi:!0}])}var Qd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({providers:[vN(yN())]})}return n})();var wN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(X(me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=X(sq),r},providedIn:"root"})}return n})(),sq=(()=>{class n extends Yd{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case sn.NONE:return i;case sn.HTML:return zr(i,"HTML")?Ai(i):Rw(this._doc,String(i)).toString();case sn.STYLE:return zr(i,"Style")?Ai(i):i;case sn.SCRIPT:if(zr(i,"Script"))return Ai(i);throw new O(5200,!1);case sn.URL:return zr(i,"URL")?Ai(i):Nd(String(i));case sn.RESOURCE_URL:if(zr(i,"ResourceURL"))return Ai(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return Tw(t)}bypassSecurityTrustStyle(t){return Sw(t)}bypassSecurityTrustScript(t){return xw(t)}bypassSecurityTrustUrl(t){return Aw(t)}bypassSecurityTrustResourceUrl(t){return kw(t)}static \u0275fac=function(i){return new(i||n)(X(me))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ce="primary",lu=Symbol("RouteTitle"),WE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function na(n){return new WE(n)}function RN(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function up(n){return new Promise((e,t)=>{n.pipe(Rr()).subscribe({next:i=>e(i),error:i=>t(i)})})}function aq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rr(n[t],e[t]))return!1;return!0}function rr(n,e){let t=n?KE(n):void 0,i=e?KE(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!MN(n[r],e[r]))return!1;return!0}function KE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function NN(n){return n.length>0?n[n.length-1]:null}function ra(n){return oi(n)?n:jo(n)?bt(Promise.resolve(n)):z(n)}function PN(n){return oi(n)?up(n):Promise.resolve(n)}var cq={exact:FN,subset:LN},ON={exact:lq,subset:dq,ignored:()=>!0};function IN(n,e,t){return cq[t.paths](n.root,e.root,t.matrixParams)&&ON[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lq(n,e){return rr(n,e)}function FN(n,e,t){if(!ea(n.segments,e.segments)||!cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!FN(n.children[i],e.children[i],t))return!1;return!0}function dq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MN(n[t],e[t]))}function LN(n,e,t){return VN(n,e,e.segments,t)}function VN(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!ea(r,t)||e.hasChildren()||!cp(r,t,i))}else if(n.segments.length===t.length){if(!ea(n.segments,t)||!cp(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!LN(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ea(n.segments,r)||!cp(n.segments,r,i)||!n.children[Ce]?!1:VN(n.children[Ce],e,o,i)}}function cp(n,e,t){return e.every((i,r)=>ON[t](n[r].parameters,i.parameters))}var Ni=class{root;queryParams;fragment;_queryParamMap;constructor(e=new We([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=na(this.queryParams),this._queryParamMap}toString(){return fq.serialize(this)}},We=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}},qo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=na(this.parameters),this._parameterMap}toString(){return BN(this)}};function uq(n,e){return ea(n,e)&&n.every((t,i)=>rr(t.parameters,e[i].parameters))}function ea(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function hq(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ce&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ce&&(t=t.concat(e(r,i)))}),t}var du=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>new Go,providedIn:"root"})}return n})(),Go=class{parse(e){let t=new YE(e);return new Ni(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xd(e.root,!0)}`,i=gq(e.queryParams),r=typeof e.fragment=="string"?`#${mq(e.fragment)}`:"";return`${t}${i}${r}`}},fq=new Go;function lp(n){return n.segments.map(e=>BN(e)).join("/")}function Xd(n,e){if(!n.hasChildren())return lp(n);if(e){let t=n.children[Ce]?Xd(n.children[Ce],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ce&&i.push(`${r}:${Xd(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=hq(n,(i,r)=>r===Ce?[Xd(n.children[Ce],!1)]:[`${r}:${Xd(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ce]!=null?`${lp(n)}/${t[0]}`:`${lp(n)}/(${t.join("//")})`}}function jN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(n){return jN(n).replace(/%3B/gi,";")}function mq(n){return encodeURI(n)}function QE(n){return jN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(n){return decodeURIComponent(n)}function CN(n){return dp(n.replace(/\+/g,"%20"))}function BN(n){return`${QE(n.path)}${pq(n.parameters)}`}function pq(n){return Object.entries(n).map(([e,t])=>`;${QE(e)}=${QE(t)}`).join("")}function gq(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${sp(t)}=${sp(r)}`).join("&"):`${sp(t)}=${sp(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _q=/^[^\/()?;#]+/;function $E(n){let e=n.match(_q);return e?e[0]:""}var vq=/^[^\/()?;=#]+/;function yq(n){let e=n.match(vq);return e?e[0]:""}var bq=/^[^=?&#]+/;function wq(n){let e=n.match(bq);return e?e[0]:""}var Eq=/^[^&#]+/;function Iq(n){let e=n.match(Eq);return e?e[0]:""}var YE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ce]=new We(e,t)),i}parseSegment(){let e=$E(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new qo(dp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=yq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=$E(this.remaining);r&&(i=r,this.capture(i))}e[dp(t)]=dp(i)}parseQueryParam(e){let t=wq(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=Iq(this.remaining);s&&(i=s,this.capture(i))}let r=CN(t),o=CN(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=$E(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new O(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();t[o??Ce]=Object.keys(s).length===1&&s[Ce]?s[Ce]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function UN(n){return n.segments.length>0?new We([],{[Ce]:n}):n}function zN(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=zN(r);if(i===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new We(n.segments,e);return Cq(t)}function Cq(n){if(n.numberOfChildren===1&&n.children[Ce]){let e=n.children[Ce];return new We(n.segments.concat(e.segments),e.children)}return n}function Wo(n){return n instanceof Ni}function $N(n,e,t=null,i=null,r=new Go){let o=HN(n);return qN(o,e,t,i,r)}function HN(n){let e;function t(o){let s={};for(let c of o.children){let d=t(c);s[c.outlet]=d}let a=new We(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=UN(i);return e??r}function qN(n,e,t,i,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return HE(o,o,o,t,i,r);let s=Dq(e);if(s.toRoot())return HE(o,o,new We([],{}),t,i,r);let a=Tq(s,o,n),c=a.processChildren?Jd(a.segmentGroup,a.index,s.commands):WN(a.segmentGroup,a.index,s.commands);return HE(o,a.segmentGroup,c,t,i,r)}function hp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function nu(n){return typeof n=="object"&&n!=null&&n.outlets}function DN(n,e,t){n||="\u0275";let i=new Ni;return i.queryParams={[n]:e},t.parse(t.serialize(i)).queryParams[n]}function HE(n,e,t,i,r,o){let s={};for(let[d,u]of Object.entries(i??{}))s[d]=Array.isArray(u)?u.map(f=>DN(d,f,o)):DN(d,u,o);let a;n===e?a=t:a=GN(n,e,t);let c=UN(zN(a));return new Ni(c,s,r)}function GN(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=GN(o,e,t)}),new We(n.segments,i)}var fp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hp(i[0]))throw new O(4003,!1);let r=i.find(nu);if(r&&r!==NN(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fp(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new fp(t,e,i)}var Mc=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function Tq(n,e,t){if(n.isAbsolute)return new Mc(e,!0,0);if(!t)return new Mc(e,!1,NaN);if(t.parent===null)return new Mc(t,!0,0);let i=hp(n.commands[0])?0:1,r=t.segments.length-1+i;return Sq(t,r,n.numberOfDoubleDots)}function Sq(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new Mc(i,!1,r-o)}function xq(n){return nu(n[0])?n[0].outlets:{[Ce]:n}}function WN(n,e,t){if(n??=new We([],{}),n.segments.length===0&&n.hasChildren())return Jd(n,e,t);let i=Aq(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new We(n.segments.slice(0,i.pathIndex),{});return o.children[Ce]=new We(n.segments.slice(i.pathIndex),n.children),Jd(o,0,r)}else return i.match&&r.length===0?new We(n.segments,{}):i.match&&!n.hasChildren()?XE(n,e,t):i.match?Jd(n,0,r):XE(n,e,t)}function Jd(n,e,t){if(t.length===0)return new We(n.segments,{});{let i=xq(t),r={};if(Object.keys(i).some(o=>o!==Ce)&&n.children[Ce]&&n.numberOfChildren===1&&n.children[Ce].segments.length===0){let o=Jd(n.children[Ce],e,t);return new We(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=WN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new We(n.segments,r)}}function Aq(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(nu(a))break;let c=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!SN(c,d,s))return o;i+=2}else{if(!SN(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function XE(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(nu(o)){let c=kq(o.outlets);return new We(i,c)}if(r===0&&hp(t[0])){let c=n.segments[e];i.push(new qo(c.path,TN(t[0]))),r++;continue}let s=nu(o)?o.outlets[Ce]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&hp(a)?(i.push(new qo(s,TN(a))),r+=2):(i.push(new qo(s,{})),r++)}return new We(i,{})}function kq(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=XE(new We([],{}),0,i))}),e}function TN(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function SN(n,e,t){return n==t.path&&rr(e,t.parameters)}var eu="imperative",Yt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Yt||{}),Jn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ia=class extends Jn{type=Yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends Jn{urlAfterRedirects;type=Yt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Dn||{}),iu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(iu||{}),or=class extends Jn{reason;code;type=Yt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wr=class extends Jn{reason;code;type=Yt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Pc=class extends Jn{error;target;type=Yt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ru=class extends Jn{urlAfterRedirects;state;type=Yt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class extends Jn{urlAfterRedirects;state;type=Yt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends Jn{urlAfterRedirects;state;shouldActivate;type=Yt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gp=class extends Jn{urlAfterRedirects;state;type=Yt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class extends Jn{urlAfterRedirects;state;type=Yt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class{route;type=Yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yp=class{route;type=Yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bp=class{snapshot;type=Yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{snapshot;type=Yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ep=class{snapshot;type=Yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{snapshot;type=Yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ou=class{},Oc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rq(n){return!(n instanceof ou)&&!(n instanceof Oc)}function Mq(n,e){return n.providers&&!n._injector&&(n._injector=Ld(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mi(n){return n.outlet||Ce}function Nq(n,e){let t=n.filter(i=>Mi(i)===e);return t.push(...n.filter(i=>Mi(i)!==e)),t}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Cp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new jc(this.rootInjector)}},jc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Cp(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(X(Je))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ZE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=ZE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=JE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return JE(e,this._root).map(t=>t.value)}};function ZE(n,e){if(n===e.value)return e;for(let t of e.children){let i=ZE(n,t);if(i)return i}return null}function JE(n,e){if(n===e.value)return[e];for(let t of e.children){let i=JE(n,t);if(i.length)return i.unshift(e),i}return[]}var Zn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var su=class extends Dp{snapshot;constructor(e,t){super(e),this.snapshot=t,oI(this,e)}toString(){return this.snapshot.toString()}};function KN(n){let e=Pq(n),t=new it([new qo("",{})]),i=new it({}),r=new it({}),o=new it({}),s=new it(""),a=new Kr(t,i,o,s,r,Ce,n,e.root);return a.snapshot=e.root,new su(new Zn(a,[]),e)}function Pq(n){let e={},t={},i={},o=new ta([],e,i,"",t,Ce,n,null,{});return new au("",new Zn(o,[]))}var Kr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(d=>d[lu]))??z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>na(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>na(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tp(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),r?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},r&&YN(r)&&(i.resolve[lu]=r.title),i}var ta=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lu]}constructor(e,t,i,r,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=na(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=na(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},au=class extends Dp{url;constructor(e,t){super(t),this.url=e,oI(this,t)}toString(){return QN(this._root)}};function oI(n,e){e.value._routerState=n,e.children.forEach(t=>oI(n,t))}function QN(n){let e=n.children.length>0?` { ${n.children.map(QN).join(", ")} } `:"";return`${n.value}${e}`}function qE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),rr(e.params,t.params)||n.paramsSubject.next(t.params),aq(e.url,t.url)||n.urlSubject.next(t.url),rr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function eI(n,e){let t=rr(n.params,e.params)&&uq(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||eI(n.parent,e.parent))}function YN(n){return typeof n.title=="string"||n.title===null}var XN=new M(""),uu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ce;activateEvents=new Ee;deactivateEvents=new Ee;attachEvents=new Ee;detachEvents=new Ee;routerOutletData=VM();parentContexts=v(jc);location=v(Qt);changeDetector=v(zt);inputBinder=v(kp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tI(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rn]})}return n})(),tI=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Kr?this.route:e===jc?this.childContexts:e===XN?this.outletData:this.parent.get(e,t)}},kp=new M("");var sI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&vt(0,"router-outlet")},dependencies:[uu],encapsulation:2})}return n})();function aI(n){let e=n.children&&n.children.map(aI),t=e?de(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=sI),t}function Oq(n,e,t){let i=cu(n,e._root,t?t._root:void 0);return new su(i,e)}function cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Fq(n,e,t);return new Zn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cu(n,a)),s}}let i=Lq(e.value),r=e.children.map(o=>cu(n,o));return new Zn(i,r)}}function Fq(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cu(n,i,r);return cu(n,i)})}function Lq(n){return new Kr(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var Fc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ZN="ngNavigationCancelingError";function Sp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=JN(!1,Dn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function JN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ZN]=!0,t.cancellationCode=e,t}function Vq(n){return eP(n)&&Wo(n.url)}function eP(n){return!!n&&n[ZN]}var jq=(n,e,t,i)=>ee(r=>(new nI(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),nI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),qE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Rc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Rc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ip(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wp(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(qE(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},xp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Bq(n,e,t){let i=n._root,r=e?e._root:null;return Zd(i,r,t,[i.value])}function Uq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Bc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!Qy(n)?n:e.get(n):i}function Zd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rc(e);return n.children.forEach(s=>{zq(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tu(a,t.getContext(s),r)),r}function zq(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$q(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new xp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zd(n,e,a?a.children:null,i,r):Zd(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Nc(a.outlet.component,s))}else s&&tu(e,a,r),r.canActivateChecks.push(new xp(i)),o.component?Zd(n,null,a?a.children:null,i,r):Zd(n,null,t,i,r);return r}function $q(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ea(n.url,e.url)||!rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eI(n,e)||!rr(n.queryParams,e.queryParams);case"paramsChange":default:return!eI(n,e)}}function tu(n,e,t){let i=Rc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?tu(s,e.children.getContext(o),t):tu(s,null,t):tu(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Nc(e.outlet.component,r)):t.canDeactivateChecks.push(new Nc(null,r)):t.canDeactivateChecks.push(new Nc(null,r))}function hu(n){return typeof n=="function"}function Hq(n){return typeof n=="boolean"}function qq(n){return n&&hu(n.canLoad)}function Gq(n){return n&&hu(n.canActivate)}function Wq(n){return n&&hu(n.canActivateChild)}function Kq(n){return n&&hu(n.canDeactivate)}function Qq(n){return n&&hu(n.canMatch)}function tP(n){return n instanceof Ds||n?.name==="EmptyError"}var ap=Symbol("INITIAL_VALUE");function Lc(){return Mt(n=>Co(n.map(e=>e.pipe(st(1),si(ap)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===ap)return ap;if(t===!1||Yq(t))return t}return!0}),Ze(e=>e!==ap),st(1)))}function Yq(n){return Wo(n)||n instanceof Fc}function nP(n){return n.aborted?z(void 0).pipe(st(1)):new oe(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function iP(n){return ot(nP(n))}function Xq(n,e){return En(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(de(N({},t),{guardsResult:!0})):Zq(s,i,r,n).pipe(En(a=>a&&Hq(a)?Jq(i,o,n,e):z(a)),ee(a=>de(N({},t),{guardsResult:a})))})}function Zq(n,e,t,i){return bt(n).pipe(En(r=>rG(r.component,r.route,t,e,i)),Rr(r=>r!==!0,!0))}function Jq(n,e,t,i){return bt(e).pipe(kr(r=>xr(tG(r.route.parent,i),eG(r.route,i),iG(n,r.path,t),nG(n,r.route,t))),Rr(r=>r!==!0,!0))}function eG(n,e){return n!==null&&e&&e(new Ep(n)),z(!0)}function tG(n,e){return n!==null&&e&&e(new bp(n)),z(!0)}function nG(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(o=>Ts(()=>{let s=Vc(e)??t,a=Bc(o,s),c=Gq(a)?a.canActivate(e,n):ht(s,()=>a(e,n));return ra(c).pipe(Rr())}));return z(r).pipe(Lc())}function iG(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Uq(s)).filter(s=>s!==null).map(s=>Ts(()=>{let a=s.guards.map(c=>{let d=Vc(s.node)??t,u=Bc(c,d),f=Wq(u)?u.canActivateChild(i,n):ht(d,()=>u(i,n));return ra(f).pipe(Rr())});return z(a).pipe(Lc())}));return z(o).pipe(Lc())}function rG(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Vc(e)??r,d=Bc(a,c),u=Kq(d)?d.canDeactivate(n,e,t,i):ht(c,()=>d(n,e,t,i));return ra(u).pipe(Rr())});return z(s).pipe(Lc())}function oG(n,e,t,i,r){let o=e.canLoad;if(o===void 0||o.length===0)return z(!0);let s=o.map(a=>{let c=Bc(a,n),d=qq(c)?c.canLoad(e,t):ht(n,()=>c(e,t)),u=ra(d);return r?u.pipe(iP(r)):u});return z(s).pipe(Lc(),rP(i))}function rP(n){return wy(at(e=>{if(typeof e!="boolean")throw Sp(n,e)}),ee(e=>e===!0))}function sG(n,e,t,i,r){let o=e.canMatch;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Bc(a,n),d=Qq(c)?c.canMatch(e,t):ht(n,()=>c(e,t)),u=ra(d);return r?u.pipe(iP(r)):u});return z(s).pipe(Lc(),rP(i))}var Js=class oP extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,oP.prototype)}},iI=class sP extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,sP.prototype)}};function aG(n){throw new O(4e3,!1)}function cG(n){throw JN(!1,Dn.GuardRejected)}var lG=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[Ce])throw aG(`${e.redirectTo}`);r=r.children[Ce]}}async applyRedirectCommands(e,t,i,r,o){let s=await dG(t,r,o);if(s instanceof Ni)throw new iI(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new iI(a);return a}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ni(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new We(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function dG(n,e,t){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:d,data:u,title:f}=e;return up(ra(ht(t,()=>i({params:d,data:u,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:f}))))}var rI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uG(n,e,t,i,r,o){let s=aP(n,e,t);return s.matched?(i=Mq(e,i),sG(i,e,t,r,o).pipe(ee(a=>a===!0?s:N({},rI)))):z(s)}function aP(n,e,t){if(e.path==="**")return hG(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},rI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||RN)(t,n,e);if(!r)return N({},rI);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function hG(n){return{matched:!0,parameters:n.length>0?NN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xN(n,e,t,i){return t.length>0&&pG(n,t,i)?{segmentGroup:new We(e,mG(i,new We(t,n.children))),slicedSegments:[]}:t.length===0&&gG(n,t,i)?{segmentGroup:new We(n.segments,fG(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function fG(n,e,t,i){let r={};for(let o of t)if(Rp(n,e,o)&&!i[Mi(o)]){let s=new We([],{});r[Mi(o)]=s}return N(N({},i),r)}function mG(n,e){let t={};t[Ce]=e;for(let i of n)if(i.path===""&&Mi(i)!==Ce){let r=new We([],{});t[Mi(i)]=r}return t}function pG(n,e,t){return t.some(i=>Rp(n,e,i)&&Mi(i)!==Ce)}function gG(n,e,t){return t.some(i=>Rp(n,e,i))}function Rp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _G(n,e,t){return e.length===0&&!n.children[t]}var vG=class{};async function yG(n,e,t,i,r,o,s="emptyOnly",a){return new wG(n,e,t,i,r,s,o,a).recognize()}var bG=31,wG=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new lG(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}async recognize(){let e=xN(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:i}=await this.match(e),r=new Zn(i,t),o=new au("",r),s=$N(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new ta([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Ce,t),rootSnapshot:t}}catch(i){if(i instanceof iI)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Js?this.noMatchError(i):i}}async processSegmentGroup(e,t,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(e,t,i,o);let s=await this.processSegment(e,t,i,i.segments,r,!0,o);return s instanceof Zn?[s]:[]}async processChildren(e,t,i,r){let o=[];for(let c of Object.keys(i.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let d=i.children[c],u=Nq(t,c),f=await this.processSegmentGroup(e,u,d,c,r);s.push(...f)}let a=cP(s);return EG(a),a}async processSegment(e,t,i,r,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a)}catch(d){if(d instanceof Js||tP(d))continue;throw d}if(_G(i,r,o))return new vG;throw new Js(i)}async processSegmentAgainstRoute(e,t,i,r,o,s,a,c){if(Mi(i)!==s&&(s===Ce||!Rp(r,o,i)))throw new Js(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,r,i,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c);throw new Js(r)}async expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:d,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=aP(t,r,o);if(!c)throw new Js(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bG&&(this.allowRedirects=!1));let g=new ta(o,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AN(r),Mi(r),r.component??r._loadedComponent??null,r,kN(r)),b=Tp(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let D=await this.applyRedirects.applyRedirectCommands(u,r.redirectTo,f,g,e),T=await this.applyRedirects.lineralizeSegments(r,D);return this.processSegment(e,i,t,T.concat(p),s,!1,a)}async matchSegmentAgainstRoute(e,t,i,r,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await up(uG(t,i,r,e,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(t.children={}),!a?.matched)throw new Js(t);e=i._injector??e;let{routes:c}=await this.getChildConfig(e,i,r),d=i._loadedInjector??e,{parameters:u,consumedSegments:f,remainingSegments:p}=a,g=new ta(f,u,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AN(i),Mi(i),i.component??i._loadedComponent??null,i,kN(i)),b=Tp(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let{segmentGroup:D,slicedSegments:T}=xN(t,f,p,c);if(T.length===0&&D.hasChildren()){let H=await this.processChildren(d,c,D,g);return new Zn(g,H)}if(c.length===0&&T.length===0)return new Zn(g,[]);let R=Mi(i)===o,V=await this.processSegment(d,c,D,T,R?Ce:o,!0,g);return new Zn(g,V instanceof Zn?[V]:[])}async getChildConfig(e,t,i){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await up(oG(e,t,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw cG(t)}return{routes:[],injector:e}}};function EG(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}function IG(n){let e=n.value.routeConfig;return e&&e.path===""}function cP(n){let e=[],t=new Set;for(let i of n){if(!IG(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=cP(i.children);e.push(new Zn(i.value,r))}return e.filter(i=>!t.has(i))}function AN(n){return n.data||{}}function kN(n){return n.resolve||{}}var CG=new M("",{factory:()=>yG});function DG(n,e,t,i,r,o,s){let a=n.get(CG);return En(c=>z(c).pipe(Mt(d=>a(n,e,t,i,d.extractedUrl,r,o,s)),ee(({state:d,tree:u})=>de(N({},c),{targetSnapshot:d,urlAfterRedirects:u}))))}function TG(n,e){return En(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return z(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of lP(c))s.add(d);let a=0;return bt(s).pipe(kr(c=>o.has(c)?SG(c,i,n,e):(c.data=Tp(c,c.parent,n).resolve,z(void 0))),at(()=>a++),Cf(1),En(c=>a===s.size?z(t):Gt))})}function lP(n){let e=n.children.map(t=>lP(t)).flat();return[n,...e]}function SG(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!YN(r)&&(o[lu]=r.title),Ts(()=>(n.data=Tp(n,n.parent,t).resolve,xG(o,n,e,i).pipe(ee(s=>(n._resolvedData=s,n.data=N(N({},n.data),s),null)))))}function xG(n,e,t,i){let r=KE(n);if(r.length===0)return z({});let o={};return bt(r).pipe(En(s=>AG(n[s],e,t,i).pipe(Rr(),at(a=>{if(a instanceof Fc)throw Sp(new Go,a);o[s]=a}))),Cf(1),ee(()=>o),Ss(s=>tP(s)?Gt:id(s)))}function AG(n,e,t,i){let r=Vc(e)??i,o=Bc(n,r),s=o.resolve?o.resolve(e,t):ht(r,()=>o(e,t));return ra(s)}function GE(n){return Mt(e=>{let t=n(e);return t?bt(t).pipe(ee(()=>e)):z(e)})}var cI=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ce);return i}getResolvedTitleForRoute(t){return t.data[lu]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(dP),providedIn:"root"})}return n})(),dP=(()=>{class n extends cI{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(X(wN))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uc=new M("",{factory:()=>({})}),fu=new M(""),uP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(pE);async loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await PN(ht(t,()=>i.loadComponent())),s=await mP(fP(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s,s}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await hP(i,this.compiler,t,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function hP(n,e,t,i){let r=await PN(ht(t,()=>n.loadChildren())),o=await mP(fP(r)),s;o instanceof Nm||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),i&&i(n);let a,c,d=!1;return Array.isArray(s)?(c=s,d=!0):(a=s.create(t).injector,c=a.get(fu,[],{optional:!0,self:!0}).flat()),{routes:c.map(aI),injector:a}}function kG(n){return n&&typeof n=="object"&&"default"in n}function fP(n){return kG(n)?n.default:n}async function mP(n){return n}var Mp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(RG),providedIn:"root"})}return n})(),RG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pP=new M("");var MG=()=>{},gP=new M(""),_P=(()=>{class n{currentNavigation=Re(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Re(null);events=new K;transitionAbortWithErrorSubject=new K;configLoader=v(uP);environmentInjector=v(Je);destroyRef=v(Cn);urlSerializer=v(du);rootContexts=v(jc);location=v(zo);inputBindingEnabled=v(kp,{optional:!0})!==null;titleStrategy=v(cI);options=v(Uc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(Mp);createViewTransition=v(pP,{optional:!0});navigationErrorHandler=v(gP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new vp(r)),i=r=>this.events.next(new yp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;xt(()=>{this.transitions?.next(de(N({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(Ze(i=>i!==null),Mt(i=>{let r=!1,o=new AbortController;return z(i).pipe(Mt(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Dn.SupersededByNewNavigation),Gt;this.currentTransition=i;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?de(N({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Wr(s.id,this.urlSerializer.serialize(s.rawUrl),"",iu.IgnoredSameUrlNavigation)),s.resolve(!1),Gt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return z(s).pipe(Mt(u=>(this.events.next(new ia(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Gt:Promise.resolve(u))),DG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),at(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=u.urlAfterRedirects,p));let f=new ru(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:f,source:p,restoredState:g,extras:b}=s,D=new ia(u,this.urlSerializer.serialize(f),p,g);this.events.next(D);let T=KN(this.rootComponentType).snapshot;return this.currentTransition=i=de(N({},s),{targetSnapshot:T,urlAfterRedirects:f,extras:de(N({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=f,R)),z(i)}else return this.events.next(new Wr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",iu.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Gt}),at(s=>{let a=new mp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=i=de(N({},s),{guards:Bq(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Xq(this.environmentInjector,s=>this.events.next(s)),at(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sp(this.urlSerializer,s.guardsResult);let a=new pp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ze(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Dn.GuardRejected),!1)),GE(s=>{if(s.guards.canActivateChecks.length!==0)return z(s).pipe(at(a=>{let c=new gp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Mt(a=>{let c=!1;return z(a).pipe(TG(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Dn.NoDataFromResolver)}}))}),at(a=>{let c=new _p(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),GE(s=>{let a=d=>{let u=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let f=Vc(d)??this.environmentInjector;u.push(this.configLoader.loadComponent(f,d.routeConfig).then(p=>{d.component=p}))}for(let f of d.children)u.push(...a(f));return u},c=a(s.targetSnapshot.root);return c.length===0?z(s):bt(Promise.all(c).then(()=>s))}),GE(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?bt(c).pipe(ee(()=>i)):z(i)}),ee(s=>{let a=Oq(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=de(N({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),i}),at(()=>{this.events.next(new ou)}),jq(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),st(1),ot(nP(o.signal).pipe(Ze(()=>!r&&!i.targetRouterState),at(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",Dn.Aborted)}))),at({next:s=>{r=!0,this.currentNavigation.update(a=>(a.abort=MG,a)),this.lastSuccessfulNavigation.set(xt(this.currentNavigation)),this.events.next(new sr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),ot(this.transitionAbortWithErrorSubject.pipe(at(s=>{throw s}))),Do(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",Dn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ss(s=>{if(this.destroyed)return i.resolve(!1),Gt;if(r=!0,eP(s))this.events.next(new or(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Vq(s)?this.events.next(new Oc(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Pc(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Fc){let{message:d,cancellationCode:u}=Sp(this.urlSerializer,c);this.events.next(new or(i.id,this.urlSerializer.serialize(i.extractedUrl),d,u)),this.events.next(new Oc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Gt}))}))}cancelNavigationTransition(t,i,r){let o=new or(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=xt(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NG(n){return n!==eu}var vP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(PG),providedIn:"root"})}return n})(),Ap=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},PG=(()=>{class n extends Ap{static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lI=(()=>{class n{urlSerializer=v(du);options=v(Uc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(zo);urlHandlingStrategy=v(Mp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ni;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Ni?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=KN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:()=>v(yP),providedIn:"root"})}return n})(),yP=(()=>{class n extends lI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof ia?this.updateStateMemento():t instanceof Wr?this.commitTransition(i):t instanceof ru?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ou?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof or&&t.code!==Dn.SupersededByNewNavigation&&t.code!==Dn.Redirect?this.restoreHistory(i):t instanceof Pc?this.restoreHistory(i,!0):t instanceof sr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=N(N({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=N(N({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dI(n,e){n.events.pipe(Ze(t=>t instanceof sr||t instanceof or||t instanceof Pc||t instanceof Wr),ee(t=>t instanceof sr||t instanceof Wr?0:(t instanceof or?t.code===Dn.Redirect||t.code===Dn.SupersededByNewNavigation:!1)?2:1),Ze(t=>t!==2),st(1)).subscribe(()=>{e()})}var OG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Pm);stateManager=v(lI);options=v(Uc,{optional:!0})||{};pendingTasks=v(Fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(_P);urlSerializer=v(du);location=v(zo);urlHandlingStrategy=v(Mp);injector=v(Je);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(vP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(fu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(kp,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=xt(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof or&&i.code!==Dn.Redirect&&i.code!==Dn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sr)this.navigated=!0;else if(i instanceof Oc){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NG(r.source)},s);this.scheduleNavigation(a,eu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Rq(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=N({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(ui)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return xt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=r?r.snapshot:this.routerState.snapshot.root;f=HN(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return qN(f,t,u,d??null,this.urlSerializer)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,eu,null,i)}navigate(t,i={skipLocationChange:!1}){return LG(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Ao(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=N({},OG):i===!1?r=N({},FG):r=i,Wo(t))return IN(this.currentUrlTree,t,r);let o=this.parseUrl(t);return IN(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((f,p)=>{a=f,c=p});let u=this.pendingTasks.add();return dI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new O(4008,!1)}var Np=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Re(null);get href(){return xt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new K;applicationErrorHandler=v(ui);options=v(Uc,{optional:!0});constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(v(new fi("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof sr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Wo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(Me(Pi),Me(Kr),Md("tabindex"),Me(Ut),Me(be),Me(Tc))};static \u0275dir=te({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&xe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Ye("href",r.reactiveHref(),Mw)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ue],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ue],replaceUrl:[2,"replaceUrl","replaceUrl",ue],routerLink:"routerLink"},features:[rn]})}return n})();var jG=new M("");function uI(n,...e){return Mn([{provide:fu,multi:!0,useValue:n},[],{provide:Kr,useFactory:BG},{provide:Fm,multi:!0,useFactory:UG},e.map(t=>t.\u0275providers)])}function BG(){return v(Pi).routerState.root}function UG(){let n=v(ye);return e=>{let t=n.get(Kn);if(e!==t.components[0])return;let i=n.get(Pi),r=n.get(zG);n.get($G)===1&&i.initialNavigation(),n.get(HG,null,{optional:!0})?.setUpPreloading(),n.get(jG,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zG=new M("",{factory:()=>new K}),$G=new M("",{factory:()=>1});var HG=new M("");var Pe=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(Pe||{}),Oi="*";function bP(n,e=null){return{type:Pe.Sequence,steps:n,options:e}}function hI(n){return{type:Pe.Style,styles:n,offset:null}}var Qr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},zc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mu="!";function wP(n){return new O(3e3,!1)}function qG(){return new O(3100,!1)}function GG(){return new O(3101,!1)}function WG(n){return new O(3001,!1)}function KG(n){return new O(3003,!1)}function QG(n){return new O(3004,!1)}function IP(n,e){return new O(3005,!1)}function CP(){return new O(3006,!1)}function DP(){return new O(3007,!1)}function TP(n,e){return new O(3008,!1)}function SP(n){return new O(3002,!1)}function xP(n,e,t,i,r){return new O(3010,!1)}function AP(){return new O(3011,!1)}function kP(){return new O(3012,!1)}function RP(){return new O(3200,!1)}function MP(){return new O(3202,!1)}function NP(){return new O(3013,!1)}function PP(n){return new O(3014,!1)}function OP(n){return new O(3015,!1)}function FP(n){return new O(3016,!1)}function LP(n,e){return new O(3404,!1)}function YG(n){return new O(3502,!1)}function VP(n){return new O(3503,!1)}function jP(){return new O(3300,!1)}function BP(n){return new O(3504,!1)}function UP(n){return new O(3301,!1)}function zP(n,e){return new O(3302,!1)}function $P(n){return new O(3303,!1)}function HP(n,e){return new O(3400,!1)}function qP(n){return new O(3401,!1)}function GP(n){return new O(3402,!1)}function WP(n,e){return new O(3505,!1)}function Yr(n){switch(n.length){case 0:return new Qr;case 1:return n[0];default:return new zc(n)}}function gI(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let d=c.get("offset"),u=d==s,f=u&&a||new Map;c.forEach((p,g)=>{let b=g,D=p;if(g!=="offset")switch(b=n.normalizePropertyName(b,r),D){case mu:D=t.get(g);break;case Oi:D=i.get(g);break;default:D=n.normalizeStyleValue(g,b,D,r);break}f.set(b,D)}),u||o.push(f),a=f,s=d}),r.length)throw YG(r);return o}function Pp(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&fI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&fI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&fI(t,"destroy",n)));break}}function fI(n,e,t){let i=t.totalTime,r=!!t.disabled,o=Op(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Op(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function jn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function _I(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var XG=typeof document>"u"?null:document.documentElement;function Fp(n){let e=n.parentNode||n.host||null;return e===XG?null:e}function ZG(n){return n.substring(1,6)=="ebkit"}var oa=null,EP=!1;function KP(n){oa||(oa=JG()||{},EP=oa.style?"WebkitAppearance"in oa.style:!1);let e=!0;return oa.style&&!ZG(n)&&(e=n in oa.style,!e&&EP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in oa.style)),e}function JG(){return typeof document<"u"?document.body:null}function vI(n,e){for(;e;){if(e===n)return!0;e=Fp(e)}return!1}function yI(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var eW=1e3,bI="{{",tW="}}",wI="ng-enter",Lp="ng-leave",pu="ng-trigger",gu=".ng-trigger",EI="ng-animating",Vp=".ng-animating";function ar(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mI(parseFloat(e[1]),e[2])}function mI(n,e){switch(e){case"s":return n*eW;default:return n}}function _u(n,e,t){return n.hasOwnProperty("duration")?n:iW(n,e,t)}var nW=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function iW(n,e,t){let i,r=0,o="";if(typeof n=="string"){let s=n.match(nW);if(s===null)return e.push(wP(n)),{duration:0,delay:0,easing:""};i=mI(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=mI(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else i=n;if(!t){let s=!1,a=e.length;i<0&&(e.push(qG()),s=!0),r<0&&(e.push(GG()),s=!0),s&&e.splice(a,0,wP(n))}return{duration:i,delay:r,easing:o}}function QP(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Fi(n,e,t){e.forEach((i,r)=>{let o=jp(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Ko(n,e){e.forEach((t,i)=>{let r=jp(i);n.style[r]=""})}function $c(n){return Array.isArray(n)?n.length==1?n[0]:bP(n):n}function YP(n,e,t){let i=e.params||{},r=II(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(WG(o))})}var pI=new RegExp(`${bI}\\s*(.+?)\\s*${tW}`,"g");function II(n){let e=[];if(typeof n=="string"){let t;for(;t=pI.exec(n);)e.push(t[1]);pI.lastIndex=0}return e}function Hc(n,e,t){let i=`${n}`,r=i.replace(pI,(o,s)=>{let a=e[s];return a==null&&(t.push(KG(s)),a=""),a.toString()});return r==i?n:r}var rW=/-+([a-z0-9])/g;function jp(n){return n.replace(rW,(...e)=>e[1].toUpperCase())}function XP(n,e){return n===0||e===0}function ZP(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Bp(n,a)))}}return e}function Bn(n,e,t){switch(e.type){case Pe.Trigger:return n.visitTrigger(e,t);case Pe.State:return n.visitState(e,t);case Pe.Transition:return n.visitTransition(e,t);case Pe.Sequence:return n.visitSequence(e,t);case Pe.Group:return n.visitGroup(e,t);case Pe.Animate:return n.visitAnimate(e,t);case Pe.Keyframes:return n.visitKeyframes(e,t);case Pe.Style:return n.visitStyle(e,t);case Pe.Reference:return n.visitReference(e,t);case Pe.AnimateChild:return n.visitAnimateChild(e,t);case Pe.AnimateRef:return n.visitAnimateRef(e,t);case Pe.Query:return n.visitQuery(e,t);case Pe.Stagger:return n.visitStagger(e,t);default:throw QG(e.type)}}function Bp(n,e){return window.getComputedStyle(n)[e]}var BI=(()=>{class n{validateStyleProperty(t){return KP(t)}containsElement(t,i){return vI(t,i)}getParentElement(t){return Fp(t)}query(t,i,r){return yI(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Qr(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),aa=class{static NOOP=new BI},ca=class{};var oW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),qp=class extends ca{normalizePropertyName(e,t){return jp(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(oW.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(IP(e,i))}return s+o}};var Gp="*";function sW(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>aW(i,t,e)):t.push(n),t}function aW(n,e,t){if(n[0]==":"){let c=cW(n,t);if(typeof c=="function"){e.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(OP(n)),e;let r=i[1],o=i[2],s=i[3];e.push(JP(r,s));let a=r==Gp&&s==Gp;o[0]=="<"&&!a&&e.push(JP(s,r))}function cW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(FP(n)),"* => *"}}var Up=new Set(["true","1"]),zp=new Set(["false","0"]);function JP(n,e){let t=Up.has(n)||zp.has(n),i=Up.has(e)||zp.has(e);return(r,o)=>{let s=n==Gp||n==r,a=e==Gp||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?Up.has(n):zp.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Up.has(e):zp.has(e)),s&&a}}var lO=":self",lW=new RegExp(`s*${lO}s*,?`,"g");function dO(n,e,t,i){return new AI(n).build(e,t,i)}var eO="",AI=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new kI(t);return this._resetContextStyleTimingState(r),Bn(this,$c(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=eO,e.collectedStyles=new Map,e.collectedStyles.set(eO,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(CP()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Pe.State){let c=a,d=c.name;d.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=d}else if(a.type==Pe.Transition){let c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(DP())}),{type:Pe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{II(c).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&t.errors.push(TP(e.name,[...o.values()]))}return{type:Pe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Bn(this,$c(e.animation),t),r=sW(e.expr,t.errors);return{type:Pe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:sa(e.options)}}visitSequence(e,t){return{type:Pe.Sequence,steps:e.steps.map(i=>Bn(this,i,t)),options:sa(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=Bn(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Pe.Group,steps:o,options:sa(e.options)}}visitAnimate(e,t){let i=fW(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:hI({});if(o.type==Pe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let d={};i.easing&&(d.easing=i.easing),s=hI(d)}t.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Pe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Oi?i.push(a):t.errors.push(SP(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(bI)>=0){o=!0;break}}}),{type:Pe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let d=t.collectedStyles.get(t.currentQuerySelector),u=d.get(c),f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(xP(c,u.startTime,u.endTime,o,r)),f=!1),o=u.startTime),f&&d.set(c,{startTime:o,endTime:r}),t.options&&YP(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Pe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(AP()),i;let r=1,o=0,s=[],a=!1,c=!1,d=0,u=e.steps.map(R=>{let V=this._makeStyleAst(R,t),H=V.offset!=null?V.offset:hW(V.styles),G=0;return H!=null&&(o++,G=V.offset=H),c=c||G<0||G>1,a=a||G<d,d=G,s.push(G),V});c&&t.errors.push(kP()),a&&t.errors.push(RP());let f=e.steps.length,p=0;o>0&&o<f?t.errors.push(MP()):o==0&&(p=r/(f-1));let g=f-1,b=t.currentTime,D=t.currentAnimateTimings,T=D.duration;return u.forEach((R,V)=>{let H=p>0?V==g?1:p*V:s[V],G=H*T;t.currentTime=b+D.delay+G,D.duration=G,this._validateStyleAst(R,t),R.offset=H,i.styles.push(R)}),i}visitReference(e,t){return{type:Pe.Reference,animation:Bn(this,$c(e.animation),t),options:sa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Pe.AnimateChild,options:sa(e.options)}}visitAnimateRef(e,t){return{type:Pe.AnimateRef,animation:this.visitReference(e.animation,t),options:sa(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=dW(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,jn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Bn(this,$c(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Pe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:sa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(NP());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_u(e.timings,t.errors,!0);return{type:Pe.Stagger,animation:Bn(this,$c(e.animation),t),timings:i,options:null}}};function dW(n){let e=!!n.split(/\s*,\s*/).find(t=>t==lO);return e&&(n=n.replace(lW,"")),n=n.replace(/@\*/g,gu).replace(/@\w+/g,t=>gu+"-"+t.slice(1)).replace(/:animating/g,Vp),[n,e]}function uW(n){return n?N({},n):null}var kI=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function hW(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function fW(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=_u(n,e).duration;return CI(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=CI(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=_u(t,e);return CI(r.duration,r.delay,r.easing)}function sa(n){return n?(n=N({},n),n.params&&(n.params=uW(n.params))):n={},n}function CI(n,e,t){return{duration:n,delay:e,easing:t}}function UI(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var yu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},mW=1,pW=":enter",gW=new RegExp(pW,"g"),_W=":leave",vW=new RegExp(_W,"g");function uO(n,e,t,i,r,o=new Map,s=new Map,a,c,d=[]){return new RI().buildKeyframes(n,e,t,i,r,o,s,a,c,d)}var RI=class{buildKeyframes(e,t,i,r,o,s,a,c,d,u=[]){d=d||new yu;let f=new MI(e,t,d,r,o,u,[]);f.options=c;let p=c.delay?ar(c.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,c),Bn(this,i,f);let g=f.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let D=g.length-1;D>=0;D--){let T=g[D];if(T.element===t){b=T;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,f.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[UI(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:ar(Hc(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?ar(i.duration):null,a=i.delay!=null?ar(i.delay):null;return s!==0&&e.forEach(c=>{let d=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Bn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Pe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wp);let s=ar(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Bn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ar(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Bn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Hc(i,t.params,t.errors):i;return _u(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Pe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let d=c.offset||0;a.forwardTime(d*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ar(r.delay):0;o&&(t.previousNode.type===Pe.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wp);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((d,u)=>{t.currentQueryIndex=u;let f=t.createSubContext(e.options,d);o&&f.delayNextStep(o),d===t.element&&(c=f.currentTimeline),Bn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let p=f.currentTimeline.currentTime;s=Math.max(s,p)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let f=u.currentTime;Bn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},Wp={},MI=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Wp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Kp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ar(i.duration)),i.delay!=null&&(r.delay=ar(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Hc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Wp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new NI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(gW,"."+this._enterClassName),e=e.replace(vW,"."+this._leaveClassName);let c=i!=1,d=this._driver.query(this.element,e,c);i!==0&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!o&&a.length==0&&s.push(PP(t)),a}},Kp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=mW,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Oi),this._currentKeyframe.set(t,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=yW(e,this._globalTimelineStyles);for(let[a,c]of s){let d=Hc(c,o,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oi),this._updateStyle(a,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let d=new Map([...this._backFill,...a]);d.forEach((u,f)=>{u===mu?e.add(f):u===Oi&&t.add(f)}),i||d.set("offset",c/this.duration),r.push(d)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return UI(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},NI=class extends Kp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let d=new Map(e[0]);d.set("offset",tO(a)),o.push(d);let u=e.length-1;for(let f=1;f<=u;f++){let p=new Map(e[f]),g=p.get("offset"),b=t+g*i;p.set("offset",tO(b/s)),o.push(p)}i=s,t=0,r="",e=o}return UI(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function tO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function yW(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Oi)}else for(let[o,s]of r)t.set(o,s)}),t}function nO(n,e,t,i,r,o,s,a,c,d,u,f,p){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:d,postStyleProps:u,totalTime:f,errors:p}}var DI={},Qp=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return bW(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,d,u){let f=[],p=this.ast.options&&this.ast.options.params||DI,g=a&&a.params||DI,b=this.buildStyles(i,g,f),D=c&&c.params||DI,T=this.buildStyles(r,D,f),R=new Set,V=new Map,H=new Map,G=r==="void",tt={params:hO(D,p),delay:this.ast.options?.delay},ge=u?[]:uO(e,t,this.ast.animation,o,s,b,T,tt,d,f),I=0;return ge.forEach(y=>{I=Math.max(y.duration+y.delay,I)}),f.length?nO(t,this._triggerName,i,r,G,b,T,[],[],V,H,I,f):(ge.forEach(y=>{let w=y.element,C=jn(V,w,new Set);y.preStyleProps.forEach(A=>C.add(A));let S=jn(H,w,new Set);y.postStyleProps.forEach(A=>S.add(A)),w!==t&&R.add(w)}),nO(t,this._triggerName,i,r,G,b,T,ge,[...R.values()],V,H,I))}};function bW(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function hO(n,e){let t=N({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var PI=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=hO(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Hc(s,r,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}};function wW(n,e,t){return new OI(n,e,t)}var OI=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new PI(r.style,o,i))}),iO(this.states,"true","1"),iO(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Qp(e,r,this.states))}),this.fallbackTransition=EW(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function EW(n,e,t){let i=[(s,a)=>!0],r={type:Pe.Sequence,steps:[],options:null},o={type:Pe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Qp(n,o,e)}function iO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var IW=new yu,FI=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],o=dO(this._driver,t,i,r);if(i.length)throw VP(i);this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=gI(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=uO(this._driver,t,o,wI,Lp,new Map,new Map,i,IW,r),s.forEach(u=>{let f=jn(a,u.element,new Map);u.postStyleProps.forEach(p=>f.set(p,null))})):(r.push(jP()),s=[]),r.length)throw BP(r);a.forEach((u,f)=>{u.forEach((p,g)=>{u.set(g,this._driver.computeStyle(f,g,Oi))})});let c=s.map(u=>{let f=a.get(u.element);return this._buildPlayer(u,new Map,f)}),d=Yr(c);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw UP(e);return t}listen(e,t,i,r){let o=Op(t,"","","");return Pp(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},rO="ng-animate-queued",CW=".ng-animate-queued",TI="ng-animate-disabled",DW=".ng-animate-disabled",TW="ng-star-inserted",SW=".ng-star-inserted",xW=[],fO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Li="__ng_removed",bu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=RW(r),i){let o=e,{value:s}=o,a=ey(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},vu="void",SI=new bu(vu),LI=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,pi(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw zP(i,t);if(i==null||i.length==0)throw $P(t);if(!MW(i))throw HP(i,t);let o=jn(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=jn(this._engine.statesByElement,e,new Map);return a.has(t)||(pi(e,pu),pi(e,pu+"-"+t),a.set(t,SI)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw qP(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new wu(this.id,t,e),a=this._engine.statesByElement.get(e);a||(pi(e,pu),pi(e,pu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),d=new bu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),a.set(t,d),c||(c=SI),!(d.value===vu)&&c.value===d.value){if(!OW(c.params,d.params)){let D=[],T=o.matchStyles(c.value,c.params,D),R=o.matchStyles(d.value,d.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Ko(e,T),Fi(e,R)})}return}let p=jn(this._engine.playersByElement,e,[]);p.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let g=o.matchTransition(c.value,d.value,e,d.params),b=!1;if(!g){if(!r)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:d,player:s,isFallbackTransition:b}),b||(pi(e,rO),s.onStart(()=>{qc(e,rO)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let T=this._engine.playersByElement.get(e);if(T){let R=T.indexOf(s);R>=0&&T.splice(R,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,gu,!0);i.forEach(r=>{if(r[Li])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,d)=>{if(s.set(d,c.value),this._triggers.has(d)){let u=this.trigger(e,d,vu,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Yr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,d=i.get(s)||SI,u=new bu(vu),f=new wu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:d,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Li];(!o||o===fO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){pi(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=Op(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Pp(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},VI=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new LI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=r.get(a);if(c){let d=i.indexOf(c);i.splice(d+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if($p(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!$p(t))return;let o=t[Li];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pi(e,TI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qc(e,TI))}removeNode(e,t,i){if($p(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Li]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return $p(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,gu,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Vp,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Li];if(t&&t.setForRemoval){if(e[Li]=fO,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(TI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,DW,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];pi(r,TW)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Yr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw GP(e)}_flushAnimations(e,t){let i=new yu,r=[],o=new Map,s=[],a=new Map,c=new Map,d=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);let J=this.driver.query(W,CW,!0);for(let ne=0;ne<J.length;ne++)u.add(J[ne])});let f=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=aO(p,this.collectedEnterElements),b=new Map,D=0;g.forEach((W,J)=>{let ne=wI+D++;b.set(J,ne),W.forEach(je=>pi(je,ne))});let T=[],R=new Set,V=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let J=this.collectedLeaveElements[W],ne=J[Li];ne&&ne.setForRemoval&&(T.push(J),R.add(J),ne.hasAnimation?this.driver.query(J,SW,!0).forEach(je=>R.add(je)):V.add(J))}let H=new Map,G=aO(p,Array.from(R));G.forEach((W,J)=>{let ne=Lp+D++;H.set(J,ne),W.forEach(je=>pi(je,ne))}),e.push(()=>{g.forEach((W,J)=>{let ne=b.get(J);W.forEach(je=>qc(je,ne))}),G.forEach((W,J)=>{let ne=H.get(J);W.forEach(je=>qc(je,ne))}),T.forEach(W=>{this.processLeaveNode(W)})});let tt=[],ge=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(ne=>{let je=ne.player,Rt=ne.element;if(tt.push(je),this.collectedEnterElements.length){let Dt=Rt[Li];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(ne.triggerName)){let Ir=Dt.previousTriggersValues.get(ne.triggerName),An=this.statesByElement.get(ne.element);if(An&&An.has(ne.triggerName)){let Cr=An.get(ne.triggerName);Cr.value=Ir,An.set(ne.triggerName,Cr)}}je.destroy();return}}let ri=!f||!this.driver.containsElement(f,Rt),Ct=H.get(Rt),lt=b.get(Rt),dt=this._buildInstruction(ne,i,lt,Ct,ri);if(dt.errors&&dt.errors.length){ge.push(dt);return}if(ri){je.onStart(()=>Ko(Rt,dt.fromStyles)),je.onDestroy(()=>Fi(Rt,dt.toStyles)),r.push(je);return}if(ne.isFallbackTransition){je.onStart(()=>Ko(Rt,dt.fromStyles)),je.onDestroy(()=>Fi(Rt,dt.toStyles)),r.push(je);return}let po=[];dt.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||po.push(Dt)}),dt.timelines=po,i.append(Rt,dt.timelines);let Av={instruction:dt,player:je,element:Rt};s.push(Av),dt.queriedElements.forEach(Dt=>jn(a,Dt,[]).push(je)),dt.preStyleProps.forEach((Dt,Ir)=>{if(Dt.size){let An=c.get(Ir);An||c.set(Ir,An=new Set),Dt.forEach((Cr,go)=>An.add(go))}}),dt.postStyleProps.forEach((Dt,Ir)=>{let An=d.get(Ir);An||d.set(Ir,An=new Set),Dt.forEach((Cr,go)=>An.add(go))})});if(ge.length){let W=[];ge.forEach(J=>{W.push(WP(J.triggerName,J.errors))}),tt.forEach(J=>J.destroy()),this.reportError(W)}let I=new Map,y=new Map;s.forEach(W=>{let J=W.element;i.has(J)&&(y.set(J,J),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,I))}),r.forEach(W=>{let J=W.element;this._getPreviousPlayers(J,!1,W.namespaceId,W.triggerName,null).forEach(je=>{jn(I,J,[]).push(je),je.destroy()})});let w=T.filter(W=>cO(W,c,d)),C=new Map;sO(C,this.driver,V,d,Oi).forEach(W=>{cO(W,c,d)&&w.push(W)});let A=new Map;g.forEach((W,J)=>{sO(A,this.driver,new Set(W),c,mu)}),w.forEach(W=>{let J=C.get(W),ne=A.get(W);C.set(W,new Map([...J?.entries()??[],...ne?.entries()??[]]))});let E=[],ii=[],mo={};s.forEach(W=>{let{element:J,player:ne,instruction:je}=W;if(i.has(J)){if(u.has(J)){ne.onDestroy(()=>Fi(J,je.toStyles)),ne.disabled=!0,ne.overrideTotalTime(je.totalTime),r.push(ne);return}let Rt=mo;if(y.size>1){let Ct=J,lt=[];for(;Ct=Ct.parentNode;){let dt=y.get(Ct);if(dt){Rt=dt;break}lt.push(Ct)}lt.forEach(dt=>y.set(dt,Rt))}let ri=this._buildAnimation(ne.namespaceId,je,I,o,A,C);if(ne.setRealPlayer(ri),Rt===mo)E.push(ne);else{let Ct=this.playersByElement.get(Rt);Ct&&Ct.length&&(ne.parentPlayer=Yr(Ct)),r.push(ne)}}else Ko(J,je.fromStyles),ne.onDestroy(()=>Fi(J,je.toStyles)),ii.push(ne),u.has(J)&&r.push(ne)}),ii.forEach(W=>{let J=o.get(W.element);if(J&&J.length){let ne=Yr(J);W.setRealPlayer(ne)}}),r.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<T.length;W++){let J=T[W],ne=J[Li];if(qc(J,Lp),ne&&ne.hasAnimation)continue;let je=[];if(a.size){let ri=a.get(J);ri&&ri.length&&je.push(...ri);let Ct=this.driver.query(J,Vp,!0);for(let lt=0;lt<Ct.length;lt++){let dt=a.get(Ct[lt]);dt&&dt.length&&je.push(...dt)}}let Rt=je.filter(ri=>!ri.destroyed);Rt.length?NW(this,J,Rt):this.processLeaveNode(J)}return T.length=0,E.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let J=this.players.indexOf(W);this.players.splice(J,1)}),W.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==vu;a.forEach(d=>{d.queued||!c&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let c of t.timelines){let d=c.element,u=d!==o,f=jn(i,d,[]);this._getPreviousPlayers(d,u,s,a,t.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),f.push(g)})}Ko(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,c=t.element,d=[],u=new Set,f=new Set,p=t.timelines.map(b=>{let D=b.element;u.add(D);let T=D[Li];if(T&&T.removedBeforeQueried)return new Qr(b.duration,b.delay);let R=D!==c,V=PW((i.get(D)||xW).map(I=>I.getRealPlayer())).filter(I=>{let y=I;return y.element?y.element===D:!1}),H=o.get(D),G=s.get(D),tt=gI(this._normalizer,b.keyframes,H,G),ge=this._buildPlayer(b,tt,V);if(b.subTimeline&&r&&f.add(D),R){let I=new wu(e,a,D);I.setRealPlayer(ge),d.push(I)}return ge});d.forEach(b=>{jn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>kW(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>pi(b,EI));let g=Yr(p);return g.onDestroy(()=>{u.forEach(b=>qc(b,EI)),Fi(c,t.toStyles)}),f.forEach(b=>{jn(r,b,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Qr(e.duration,e.delay)}},wu=class{namespaceId;triggerName;element;_player=new Qr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Pp(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function kW(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function RW(n){return n??null}function $p(n){return n&&n.nodeType===1}function MW(n){return n=="start"||n=="done"}function oO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function sO(n,e,t,i,r){let o=[];t.forEach(c=>o.push(oO(c)));let s=[];i.forEach((c,d)=>{let u=new Map;c.forEach(f=>{let p=e.computeStyle(d,f,r);u.set(f,p),(!p||p.length==0)&&(d[Li]=AW,s.push(d))}),n.set(d,u)});let a=0;return t.forEach(c=>oO(c,o[a++])),s}function aO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let d=a.parentNode;return t.has(d)?c=d:r.has(d)?c=i:c=s(d),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&t.get(c).push(a)}),t}function pi(n,e){n.classList?.add(e)}function qc(n,e){n.classList?.remove(e)}function NW(n,e,t){Yr(t).onDone(()=>n.processLeaveNode(e))}function PW(n){let e=[];return mO(n,e),e}function mO(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof zc?mO(i.players,e):e.push(i)}}function OW(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function cO(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Gc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new VI(e.body,t,i),this._timelineEngine=new FI(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],d=[],u=dO(this._driver,o,c,d);if(c.length)throw LP(r,c);a=wW(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=_I(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=_I(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function FW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=xI(e[0]),e.length>1&&(i=xI(e[e.length-1]))):e instanceof Map&&(t=xI(e)),t||i?new LW(n,t,i):null}var LW=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fi(this._element,this._initialStyles),this._endStyles&&(Fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),Fi(this._element,this._initialStyles),this._state=3)}}return n})();function xI(n){let e=null;return n.forEach((t,i)=>{VW(i)&&(e=e||new Map,e.set(i,t))}),e}function VW(n){return n==="display"||n==="position"}var Yp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();return t.addEventListener("finish",i),this.onDestroy(()=>{t.removeEventListener("finish",i)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){let r=this._convertKeyframesToObject(t);try{return e.animate(r,i)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Bp(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Xp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return vI(e,t)}getParentElement(e){return Fp(e)}query(e,t,i){return yI(e,t,i)}computeStyle(e,t,i){return Bp(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let d=new Map,u=s.filter(g=>g instanceof Yp);XP(i,r)&&u.forEach(g=>{g.currentSnapshot.forEach((b,D)=>d.set(D,b))});let f=QP(t).map(g=>new Map(g));f=ZP(e,f,d);let p=FW(e,f);return new Yp(e,f,c,p)}};var Hp="@",pO="@.disabled",Zp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i,r){if(r){this.delegate.removeChild(e,t,i,r);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Hp&&t==pO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},jI=class extends Zp{factory;constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Hp?t.charAt(1)=="."&&t==pO?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==Hp){let o=jW(e),s=t.slice(1),a="";return s.charAt(0)!=Hp&&([s,a]=BW(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let d=c._data||-1;this.factory.scheduleListenerCallback(d,i,c)})}return this.delegate.listen(e,t,i,r)}};function jW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function BW(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Jp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,u=d.get(r);if(!u){let f=()=>d.delete(r);u=new Zp("",r,this.engine,f),d.set(r,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=d=>{Array.isArray(d)?d.forEach(a):this.engine.registerTrigger(o,s,e,d.name,d)};return t.data.animation.forEach(a),new jI(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var zW=(()=>{class n extends Gc{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(X(me),X(aa),X(ca))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function $W(){return new qp}function HW(){return new Jp(v(Gd),v(Gc),v(Q))}var gO=[{provide:ca,useFactory:$W},{provide:Gc,useClass:zW},{provide:Ft,useFactory:HW}],g_e=[{provide:aa,useClass:BI},{provide:Vo,useValue:"NoopAnimations"},...gO],qW=[{provide:aa,useFactory:()=>new Xp},{provide:Vo,useFactory:()=>"BrowserAnimations"},...gO];function _O(){return Hr("NgEagerAnimations"),[...qW]}var vO=()=>{};var wO=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},GW=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,d=c?n[r+2]:0,u=o>>2,f=(o&3)<<4|a>>4,p=(a&15)<<2|d>>6,g=d&63;c||(g=64,s||(p=64)),i.push(t[u],t[f],t[p],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GW(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let d=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||d==null||f==null)throw new $I;let p=o<<2|a>>4;if(i.push(p),d!==64){let g=a<<4&240|d>>2;if(i.push(g),f!==64){let b=d<<6&192|f;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},$I=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WW=function(n){let e=wO(n);return eg.encodeByteArray(e,!0)},Iu=function(n){return WW(n).replace(/\./g,"")},tg=function(n){try{return eg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KW=()=>qI().__FIREBASE_DEFAULTS__,QW=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YW=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&tg(n[1]);return e&&JSON.parse(e)},ng=()=>{try{return vO()||KW()||QW()||YW()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GI=n=>{var e,t;return(t=(e=ng())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},EO=n=>{let e=GI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},WI=()=>{var n;return(n=ng())===null||n===void 0?void 0:n.config},KI=n=>{var e;return(e=ng())===null||e===void 0?void 0:e[`_${n}`]};var la=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Qo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ig(n){return(await fetch(n,{credentials:"include"})).ok}function IO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Iu(JSON.stringify(t)),Iu(JSON.stringify(s)),""].join(".")}var Eu={};function XW(){let n={prod:[],emulator:[]};for(let e of Object.keys(Eu))Eu[e]?n.emulator.push(e):n.prod.push(e);return n}function ZW(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var yO=!1;function rg(n,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Eu[n]===e||Eu[n]||yO)return;Eu[n]=e;function t(p){return`__firebase__banner__${p}`}let i="__firebase__banner",o=XW().prod.length>0;function s(){let p=document.getElementById(i);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){let p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{yO=!0,s()},p}function u(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){let p=ZW(i),g=t("text"),b=document.getElementById(g)||document.createElement("span"),D=t("learnmore"),T=document.getElementById(D)||document.createElement("a"),R=t("preprendIcon"),V=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){let H=p.element;a(H),u(T,D);let G=d();c(V,R),H.append(V,b,T,G),document.body.appendChild(H)}o?(b.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function JW(){var n;let e=(n=ng())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xO(){let n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AO(){return!JW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cu(){try{return typeof indexedDB=="object"}catch{return!1}}function kO(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var e8="FirebaseError",ei=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=e8,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}},Vi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?t8(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new ei(r,a,i)}};function t8(n,e){return n.replace(n8,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var n8=/\{\$([^}]+)}/g;function RO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cr(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(bO(o)&&bO(s)){if(!cr(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function bO(n){return n!==null&&typeof n=="object"}function Wc(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function MO(n,e){let t=new HI(n,e);return t.subscribe.bind(t)}var HI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");i8(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=zI),r.error===void 0&&(r.error=zI),r.complete===void 0&&(r.complete=zI);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i8(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zI(){}var b_e=14400*1e3;function Tn(n){return n&&n._delegate?n._delegate:n}var Sn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var da="[DEFAULT]";var QI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new la;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o8(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:r8(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function r8(n){return n===da?void 0:n}function o8(n){return n.instantiationMode==="EAGER"}var og=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new QI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var s8=[],Ue=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ue||{}),a8={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},c8=Ue.INFO,l8={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},d8=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=l8[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=c8,this._logHandler=d8,this._userLogHandler=null,s8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var u8=(n,e)=>e.some(t=>n instanceof t),NO,PO;function h8(){return NO||(NO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f8(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var OO=new WeakMap,XI=new WeakMap,FO=new WeakMap,YI=new WeakMap,JI=new WeakMap;function m8(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(dr(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&OO.set(t,n)}).catch(()=>{}),JI.set(e,n),e}function p8(n){if(XI.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});XI.set(n,e)}var ZI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return XI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LO(n){ZI=n(ZI)}function g8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(sg(this),e,...t);return FO.set(i,e.sort?e.sort():[e]),dr(i)}:f8().includes(n)?function(...e){return n.apply(sg(this),e),dr(OO.get(this))}:function(...e){return dr(n.apply(sg(this),e))}}function _8(n){return typeof n=="function"?g8(n):(n instanceof IDBTransaction&&p8(n),u8(n,h8())?new Proxy(n,ZI):n)}function dr(n){if(n instanceof IDBRequest)return m8(n);if(YI.has(n))return YI.get(n);let e=_8(n);return e!==n&&(YI.set(n,e),JI.set(e,n)),e}var sg=n=>JI.get(n);function jO(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=dr(s);return i&&s.addEventListener("upgradeneeded",c=>{i(dr(s.result),c.oldVersion,c.newVersion,dr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var v8=["get","getKey","getAll","getAllKeys","count"],y8=["put","add","delete","clear"],e0=new Map;function VO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(e0.get(e))return e0.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=y8.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||v8.includes(t)))return;let o=async function(s,...a){let c=this.transaction(s,r?"readwrite":"readonly"),d=c.store;return i&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),r&&c.done]))[0]};return e0.set(e,o),o}LO(n=>de(N({},n),{get:(e,t,i)=>VO(e,t)||n.get(e,t,i),has:(e,t)=>!!VO(e,t)||n.has(e,t)}));var n0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b8(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function b8(n){let e=n.getComponent();return e?.type==="VERSION"}var i0="@firebase/app",BO="0.13.2";var Xr=new lr("@firebase/app"),w8="@firebase/app-compat",E8="@firebase/analytics-compat",I8="@firebase/analytics",C8="@firebase/app-check-compat",D8="@firebase/app-check",T8="@firebase/auth",S8="@firebase/auth-compat",x8="@firebase/database",A8="@firebase/data-connect",k8="@firebase/database-compat",R8="@firebase/functions",M8="@firebase/functions-compat",N8="@firebase/installations",P8="@firebase/installations-compat",O8="@firebase/messaging",F8="@firebase/messaging-compat",L8="@firebase/performance",V8="@firebase/performance-compat",j8="@firebase/remote-config",B8="@firebase/remote-config-compat",U8="@firebase/storage",z8="@firebase/storage-compat",$8="@firebase/firestore",H8="@firebase/ai",q8="@firebase/firestore-compat",G8="firebase",W8="11.10.0";var r0="[DEFAULT]",K8={[i0]:"fire-core",[w8]:"fire-core-compat",[I8]:"fire-analytics",[E8]:"fire-analytics-compat",[D8]:"fire-app-check",[C8]:"fire-app-check-compat",[T8]:"fire-auth",[S8]:"fire-auth-compat",[x8]:"fire-rtdb",[A8]:"fire-data-connect",[k8]:"fire-rtdb-compat",[R8]:"fire-fn",[M8]:"fire-fn-compat",[N8]:"fire-iid",[P8]:"fire-iid-compat",[O8]:"fire-fcm",[F8]:"fire-fcm-compat",[L8]:"fire-perf",[V8]:"fire-perf-compat",[j8]:"fire-rc",[B8]:"fire-rc-compat",[U8]:"fire-gcs",[z8]:"fire-gcs-compat",[$8]:"fire-fst",[q8]:"fire-fst-compat",[H8]:"fire-vertex","fire-js":"fire-js",[G8]:"fire-js-all"};var Du=new Map,Q8=new Map,o0=new Map;function UO(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ji(n){let e=n.name;if(o0.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;o0.set(e,n);for(let t of Du.values())UO(t,n);for(let t of Q8.values())UO(t,n);return!0}function Kc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n==null?!1:n.settings!==void 0}var Y8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Vi("app","Firebase",Y8);var s0=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}};var Xo=W8;function l0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:r0,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Yo.create("bad-app-name",{appName:String(r)});if(t||(t=WI()),!t)throw Yo.create("no-options");let o=Du.get(r);if(o){if(cr(t,o.options)&&cr(i,o.config))return o;throw Yo.create("duplicate-app",{appName:r})}let s=new og(r);for(let c of o0.values())s.addComponent(c);let a=new s0(t,i,s);return Du.set(r,a),a}function ua(n=r0){let e=Du.get(n);if(!e&&n===r0&&WI())return l0();if(!e)throw Yo.create("no-app",{appName:n});return e}function ag(){return Array.from(Du.values())}function At(n,e,t){var i;let r=(i=K8[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}ji(new Sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var X8="firebase-heartbeat-database",Z8=1,Tu="firebase-heartbeat-store",t0=null;function qO(){return t0||(t0=jO(X8,Z8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yo.create("idb-open",{originalErrorMessage:n.message})})),t0}async function J8(n){try{let t=(await qO()).transaction(Tu),i=await t.objectStore(Tu).get(GO(n));return await t.done,i}catch(e){if(e instanceof ei)Xr.warn(e.message);else{let t=Yo.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function zO(n,e){try{let i=(await qO()).transaction(Tu,"readwrite");await i.objectStore(Tu).put(e,GO(n)),await i.done}catch(t){if(t instanceof ei)Xr.warn(t.message);else{let i=Yo.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(i.message)}}}function GO(n){return`${n.name}!${n.options.appId}`}var e6=1024,t6=30,a0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new c0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$O();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>t6){let s=i6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=$O(),{heartbeatsToSend:i,unsentEntries:r}=n6(this._heartbeatsCache.heartbeats),o=Iu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xr.warn(t),""}}};function $O(){return new Date().toISOString().substring(0,10)}function n6(n,e=e6){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),HO(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),HO(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var c0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cu()?kO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await J8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return zO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return zO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function HO(n){return Iu(JSON.stringify({version:2,heartbeats:n})).length}function i6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function r6(n){ji(new Sn("platform-logger",e=>new n0(e),"PRIVATE")),ji(new Sn("heartbeat",e=>new a0(e),"PRIVATE")),At(i0,BO,n),At(i0,BO,"esm2017"),At("fire-js","")}r6("");var o6="firebase",s6="11.10.0";At(o6,s6,"app");function WO(n,e){let i=!e?.manualCleanup?e?.injector?.get(Cn)??v(Cn):null,r=a6(e?.equal),o;e?.requireSync?o=Re({kind:0},{equal:r}):o=Re({kind:1,value:e?.initialValue},{equal:r});let s,a=n.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new O(601,!1);return s=i?.onDestroy(a.unsubscribe.bind(a)),Yn(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new O(601,!1)}},{equal:e?.equal})}function a6(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function KO(n){n===void 0&&(n=v(ye));let e=n.get(Lr);return t=>new oe(i=>{let r=e.add(),o=!1;function s(){o||(r(),o=!0)}let a=t.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var Zo=new To("ANGULARFIRE2_VERSION");function Su(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Yc=(n,e)=>{let t=e?[e]:ag(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Qc=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Qc||{}),QO=IE()&&typeof Zone<"u"?Qc.WARN:Qc.SILENT;var cg=class{zone;delegate;constructor(e,t=Ty){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,i)}},Jo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=v(Q);this.outsideAngular=t.runOutsideAngular(()=>new cg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new cg(typeof Zone>"u"?void 0:Zone.current,wo))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YO=!1;function c6(n,e){!YO&&(QO>Qc.SILENT||IE())&&(YO=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QO>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function l6(n){let e=v(Q,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ha(n){let e=v(Q,{optional:!0});return e?e.run(()=>n()):n()}var d6=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),ht(t,()=>ha(()=>n.apply(void 0,i)))),Un=(n,e,t)=>(t||=e?Qc.WARN:Qc.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=v(Jo),s=v(Lr),a=v(Je)}catch{return c6(n,t),n.apply(this,r)}for(let d=0;d<arguments.length;d++)typeof r[d]=="function"&&(e&&(i||=ha(()=>s.add())),r[d]=d6(r[d],i,a));let c=l6(()=>n.apply(this,r));return e?c instanceof oe?c.pipe(Io(o.outsideAngular),Eo(o.insideAngular),KO(a)):c instanceof Promise?ha(()=>{let d=s.add();return new Promise((u,f)=>{c.then(p=>ht(a,()=>ha(()=>u(p))),p=>ht(a,()=>ha(()=>f(p)))).finally(d)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:ha(()=>c):c instanceof oe?c.pipe(Io(o.outsideAngular),Eo(o.insideAngular)):ha(()=>c)});var Zr=class{constructor(e){return e}},fa=class{constructor(){return ag()}};function u6(n){return n&&n.length===1?n[0]:new Zr(ua())}var d0=new M("angularfire2._apps"),h6={provide:Zr,useFactory:u6,deps:[[new On,d0]]},f6={provide:fa,deps:[[new On,d0]]};function m6(n){return(e,t)=>{let i=t.get(Ur);At("angularfire",Zo.full,"core"),At("angularfire",Zo.full,"app"),At("angular",Wy.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Zr(r)}}function XO(n,...e){return Mn([h6,f6,{provide:d0,useFactory:m6(n),multi:!0,deps:[Q,ye,Jo,...e]}])}var ZO=Un(l0,!0);var p6=new Map,g6={activated:!1,tokenObservers:[]},_6={initialized:!1,enabled:!1};function Bi(n){return p6.get(n)||Object.assign({},g6)}function n1(){return _6}var v6="https://content-firebaseappcheck.googleapis.com/v1";var y6="exchangeDebugToken",JO={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},bve=1440*60*1e3;var f0=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new la,this.pending.promise.catch(t=>{}),await b6(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new la,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function b6(n){return new Promise(e=>{setTimeout(e,n)})}var w6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},es=new Vi("appCheck","AppCheck",w6);function i1(n){if(!Bi(n).activated)throw es.create("use-before-activation",{appName:n.name})}async function r1({url:n,body:e},t){let i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){let f=await r.getHeartbeatsHeader();f&&(i["X-Firebase-Client"]=f)}let o={method:"POST",body:JSON.stringify(e),headers:i},s;try{s=await fetch(n,o)}catch(f){throw es.create("fetch-network-error",{originalErrorMessage:f?.message})}if(s.status!==200)throw es.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw es.create("fetch-parse-error",{originalErrorMessage:f?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let d=Number(c[1])*1e3,u=Date.now();return{token:a.token,expireTimeMillis:u+d,issuedAtTimeMillis:u}}function o1(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${v6}/projects/${t}/apps/${i}:${y6}?key=${r}`,body:{debug_token:e}}}var E6="firebase-app-check-database",I6=1,m0="firebase-app-check-store";var lg=null;function C6(){return lg||(lg=new Promise((n,e)=>{try{let t=indexedDB.open(E6,I6);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(es.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(m0,{keyPath:"compositeKey"})}}}catch(t){e(es.create("storage-open",{originalErrorMessage:t?.message}))}}),lg)}function D6(n,e){return T6(S6(n),e)}async function T6(n,e){let i=(await C6()).transaction(m0,"readwrite"),o=i.objectStore(m0).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var d;a(es.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})}function S6(n){return`${n.options.appId}-${n.name}`}var xu=new lr("@firebase/app-check");function u0(n,e){return Cu()?D6(n,e).catch(t=>{xu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function s1(){return n1().enabled}async function a1(){let n=n1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var x6={error:"UNKNOWN_ERROR"};function A6(n){return eg.encodeString(JSON.stringify(n),!1)}async function p0(n,e=!1,t=!1){let i=n.app;i1(i);let r=Bi(i),o=r.token,s;if(o&&!Au(o)&&(r.token=void 0,o=void 0),!o){let d=await r.cachedTokenPromise;d&&(Au(d)?o=d:await u0(i,void 0))}if(!e&&o&&Au(o))return{token:o.token};let a=!1;if(s1())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r1(o1(i,await a1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let d=await r.exchangeTokenPromise;return await u0(i,d),r.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?xu.warn(d.message):t&&xu.error(d),h0(d)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=await Bi(i).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?xu.warn(d.message):t&&xu.error(d),s=d}let c;return o?s?Au(o)?c={token:o.token,internalError:s}:c=h0(s):(c={token:o.token},r.token=o,await u0(i,o)):c=h0(s),a&&N6(i,c),c}async function k6(n){let e=n.app;i1(e);let{provider:t}=Bi(e);if(s1()){let i=await a1(),{token:r}=await r1(o1(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=await t.getToken();return{token:i}}}function R6(n,e,t,i){let{app:r}=n,o=Bi(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Au(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),e1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>e1(n))}function c1(n,e){let t=Bi(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function e1(n){let{app:e}=n,t=Bi(e),i=t.tokenRefresher;i||(i=M6(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function M6(n){let{app:e}=n;return new f0(async()=>{let t=Bi(e),i;if(t.token?i=await p0(n,!0):i=await p0(n),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{let t=Bi(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},JO.RETRIAL_MIN_WAIT,JO.RETRIAL_MAX_WAIT)}function N6(n,e){let t=Bi(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Au(n){return n.expireTimeMillis-Date.now()>0}function h0(n){return{token:A6(x6),error:n}}var g0=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Bi(this.app);for(let t of e)c1(this.app,t.next);return Promise.resolve()}};function P6(n,e){return new g0(n,e)}function O6(n){return{getToken:e=>p0(n,e),getLimitedUseToken:()=>k6(n),addTokenListener:e=>R6(n,"INTERNAL",e),removeTokenListener:e=>c1(n.app,e)}}var F6="@firebase/app-check",L6="0.10.1";var V6="app-check",t1="app-check-internal";function j6(){ji(new Sn(V6,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return P6(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(t1).initialize()})),ji(new Sn(t1,n=>{let e=n.getProvider("app-check").getImmediate();return O6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),At(F6,L6)}j6();var B6="app-check";var Xc=class{constructor(){return Yc(B6)}};var U6=["localhost","0.0.0.0","127.0.0.1"],Mve=typeof window<"u"&&U6.includes(window.location.hostname);function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var C1=I1,D1=new Vi("auth","Firebase",I1());var pg=new lr("@firebase/auth");function z6(n,...e){pg.logLevel<=Ue.WARN&&pg.warn(`Auth (${Xo}): ${n}`,...e)}function ug(n,...e){pg.logLevel<=Ue.ERROR&&pg.error(`Auth (${Xo}): ${n}`,...e)}function hr(n,...e){throw P0(n,...e)}function Ui(n,...e){return P0(n,...e)}function N0(n,e,t){let i=Object.assign(Object.assign({},C1()),{[e]:t});return new Vi("auth","Firebase",i).create(e,{appName:n.name})}function ma(n){return N0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $6(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&hr(n,"argument-error"),N0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return D1.create(n,...e)}function pe(n,e,...t){if(!n)throw P0(e,...t)}function Jr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ug(e),new Error(e)}function to(n,e){n||Jr(e)}function y0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function H6(){return l1()==="http:"||l1()==="https:"}function l1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H6()||TO()||"connection"in navigator)?navigator.onLine:!0}function G6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,to(t>e,"Short delay should be less than long delay!"),this.isMobile=CO()||SO()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function O0(n,e){to(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gg=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var W6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var K6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q6=new pa(3e4,6e4);function F0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jc(n,e,t,i,r={}){return T1(n,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});let a=Wc(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:c},o);return DO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(d.credentials="include"),gg.fetch()(await S1(n,n.config.apiHost,t,a),d)})}async function T1(n,e,t){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},W6),e);try{let r=new b0(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw dg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw dg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw dg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw dg(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw N0(n,u,d);hr(n,u)}}catch(r){if(r instanceof ei)throw r;hr(n,"network-request-failed",{message:String(r)})}}async function Y6(n,e,t,i,r={}){let o=await Jc(n,e,t,i,r);return"mfaPendingCredential"in o&&hr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function S1(n,e,t,i){let r=`${e}${t}?${i}`,o=n,s=o.config.emulator?O0(n.config,r):`${n.config.apiScheme}://${r}`;return K6.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var b0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ui(this.auth,"network-request-failed")),Q6.get())})}};function dg(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Ui(n,e,i);return r.customData._tokenResponse=t,r}async function X6(n,e){return Jc(n,"POST","/v1/accounts:delete",e)}async function _g(n,e){return Jc(n,"POST","/v1/accounts:lookup",e)}function ku(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L0(n,e=!1){let t=Tn(n),i=await t.getIdToken(e),r=V0(i);pe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:ku(_0(r.auth_time)),issuedAtTime:ku(_0(r.iat)),expirationTime:ku(_0(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _0(n){return Number(n)*1e3}function V0(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ug("JWT malformed, contained fewer than 3 sections"),null;try{let r=tg(t);return r?JSON.parse(r):(ug("Failed to decode base64 JWT payload"),null)}catch(r){return ug("Caught error parsing JWT payload as JSON",r?.toString()),null}}function d1(n){let e=V0(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ei&&Z6(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Z6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var w0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Nu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function vg(n){var e;let t=n.auth,i=await n.getIdToken(),r=await Mu(n,_g(t,{idToken:i}));pe(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?x1(o.providerUserInfo):[],a=J6(n.providerData,s),c=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,u=c?d:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nu(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function j0(n){let e=Tn(n);await vg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J6(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function x1(n){return n.map(e=>{var{providerId:t}=e,i=af(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function e5(n,e){let t=await T1(n,{},async()=>{let i=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=await S1(n,r,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(c.credentials="include"),gg.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function t5(n,e){return Jc(n,"POST","/v2/accounts:revokeToken",F0(n,e))}var Ru=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=d1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:r,expiresIn:o}=await e5(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(pe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(pe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function ts(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ns=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return L0(this,e)}reload(){return j0(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ma(this.auth));let e=await this.getIdToken();return await Mu(this,X6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,d,u;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(r=t.email)!==null&&r!==void 0?r:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,R=(d=t.createdAt)!==null&&d!==void 0?d:void 0,V=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:H,emailVerified:G,isAnonymous:tt,providerData:ge,stsTokenManager:I}=t;pe(H&&I,e,"internal-error");let y=Ru.fromJSON(this.name,I);pe(typeof H=="string",e,"internal-error"),ts(f,e.name),ts(p,e.name),pe(typeof G=="boolean",e,"internal-error"),pe(typeof tt=="boolean",e,"internal-error"),ts(g,e.name),ts(b,e.name),ts(D,e.name),ts(T,e.name),ts(R,e.name),ts(V,e.name);let w=new n({uid:H,auth:e,email:p,emailVerified:G,displayName:f,isAnonymous:tt,photoURL:b,phoneNumber:g,tenantId:D,stsTokenManager:y,createdAt:R,lastLoginAt:V});return ge&&Array.isArray(ge)&&(w.providerData=ge.map(C=>Object.assign({},C))),T&&(w._redirectEventId=T),w}static async _fromIdTokenResponse(e,t,i=!1){let r=new Ru;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await vg(o),o}static async _fromGetAccountInfoResponse(e,t,i){let r=t.users[0];pe(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?x1(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Ru;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Nu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var u1=new Map;function eo(n){to(n instanceof Function,"Expected a class definition");let e=u1.get(n);return e?(to(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,u1.set(n,e),e)}var n5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){let i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),E0=n5;function hg(n,e,t){return`firebase:${n}:${e}:${t}`}var yg=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=hg(this.userKey,r.apiKey,o),this.fullPersistenceKey=hg("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await _g(this.auth,{idToken:e}).catch(()=>{});return t?ns._fromGetAccountInfoResponse(this.auth,t,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new n(eo(E0),e,i);let r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=r[0]||eo(E0),s=hg(i,e.config.apiKey,e.name),a=null;for(let d of t)try{let u=await d._get(s);if(u){let f;if(typeof u=="string"){let p=await _g(e,{idToken:u}).catch(()=>{});if(!p)break;f=await ns._fromGetAccountInfoResponse(e,p,u)}else f=ns._fromJSON(e,u);d!==o&&(a=f),o=d;break}}catch{}let c=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new n(o,e,i))}};function h1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P1(e))return"Blackberry";if(O1(e))return"Webos";if(k1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function A1(n=Xt()){return/firefox\//i.test(n)}function k1(n=Xt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(n=Xt()){return/crios\//i.test(n)}function M1(n=Xt()){return/iemobile/i.test(n)}function N1(n=Xt()){return/android/i.test(n)}function P1(n=Xt()){return/blackberry/i.test(n)}function O1(n=Xt()){return/webos/i.test(n)}function B0(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i5(n=Xt()){var e;return B0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r5(){return xO()&&document.documentMode===10}function F1(n=Xt()){return B0(n)||N1(n)||O1(n)||P1(n)||/windows phone/i.test(n)||M1(n)}function L1(n,e=[]){let t;switch(n){case"Browser":t=h1(Xt());break;case"Worker":t=`${h1(Xt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${i}`}var I0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}};async function o5(n,e={}){return Jc(n,"GET","/v2/passwordPolicy",F0(n,e))}var s5=6,C0=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:s5,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var D0=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bg(this),this.idTokenSubscription=new bg(this),this.beforeStateQueue=new I0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await yg.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await _g(this,{idToken:e}),i=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ti(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=await this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(ma(this));let t=e?Tn(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await o5(this),t=new C0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await t5(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&eo(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await yg.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&z6(`Error while retrieving App Check token: ${t.error}`),t?.token}};function xg(n){return Tn(n)}var bg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=MO(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var U0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a5(n){U0=n}function c5(n){return U0.loadJS(n)}function l5(){return U0.gapiScript}function V1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function z0(n,e){let t=Kc(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(cr(o,e??{}))return r;hr(r,"already-initialized")}return t.initialize({options:e})}function d5(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function $0(n,e,t){let i=xg(n);pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=j1(e),{host:s,port:a}=u5(e),c=a===null?"":`:${a}`,d={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),pe(cr(d,i.config.emulator)&&cr(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Qo(s)?(ig(`${o}//${s}${c}`),rg("Auth",!0)):r||h5()}function j1(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function u5(n){let e=j1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:f1(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:f1(s)}}}function f1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function h5(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Pu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};async function Zc(n,e){return Y6(n,"POST","/v1/accounts:signInWithIdp",F0(n,e))}var f5="http://localhost",wg=class n extends Pu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=af(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Zc(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,Zc(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Zc(e,t)}buildRequest(){let e={requestUri:f5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wc(t)}return e}};var Ou=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Eg=class extends Ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var H0=(()=>{class n extends Eg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return wg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Fu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){let o=await ns._fromIdTokenResponse(e,i,r),s=m1(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let r=m1(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})}};function m1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var T0=class n extends ei{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function B1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?T0._fromErrorAndOperation(n,o,e,i):o})}async function m5(n,e,t=!1){let i=await Mu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fu._forOperation(n,"link",i)}async function p5(n,e,t=!1){let{auth:i}=n;if(ti(i.app))return Promise.reject(ma(i));let r="reauthenticate";try{let o=await Mu(n,B1(i,r,e,n),t);pe(o.idToken,i,"internal-error");let s=V0(o.idToken);pe(s,i,"internal-error");let{sub:a}=s;return pe(n.uid===a,i,"user-mismatch"),Fu._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&hr(i,"user-mismatch"),o}}async function g5(n,e,t=!1){if(ti(n.app))return Promise.reject(ma(n));let i="signIn",r=await B1(n,i,e),o=await Fu._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}function Vu(n,e,t,i){return Tn(n).onIdTokenChanged(e,t,i)}function q0(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}function G0(n){return Tn(n).signOut()}var Ig="__sak";var Cg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _5=1e3,v5=10,y5=(()=>{class n extends Cg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);r5()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,v5):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},_5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){let i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),U1=y5;var b5=(()=>{class n extends Cg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),W0=b5;function w5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var E5=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(async u=>u(i.origin,s)),d=await w5(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function K0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var S0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let d=K0("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(f){let p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ur(){return window}function I5(n){ur().location.href=n}function z1(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function C5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function T5(){return z1()?self:null}var $1="firebaseLocalStorageDb",S5=1,Dg="firebaseLocalStorage",H1="fbase_key",ga=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ag(n,e){return n.transaction([Dg],e?"readwrite":"readonly").objectStore(Dg)}function x5(){let n=indexedDB.deleteDatabase($1);return new ga(n).toPromise()}function x0(){let n=indexedDB.open($1,S5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Dg,{keyPath:H1})}catch(r){t(r)}}),n.addEventListener("success",async()=>{let i=n.result;i.objectStoreNames.contains(Dg)?e(i):(i.close(),await x5(),e(await x0()))})})}async function p1(n,e,t){let i=Ag(n,!0).put({[H1]:e,value:t});return new ga(i).toPromise()}async function A5(n,e){let t=Ag(n,!1).get(e),i=await new ga(t).toPromise();return i===void 0?null:i.value}function g1(n,e){let t=Ag(n,!0).delete(e);return new ga(t).toPromise()}var k5=800,R5=3,M5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x0(),this.db)}async _withRetries(t){let i=0;for(;;)try{let r=await this._openDb();return await t(r)}catch(r){if(i++>R5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=E5._getInstance(T5()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await C5(),!this.activeServiceWorker)return;this.sender=new S0(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await x0();return await p1(t,Ig,"1"),await g1(t,Ig),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>p1(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){let i=await this._withRetries(r=>A5(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g1(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Ag(o,!1).getAll();return new ga(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),q1=M5;var zve=V1("rcb"),$ve=new pa(3e4,6e4);function G1(n,e){return e?eo(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Lu=class extends Pu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function N5(n){return g5(n.auth,new Lu(n),n.bypassAuthState)}function P5(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),p5(t,new Lu(n),n.bypassAuthState)}async function O5(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),m5(t,new Lu(n),n.bypassAuthState)}var Tg=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N5;case"linkViaPopup":case"linkViaRedirect":return O5;case"reauthViaPopup":case"reauthViaRedirect":return P5;default:hr(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var F5=new pa(2e3,1e4);async function Q0(n,e,t){if(ti(n.app))return Promise.reject(Ui(n,"operation-not-supported-in-this-environment"));let i=xg(n);$6(n,e,Ou);let r=G1(i,t);return new L5(i,"signInViaPopup",e,r).executeNotNull()}var L5=(()=>{class n extends Tg{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){to(this.filter.length===1,"Popup operations only handle one event");let t=K0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,F5.get())};t()}}n.currentPopupAction=null;return n})(),V5="pendingRedirect",fg=new Map,A0=class extends Tg{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fg.get(this.auth._key());if(!e){try{let i=await j5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fg.set(this.auth._key(),e)}return this.bypassAuthState||fg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function j5(n,e){let t=z5(e),i=U5(n);if(!await i._isAvailable())return!1;let r=await i._get(t)==="true";return await i._remove(t),r}function B5(n,e){fg.set(n._key(),e)}function U5(n){return eo(n._redirectPersistence)}function z5(n){return hg(V5,n.config.apiKey,n.name)}async function $5(n,e,t=!1){if(ti(n.app))return Promise.reject(ma(n));let i=xg(n),r=G1(i,e),s=await new A0(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}var H5=600*1e3,k0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!W1(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_1(e))}saveEventToCache(e){this.cachedEventUids.add(_1(e)),this.lastProcessedEventTime=Date.now()}};function _1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function q5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(n);default:return!1}}async function G5(n,e={}){return Jc(n,"GET","/v1/projects",e)}var W5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K5=/^https?/;async function Q5(n){if(n.config.emulator)return;let{authorizedDomains:e}=await G5(n);for(let t of e)try{if(Y5(t))return}catch{}hr(n,"unauthorized-domain")}function Y5(n){let e=y0(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!K5.test(t))return!1;if(W5.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var X5=new pa(3e4,6e4);function v1(){let n=ur().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Z5(n){return new Promise((e,t)=>{var i,r,o;function s(){v1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v1(),t(Ui(n,"network-request-failed"))},timeout:X5.get()})}if(!((r=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ur().gapi)===null||o===void 0)&&o.load)s();else{let a=V1("iframefcb");return ur()[a]=()=>{gapi.load?s():t(Ui(n,"network-request-failed"))},c5(`${l5()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw mg=null,e})}var mg=null;function J5(n){return mg=mg||Z5(n),mg}var e9=new pa(5e3,15e3),t9="__/auth/iframe",n9="emulator/auth/iframe",i9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o9(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?O0(e,n9):`https://${n.config.authDomain}/${t9}`,i={apiKey:e.apiKey,appName:n.name,v:Xo},r=r9.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Wc(i).slice(1)}`}async function s9(n){let e=await J5(n),t=ur().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:o9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i9,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});let s=Ui(n,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},e9.get());function c(){ur().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})}))}var a9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c9=500,l9=600,d9="_blank",u9="http://localhost",Sg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h9(n,e,t,i=c9,r=l9){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},a9),{width:i.toString(),height:r.toString(),top:o,left:s}),d=Xt().toLowerCase();t&&(a=R1(d)?d9:t),A1(d)&&(e=e||u9,c.scrollbars="yes");let u=Object.entries(c).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(i5(d)&&a!=="_self")return f9(e||"",a),new Sg(null);let f=window.open(e||"",a,u);pe(f,n,"popup-blocked");try{f.focus()}catch{}return new Sg(f)}function f9(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var m9="__/auth/handler",p9="emulator/auth/handler",g9=encodeURIComponent("fac");async function y1(n,e,t,i,r,o){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Xo,eventId:r};if(e instanceof Ou){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",RO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Eg){let u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=await n._getAppCheckToken(),d=c?`#${g9}=${encodeURIComponent(c)}`:"";return`${_9(n)}?${Wc(a).slice(1)}${d}`}function _9({config:n}){return n.emulator?O0(n,p9):`https://${n.authDomain}/${m9}`}var v0="webStorageSupport",R0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=$5,this._overrideRedirectResult=B5}async _openPopup(e,t,i,r){var o;to((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await y1(e,t,i,y0(),r);return h9(e,s,K0())}async _openRedirect(e,t,i,r){await this._originValidation(e);let o=await y1(e,t,i,y0(),r);return I5(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(to(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await s9(e),i=new k0(e);return t.register("authEvent",r=>(pe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(v0,{type:v0},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[v0];s!==void 0&&t(!!s),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Q5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F1()||k1()||B0()}},K1=R0;var b1="@firebase/auth",w1="1.10.8";var M0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function v9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y9(n){ji(new Sn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L1(n)},d=new D0(i,r,o,c);return d5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ji(new Sn("auth-internal",e=>{let t=xg(e.getProvider("auth").getImmediate());return(i=>new M0(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),At(b1,w1,v9(n)),At(b1,w1,"esm2017")}var b9=300,w9=KI("authIdTokenMaxAge")||b9,E1=null,E9=n=>async e=>{let t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>w9)return;let r=t?.token;E1!==r&&(E1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Y0(n=ua()){let e=Kc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=z0(n,{popupRedirectResolver:K1,persistence:[q1,U1,W0]}),i=KI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=E9(o.toString());q0(t,s,()=>s(t.currentUser)),Vu(t,a=>s(a))}}let r=GI("auth");return r&&$0(t,`http://${r}`),t}function I9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}a5({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Ui("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",I9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y9("Browser");function X1(n){return new oe(function(e){var t=Vu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Z1="auth",no=class{constructor(e){return e}},ju=class{constructor(){return Yc(Z1)}};var X0=new M("angularfire2.auth-instances");function hK(n,e){let t=Su(Z1,n,e);return t&&new no(t)}function fK(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new no(i)}}var mK={provide:ju,deps:[[new On,X0]]},pK={provide:no,useFactory:hK,deps:[[new On,X0],Zr]};function J1(n,...e){return At("angularfire",Zo.full,"auth"),Mn([pK,mK,{provide:X0,useFactory:fK(n),multi:!0,deps:[Q,ye,Jo,fa,[new On,Xc],...e]}])}var eF=Un(X1,!0);var tF=Un(Y0,!0);var nF=Un(Q0,!0,2);var iF=Un(G0,!0,2);var rF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oF={};var io,Z0;(function(){var n;function e(I,y){function w(){}w.prototype=y.prototype,I.D=y.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(C,S,A){for(var E=Array(arguments.length-2),ii=2;ii<arguments.length;ii++)E[ii-2]=arguments[ii];return y.prototype[S].apply(C,E)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,y,w){w||(w=0);var C=Array(16);if(typeof y=="string")for(var S=0;16>S;++S)C[S]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(S=0;16>S;++S)C[S]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=I.g[0],w=I.g[1],S=I.g[2];var A=I.g[3],E=y+(A^w&(S^A))+C[0]+3614090360&4294967295;y=w+(E<<7&4294967295|E>>>25),E=A+(S^y&(w^S))+C[1]+3905402710&4294967295,A=y+(E<<12&4294967295|E>>>20),E=S+(w^A&(y^w))+C[2]+606105819&4294967295,S=A+(E<<17&4294967295|E>>>15),E=w+(y^S&(A^y))+C[3]+3250441966&4294967295,w=S+(E<<22&4294967295|E>>>10),E=y+(A^w&(S^A))+C[4]+4118548399&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(S^y&(w^S))+C[5]+1200080426&4294967295,A=y+(E<<12&4294967295|E>>>20),E=S+(w^A&(y^w))+C[6]+2821735955&4294967295,S=A+(E<<17&4294967295|E>>>15),E=w+(y^S&(A^y))+C[7]+4249261313&4294967295,w=S+(E<<22&4294967295|E>>>10),E=y+(A^w&(S^A))+C[8]+1770035416&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(S^y&(w^S))+C[9]+2336552879&4294967295,A=y+(E<<12&4294967295|E>>>20),E=S+(w^A&(y^w))+C[10]+4294925233&4294967295,S=A+(E<<17&4294967295|E>>>15),E=w+(y^S&(A^y))+C[11]+2304563134&4294967295,w=S+(E<<22&4294967295|E>>>10),E=y+(A^w&(S^A))+C[12]+1804603682&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(S^y&(w^S))+C[13]+4254626195&4294967295,A=y+(E<<12&4294967295|E>>>20),E=S+(w^A&(y^w))+C[14]+2792965006&4294967295,S=A+(E<<17&4294967295|E>>>15),E=w+(y^S&(A^y))+C[15]+1236535329&4294967295,w=S+(E<<22&4294967295|E>>>10),E=y+(S^A&(w^S))+C[1]+4129170786&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^S&(y^w))+C[6]+3225465664&4294967295,A=y+(E<<9&4294967295|E>>>23),E=S+(y^w&(A^y))+C[11]+643717713&4294967295,S=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(S^A))+C[0]+3921069994&4294967295,w=S+(E<<20&4294967295|E>>>12),E=y+(S^A&(w^S))+C[5]+3593408605&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^S&(y^w))+C[10]+38016083&4294967295,A=y+(E<<9&4294967295|E>>>23),E=S+(y^w&(A^y))+C[15]+3634488961&4294967295,S=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(S^A))+C[4]+3889429448&4294967295,w=S+(E<<20&4294967295|E>>>12),E=y+(S^A&(w^S))+C[9]+568446438&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^S&(y^w))+C[14]+3275163606&4294967295,A=y+(E<<9&4294967295|E>>>23),E=S+(y^w&(A^y))+C[3]+4107603335&4294967295,S=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(S^A))+C[8]+1163531501&4294967295,w=S+(E<<20&4294967295|E>>>12),E=y+(S^A&(w^S))+C[13]+2850285829&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^S&(y^w))+C[2]+4243563512&4294967295,A=y+(E<<9&4294967295|E>>>23),E=S+(y^w&(A^y))+C[7]+1735328473&4294967295,S=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(S^A))+C[12]+2368359562&4294967295,w=S+(E<<20&4294967295|E>>>12),E=y+(w^S^A)+C[5]+4294588738&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^S)+C[8]+2272392833&4294967295,A=y+(E<<11&4294967295|E>>>21),E=S+(A^y^w)+C[11]+1839030562&4294967295,S=A+(E<<16&4294967295|E>>>16),E=w+(S^A^y)+C[14]+4259657740&4294967295,w=S+(E<<23&4294967295|E>>>9),E=y+(w^S^A)+C[1]+2763975236&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^S)+C[4]+1272893353&4294967295,A=y+(E<<11&4294967295|E>>>21),E=S+(A^y^w)+C[7]+4139469664&4294967295,S=A+(E<<16&4294967295|E>>>16),E=w+(S^A^y)+C[10]+3200236656&4294967295,w=S+(E<<23&4294967295|E>>>9),E=y+(w^S^A)+C[13]+681279174&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^S)+C[0]+3936430074&4294967295,A=y+(E<<11&4294967295|E>>>21),E=S+(A^y^w)+C[3]+3572445317&4294967295,S=A+(E<<16&4294967295|E>>>16),E=w+(S^A^y)+C[6]+76029189&4294967295,w=S+(E<<23&4294967295|E>>>9),E=y+(w^S^A)+C[9]+3654602809&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^S)+C[12]+3873151461&4294967295,A=y+(E<<11&4294967295|E>>>21),E=S+(A^y^w)+C[15]+530742520&4294967295,S=A+(E<<16&4294967295|E>>>16),E=w+(S^A^y)+C[2]+3299628645&4294967295,w=S+(E<<23&4294967295|E>>>9),E=y+(S^(w|~A))+C[0]+4096336452&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~S))+C[7]+1126891415&4294967295,A=y+(E<<10&4294967295|E>>>22),E=S+(y^(A|~w))+C[14]+2878612391&4294967295,S=A+(E<<15&4294967295|E>>>17),E=w+(A^(S|~y))+C[5]+4237533241&4294967295,w=S+(E<<21&4294967295|E>>>11),E=y+(S^(w|~A))+C[12]+1700485571&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~S))+C[3]+2399980690&4294967295,A=y+(E<<10&4294967295|E>>>22),E=S+(y^(A|~w))+C[10]+4293915773&4294967295,S=A+(E<<15&4294967295|E>>>17),E=w+(A^(S|~y))+C[1]+2240044497&4294967295,w=S+(E<<21&4294967295|E>>>11),E=y+(S^(w|~A))+C[8]+1873313359&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~S))+C[15]+4264355552&4294967295,A=y+(E<<10&4294967295|E>>>22),E=S+(y^(A|~w))+C[6]+2734768916&4294967295,S=A+(E<<15&4294967295|E>>>17),E=w+(A^(S|~y))+C[13]+1309151649&4294967295,w=S+(E<<21&4294967295|E>>>11),E=y+(S^(w|~A))+C[4]+4149444226&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~S))+C[11]+3174756917&4294967295,A=y+(E<<10&4294967295|E>>>22),E=S+(y^(A|~w))+C[2]+718787259&4294967295,S=A+(E<<15&4294967295|E>>>17),E=w+(A^(S|~y))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+A&4294967295}i.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var w=y-this.blockSize,C=this.B,S=this.h,A=0;A<y;){if(S==0)for(;A<=w;)r(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<y;)if(C[S++]=I.charCodeAt(A++),S==this.blockSize){r(this,C),S=0;break}}else for(;A<y;)if(C[S++]=I[A++],S==this.blockSize){r(this,C),S=0;break}}this.h=S,this.o+=y},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var w=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.u(I),I=Array(16),y=w=0;4>y;++y)for(var C=0;32>C;C+=8)I[w++]=this.g[y]>>>C&255;return I};function o(I,y){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=y(I)}function s(I,y){this.h=y;for(var w=[],C=!0,S=I.length-1;0<=S;S--){var A=I[S]|0;C&&A==y||(w[S]=A,C=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?o(I,function(y){return new s([y|0],0>y?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return T(d(-I));for(var y=[],w=1,C=0;I>=w;C++)y[C]=I/w|0,w*=4294967296;return new s(y,0)}function u(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return T(u(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=d(Math.pow(y,8)),C=f,S=0;S<I.length;S+=8){var A=Math.min(8,I.length-S),E=parseInt(I.substring(S,S+A),y);8>A?(A=d(Math.pow(y,A)),C=C.j(A).add(d(E))):(C=C.j(w),C=C.add(d(E)))}return C}var f=c(0),p=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(D(this))return-T(this).m();for(var I=0,y=1,w=0;w<this.g.length;w++){var C=this.i(w);I+=(0<=C?C:4294967296+C)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(D(this))return"-"+T(this).toString(I);for(var y=d(Math.pow(I,6)),w=this,C="";;){var S=G(w,y).g;w=R(w,S.j(y));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=S,b(w))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function D(I){return I.h==-1}n.l=function(I){return I=R(this,I),D(I)?-1:b(I)?0:1};function T(I){for(var y=I.g.length,w=[],C=0;C<y;C++)w[C]=~I.g[C];return new s(w,~I.h).add(p)}n.abs=function(){return D(this)?T(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],C=0,S=0;S<=y;S++){var A=C+(this.i(S)&65535)+(I.i(S)&65535),E=(A>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);C=E>>>16,A&=65535,E&=65535,w[S]=E<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function R(I,y){return I.add(T(y))}n.j=function(I){if(b(this)||b(I))return f;if(D(this))return D(I)?T(this).j(T(I)):T(T(this).j(I));if(D(I))return T(this.j(T(I)));if(0>this.l(g)&&0>I.l(g))return d(this.m()*I.m());for(var y=this.g.length+I.g.length,w=[],C=0;C<2*y;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<I.g.length;S++){var A=this.i(C)>>>16,E=this.i(C)&65535,ii=I.i(S)>>>16,mo=I.i(S)&65535;w[2*C+2*S]+=E*mo,V(w,2*C+2*S),w[2*C+2*S+1]+=A*mo,V(w,2*C+2*S+1),w[2*C+2*S+1]+=E*ii,V(w,2*C+2*S+1),w[2*C+2*S+2]+=A*ii,V(w,2*C+2*S+2)}for(C=0;C<y;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=y;C<2*y;C++)w[C]=0;return new s(w,0)};function V(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function H(I,y){this.g=I,this.h=y}function G(I,y){if(b(y))throw Error("division by zero");if(b(I))return new H(f,f);if(D(I))return y=G(T(I),y),new H(T(y.g),T(y.h));if(D(y))return y=G(I,T(y)),new H(T(y.g),y.h);if(30<I.g.length){if(D(I)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var w=p,C=y;0>=C.l(I);)w=tt(w),C=tt(C);var S=ge(w,1),A=ge(C,1);for(C=ge(C,2),w=ge(w,2);!b(C);){var E=A.add(C);0>=E.l(I)&&(S=S.add(w),A=E),C=ge(C,1),w=ge(w,1)}return y=R(I,S.j(y)),new H(S,y)}for(S=f;0<=I.l(y);){for(w=Math.max(1,Math.floor(I.m()/y.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=d(w),E=A.j(y);D(E)||0<E.l(I);)w-=C,A=d(w),E=A.j(y);b(A)&&(A=p),S=S.add(A),I=R(I,E)}return new H(S,I)}n.A=function(I){return G(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)&I.i(C);return new s(w,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)|I.i(C);return new s(w,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)^I.i(C);return new s(w,this.h^I.h)};function tt(I){for(var y=I.g.length+1,w=[],C=0;C<y;C++)w[C]=I.i(C)<<1|I.i(C-1)>>>31;return new s(w,I.h)}function ge(I,y){var w=y>>5;y%=32;for(var C=I.g.length-w,S=[],A=0;A<C;A++)S[A]=0<y?I.i(A+w)>>>y|I.i(A+w+1)<<32-y:I.i(A+w);return new s(S,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Z0=oF.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,io=oF.Integer=s}).apply(typeof rF<"u"?rF:typeof self<"u"?self:typeof window<"u"?window:{});var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={};var J0,gK,el,eC,Bu,Rg,tC,nC,iC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof kg=="object"&&kg];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=t(this);function r(l,h){if(h)e:{var m=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var x=l[_];if(!(x in m))break e;m=m[x]}l=l[l.length-1],_=m[l],h=h(_),h!=_&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var m=0,_=!1,x={next:function(){if(!_&&m<l.length){var k=m++;return{value:h(k,l[k]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(l){return l||function(){return o(this,function(h,m){return m})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function b(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,x,k){for(var j=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)j[nt-2]=arguments[nt];return h.prototype[x].apply(_,j)}}function D(l){let h=l.length;if(0<h){let m=Array(h);for(let _=0;_<h;_++)m[_]=l[_];return m}return[]}function T(l,h){for(let m=1;m<arguments.length;m++){let _=arguments[m];if(c(_)){let x=l.length||0,k=_.length||0;l.length=x+k;for(let j=0;j<k;j++)l[x+j]=_[j]}else l.push(_)}}class R{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function V(l){return/^[\s\xa0]*$/.test(l)}function H(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function G(l){return G[" "](l),l}G[" "]=function(){};var tt=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ge(l,h,m){for(let _ in l)h.call(m,l[_],_,l)}function I(l,h){for(let m in l)h.call(void 0,l[m],m,l)}function y(l){let h={};for(let m in l)h[m]=l[m];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let m,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(m in _)l[m]=_[m];for(let k=0;k<w.length;k++)m=w[k],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function S(l){var h=1;l=l.split(":");let m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function A(l){a.setTimeout(()=>{throw l},0)}function E(){var l=je;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ii{constructor(){this.h=this.g=null}add(h,m){let _=mo.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var mo=new R(()=>new W,l=>l.reset());class W{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,je=new ii,Rt=()=>{let l=a.Promise.resolve(void 0);J=()=>{l.then(ri)}};var ri=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(m){A(m)}var h=mo;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ne=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l})();function po(l,h){if(lt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(tt){e:{try{G(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Av[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&po.aa.h.call(this)}}b(po,lt);var Av={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Ir=0;function An(l,h,m,_,x){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=x,this.key=++Ir,this.da=this.fa=!1}function Cr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function go(l){this.src=l,this.g={},this.h=0}go.prototype.add=function(l,h,m,_,x){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var j=Rv(l,h,_,x);return-1<j?(h=l[j],m||(h.fa=!1)):(h=new An(h,this.src,k,!!_,x),h.fa=m,l.push(h)),h};function kv(l,h){var m=h.type;if(m in l.g){var _=l.g[m],x=Array.prototype.indexOf.call(_,h,void 0),k;(k=0<=x)&&Array.prototype.splice.call(_,x,1),k&&(Cr(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Rv(l,h,m,_){for(var x=0;x<l.length;++x){var k=l[x];if(!k.da&&k.listener==h&&k.capture==!!m&&k.ha==_)return x}return-1}var Mv="closure_lm_"+(1e6*Math.random()|0),Nv={};function ES(l,h,m,_,x){if(_&&_.once)return CS(l,h,m,_,x);if(Array.isArray(h)){for(var k=0;k<h.length;k++)ES(l,h[k],m,_,x);return null}return m=Lv(m),l&&l[Dt]?l.K(h,m,d(_)?!!_.capture:!!_,x):IS(l,h,m,!1,_,x)}function IS(l,h,m,_,x,k){if(!h)throw Error("Invalid event type");var j=d(x)?!!x.capture:!!x,nt=Ov(l);if(nt||(l[Mv]=nt=new go(l)),m=nt.add(h,m,_,j,k),m.proxy)return m;if(_=Qj(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)dt||(x=j),x===void 0&&(x=!1),l.addEventListener(h.toString(),_,x);else if(l.attachEvent)l.attachEvent(TS(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Qj(){function l(m){return h.call(l.src,l.listener,m)}let h=Yj;return l}function CS(l,h,m,_,x){if(Array.isArray(h)){for(var k=0;k<h.length;k++)CS(l,h[k],m,_,x);return null}return m=Lv(m),l&&l[Dt]?l.L(h,m,d(_)?!!_.capture:!!_,x):IS(l,h,m,!0,_,x)}function DS(l,h,m,_,x){if(Array.isArray(h))for(var k=0;k<h.length;k++)DS(l,h[k],m,_,x);else _=d(_)?!!_.capture:!!_,m=Lv(m),l&&l[Dt]?(l=l.i,h=String(h).toString(),h in l.g&&(k=l.g[h],m=Rv(k,m,_,x),-1<m&&(Cr(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ov(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Rv(h,m,_,x)),(m=-1<l?h[l]:null)&&Pv(m))}function Pv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Dt])kv(h.i,l);else{var m=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(m,_,l.capture):h.detachEvent?h.detachEvent(TS(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=Ov(h))?(kv(m,l),m.h==0&&(m.src=null,h[Mv]=null)):Cr(l)}}}function TS(l){return l in Nv?Nv[l]:Nv[l]="on"+l}function Yj(l,h){if(l.da)l=!0;else{h=new po(h,this);var m=l.listener,_=l.ha||l.src;l.fa&&Pv(l),l=m.call(_,h)}return l}function Ov(l){return l=l[Mv],l instanceof go?l:null}var Fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(l){return typeof l=="function"?l:(l[Fv]||(l[Fv]=function(h){return l.handleEvent(h)}),l[Fv])}function dn(){Ct.call(this),this.i=new go(this),this.M=this,this.F=null}b(dn,Ct),dn.prototype[Dt]=!0,dn.prototype.removeEventListener=function(l,h,m,_){DS(this,l,h,m,_)};function bn(l,h){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new lt(h,l);else if(h instanceof lt)h.target=h.target||l;else{var x=h;h=new lt(_,l),C(h,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var j=h.g=m[k];x=Rh(j,_,!0,h)&&x}if(j=h.g=l,x=Rh(j,_,!0,h)&&x,x=Rh(j,_,!1,h)&&x,m)for(k=0;k<m.length;k++)j=h.g=m[k],x=Rh(j,_,!1,h)&&x}dn.prototype.N=function(){if(dn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],_=0;_<m.length;_++)Cr(m[_]);delete l.g[h],l.h--}}this.F=null},dn.prototype.K=function(l,h,m,_){return this.i.add(String(l),h,!1,m,_)},dn.prototype.L=function(l,h,m,_){return this.i.add(String(l),h,!0,m,_)};function Rh(l,h,m,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,k=0;k<h.length;++k){var j=h[k];if(j&&!j.da&&j.capture==m){var nt=j.listener,en=j.ha||j.src;j.fa&&kv(l.i,j),x=nt.call(en,_)!==!1&&x}}return x&&!_.defaultPrevented}function SS(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function xS(l){l.g=SS(()=>{l.g=null,l.i&&(l.i=!1,xS(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class Xj extends Ct{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:xS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(l){Ct.call(this),this.h=l,this.g={}}b(Ol,Ct);var AS=[];function kS(l){ge(l.g,function(h,m){this.g.hasOwnProperty(m)&&Pv(h)},l),l.g={}}Ol.prototype.N=function(){Ol.aa.N.call(this),kS(this)},Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vv=a.JSON.stringify,Zj=a.JSON.parse,Jj=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function jv(){}jv.prototype.h=null;function RS(l){return l.h||(l.h=l.i())}function MS(){}var Fl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bv(){lt.call(this,"d")}b(Bv,lt);function Uv(){lt.call(this,"c")}b(Uv,lt);var gs={},NS=null;function Mh(){return NS=NS||new dn}gs.La="serverreachability";function PS(l){lt.call(this,gs.La,l)}b(PS,lt);function Ll(l){let h=Mh();bn(h,new PS(h))}gs.STAT_EVENT="statevent";function OS(l,h){lt.call(this,gs.STAT_EVENT,l),this.stat=h}b(OS,lt);function wn(l){let h=Mh();bn(h,new OS(h,l))}gs.Ma="timingevent";function FS(l,h){lt.call(this,gs.Ma,l),this.size=h}b(FS,lt);function Vl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function jl(){this.g=!0}jl.prototype.xa=function(){this.g=!1};function eB(l,h,m,_,x,k){l.info(function(){if(l.g)if(k)for(var j="",nt=k.split("&"),en=0;en<nt.length;en++){var Ge=nt[en].split("=");if(1<Ge.length){var un=Ge[0];Ge=Ge[1];var hn=un.split("_");j=2<=hn.length&&hn[1]=="type"?j+(un+"="+Ge+"&"):j+(un+"=redacted&")}}else j=null;else j=k;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+h+`
`+m+`
`+j})}function tB(l,h,m,_,x,k,j){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+h+`
`+m+`
`+k+" "+j})}function ja(l,h,m,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+iB(l,m)+(_?" "+_:"")})}function nB(l,h){l.info(function(){return"TIMEOUT: "+h})}jl.prototype.info=function(){};function iB(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var j=1;j<x.length;j++)x[j]=""}}}}return Vv(m)}catch{return h}}var Nh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},LS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zv;function Ph(){}b(Ph,jv),Ph.prototype.g=function(){return new XMLHttpRequest},Ph.prototype.i=function(){return{}},zv=new Ph;function _o(l,h,m,_){this.j=l,this.i=h,this.l=m,this.R=_||1,this.U=new Ol(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new VS}function VS(){this.i=null,this.g="",this.h=!1}var jS={},$v={};function Hv(l,h,m){l.L=1,l.v=Vh(Dr(h)),l.m=m,l.P=!0,BS(l,null)}function BS(l,h){l.F=Date.now(),Oh(l),l.A=Dr(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),ex(m.i,"t",_),l.C=0,m=l.j.J,l.h=new VS,l.g=vx(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Xj(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,_=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(AS[0]=x.toString()),x=AS);for(var k=0;k<x.length;k++){var j=ES(m,x[k],_||h.handleEvent,!1,h.h||h);if(!j)break;h.g[j.key]=j}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ll(),eB(l.i,l.u,l.A,l.l,l.R,l.m)}_o.prototype.ca=function(l){l=l.target;let h=this.M;h&&Tr(l)==3?h.j():this.Y(l)},_o.prototype.Y=function(l){try{if(l==this.g)e:{let hn=Tr(this.g);var h=this.g.Ba();let za=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||ax(this.g)))){this.J||hn!=4||h==7||(h==8||0>=za?Ll(3):Ll(2)),qv(this);var m=this.g.Z();this.X=m;t:if(US(this)){var _=ax(this.g);l="";var x=_.length,k=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),Bl(this);var j="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(k&&h==x-1)});_.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,tB(this.i,this.u,this.A,this.l,this.R,hn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,en=this.g;if((nt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(nt)){var Ge=nt;break t}}Ge=null}if(m=Ge)ja(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gv(this,m);else{this.o=!1,this.s=3,wn(12),_s(this),Bl(this);break e}}if(this.P){m=!0;let bi;for(;!this.J&&this.C<j.length;)if(bi=rB(this,j),bi==$v){hn==4&&(this.s=4,wn(14),m=!1),ja(this.i,this.l,null,"[Incomplete Response]");break}else if(bi==jS){this.s=4,wn(15),ja(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else ja(this.i,this.l,bi,null),Gv(this,bi);if(US(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||j.length!=0||this.h.h||(this.s=1,wn(16),m=!1),this.o=this.o&&m,!m)ja(this.i,this.l,j,"[Invalid Chunked Response]"),_s(this),Bl(this);else if(0<j.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Zv(un),un.M=!0,wn(11))}}else ja(this.i,this.l,j,null),Gv(this,j);hn==4&&_s(this),this.o&&!this.J&&(hn==4?mx(this.j,this):(this.o=!1,Oh(this)))}else wB(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),_s(this),Bl(this)}}}catch{}finally{}};function US(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rB(l,h){var m=l.C,_=h.indexOf(`
`,m);return _==-1?$v:(m=Number(h.substring(m,_)),isNaN(m)?jS:(_+=1,_+m>h.length?$v:(h=h.slice(_,_+m),l.C=_+m,h)))}_o.prototype.cancel=function(){this.J=!0,_s(this)};function Oh(l){l.S=Date.now()+l.I,zS(l,l.I)}function zS(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Vl(p(l.ba,l),h)}function qv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}_o.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(nB(this.i,this.A),this.L!=2&&(Ll(),wn(17)),_s(this),this.s=2,Bl(this)):zS(this,this.S-l)};function Bl(l){l.j.G==0||l.J||mx(l.j,l)}function _s(l){qv(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,kS(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Gv(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Wv(m.h,l))){if(!l.K&&Wv(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)$h(m),Uh(m);else break e;Xv(m),wn(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Vl(p(m.Za,m),6e3));if(1>=qS(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ys(m,11)}else if((l.K||m.g==l)&&$h(m),!V(h))for(x=m.Da.g.parse(h),h=0;h<x.length;h++){let Ge=x[h];if(m.T=Ge[0],Ge=Ge[1],m.G==2)if(Ge[0]=="c"){m.K=Ge[1],m.ia=Ge[2];let un=Ge[3];un!=null&&(m.la=un,m.j.info("VER="+m.la));let hn=Ge[4];hn!=null&&(m.Aa=hn,m.j.info("SVER="+m.Aa));let za=Ge[5];za!=null&&typeof za=="number"&&0<za&&(_=1.5*za,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;let bi=l.g;if(bi){let qh=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qh){var k=_.h;k.g||qh.indexOf("spdy")==-1&&qh.indexOf("quic")==-1&&qh.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Kv(k,k.h),k.h=null))}if(_.D){let Jv=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Jv&&(_.ya=Jv,ut(_.I,_.D,Jv))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var j=l;if(_.qa=_x(_,_.J?_.ia:null,_.W),j.K){GS(_.h,j);var nt=j,en=_.L;en&&(nt.I=en),nt.B&&(qv(nt),Oh(nt)),_.g=j}else hx(_);0<m.i.length&&zh(m)}else Ge[0]!="stop"&&Ge[0]!="close"||ys(m,7);else m.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ys(m,7):Yv(m):Ge[0]!="noop"&&m.l&&m.l.ta(Ge),m.v=0)}}Ll(4)}catch{}}var oB=class{constructor(l,h){this.g=l,this.map=h}};function $S(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HS(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qS(l){return l.h?1:l.g?l.g.size:0}function Wv(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Kv(l,h){l.g?l.g.add(h):l.h=h}function GS(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}$S.prototype.cancel=function(){if(this.i=WS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function WS(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let m of l.g.values())h=h.concat(m.D);return h}return D(l.i)}function sB(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],m=l.length,_=0;_<m;_++)h.push(l[_]);return h}h=[],m=0;for(_ in l)h[m++]=l[_];return h}function aB(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(let _ in l)h[m++]=_;return h}}}function KS(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=aB(l),_=sB(l),x=_.length,k=0;k<x;k++)h.call(void 0,_[k],m&&m[k],l)}var QS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cB(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),x=null;if(0<=_){var k=l[m].substring(0,_);x=l[m].substring(_+1)}else k=l[m];h(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof vs){this.h=l.h,Fh(this,l.j),this.o=l.o,this.g=l.g,Lh(this,l.s),this.l=l.l;var h=l.i,m=new $l;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),YS(this,m),this.m=l.m}else l&&(h=String(l).match(QS))?(this.h=!1,Fh(this,h[1]||"",!0),this.o=Ul(h[2]||""),this.g=Ul(h[3]||"",!0),Lh(this,h[4]),this.l=Ul(h[5]||"",!0),YS(this,h[6]||"",!0),this.m=Ul(h[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(zl(h,XS,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(zl(h,XS,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(zl(m,m.charAt(0)=="/"?uB:dB,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",zl(m,fB)),l.join("")};function Dr(l){return new vs(l)}function Fh(l,h,m){l.j=m?Ul(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Lh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function YS(l,h,m){h instanceof $l?(l.i=h,mB(l.i,l.h)):(m||(h=zl(h,hB)),l.i=new $l(h,l.h))}function ut(l,h,m){l.i.set(h,m)}function Vh(l){return ut(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ul(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function zl(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,lB),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function lB(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var XS=/[#\/\?@]/g,dB=/[#\?:]/g,uB=/[#\?]/g,hB=/[#\?@]/g,fB=/#/g;function $l(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function vo(l){l.g||(l.g=new Map,l.h=0,l.i&&cB(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}n=$l.prototype,n.add=function(l,h){vo(this),this.i=null,l=Ba(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function ZS(l,h){vo(l),h=Ba(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function JS(l,h){return vo(l),h=Ba(l,h),l.g.has(h)}n.forEach=function(l,h){vo(this),this.g.forEach(function(m,_){m.forEach(function(x){l.call(h,x,_,this)},this)},this)},n.na=function(){vo(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){let x=l[_];for(let k=0;k<x.length;k++)m.push(h[_])}return m},n.V=function(l){vo(this);let h=[];if(typeof l=="string")JS(this,l)&&(h=h.concat(this.g.get(Ba(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},n.set=function(l,h){return vo(this),this.i=null,l=Ba(this,l),JS(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ex(l,h,m){ZS(l,h),0<m.length&&(l.i=null,l.g.set(Ba(l,h),D(m)),l.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];let k=encodeURIComponent(String(_)),j=this.V(_);for(_=0;_<j.length;_++){var x=k;j[_]!==""&&(x+="="+encodeURIComponent(String(j[_]))),l.push(x)}}return this.i=l.join("&")};function Ba(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function mB(l,h){h&&!l.j&&(vo(l),l.i=null,l.g.forEach(function(m,_){var x=_.toLowerCase();_!=x&&(ZS(this,_),ex(this,x,m))},l)),l.j=h}function pB(l,h){let m=new jl;if(a.Image){let _=new Image;_.onload=g(yo,m,"TestLoadImage: loaded",!0,h,_),_.onerror=g(yo,m,"TestLoadImage: error",!1,h,_),_.onabort=g(yo,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(yo,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function gB(l,h){let m=new jl,_=new AbortController,x=setTimeout(()=>{_.abort(),yo(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(k=>{clearTimeout(x),k.ok?yo(m,"TestPingServer: ok",!0,h):yo(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),yo(m,"TestPingServer: error",!1,h)})}function yo(l,h,m,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(m)}catch{}}function _B(){this.g=new Jj}function vB(l,h,m){let _=m||"";try{KS(l,function(x,k){let j=x;d(x)&&(j=Vv(x)),h.push(_+k+"="+encodeURIComponent(j))})}catch(x){throw h.push(_+"type="+encodeURIComponent("_badmap")),x}}function Hl(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Hl,jv),Hl.prototype.g=function(){return new jh(this.l,this.j)},Hl.prototype.i=(function(l){return function(){return l}})({});function jh(l,h){dn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(jh,dn),n=jh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Gl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ql(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tx(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tx(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ql(this):Gl(this),this.readyState==3&&tx(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ql(this))},n.Qa=function(l){this.g&&(this.response=l,ql(this))},n.ga=function(){this.g&&ql(this)};function ql(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Gl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Gl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nx(l){let h="";return ge(l,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function Qv(l,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=nx(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ut(l,h,m))}function Tt(l){dn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tt,dn);var yB=/^https?$/i,bB=["POST","PUT"];n=Tt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zv.g(),this.v=this.o?RS(this.o):RS(zv),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(k){ix(this,k);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)m.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let k of _.keys())m.set(k,_.get(k));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bB,h,void 0))||_||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,j]of m)this.g.setRequestHeader(k,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sx(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){ix(this,k)}};function ix(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,rx(l),Bh(l)}function rx(l){l.A||(l.A=!0,bn(l,"complete"),bn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bn(this,"complete"),bn(this,"abort"),Bh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bh(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ox(this):this.bb())},n.bb=function(){ox(this)};function ox(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Tr(l)!=4||l.Z()!=2)){if(l.u&&Tr(l)==4)SS(l.Ea,0,l);else if(bn(l,"readystatechange"),Tr(l)==4){l.h=!1;try{let j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=j===0){var x=String(l.D).match(QS)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),_=!yB.test(x?x.toLowerCase():"")}m=_}if(m)bn(l,"complete"),bn(l,"success");else{l.m=6;try{var k=2<Tr(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",rx(l)}}finally{Bh(l)}}}}function Bh(l,h){if(l.g){sx(l);let m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||bn(l,"ready");try{m.onreadystatechange=_}catch{}}}function sx(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Tr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Zj(h)}};function ax(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function wB(l){let h={};l=(l.g&&2<=Tr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(V(l[_]))continue;var m=S(l[_]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=h[x]||[];h[x]=k,k.push(m)}I(h,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wl(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function cx(l){this.Aa=0,this.i=[],this.j=new jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wl("baseRetryDelayMs",5e3,l),this.cb=Wl("retryDelaySeedMs",1e4,l),this.Wa=Wl("forwardChannelMaxRetries",2,l),this.wa=Wl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $S(l&&l.concurrentRequestLimit),this.Da=new _B,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cx.prototype,n.la=8,n.G=1,n.connect=function(l,h,m,_){wn(0),this.W=l,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=_x(this,null,this.W),zh(this)};function Yv(l){if(lx(l),l.G==3){var h=l.U++,m=Dr(l.I);if(ut(m,"SID",l.K),ut(m,"RID",h),ut(m,"TYPE","terminate"),Kl(l,m),h=new _o(l,l.j,h),h.L=2,h.v=Vh(Dr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=vx(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Oh(h)}gx(l)}function Uh(l){l.g&&(Zv(l),l.g.cancel(),l.g=null)}function lx(l){Uh(l),l.u&&(a.clearTimeout(l.u),l.u=null),$h(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function zh(l){if(!HS(l.h)&&!l.s){l.s=!0;var h=l.Ga;J||Rt(),ne||(J(),ne=!0),je.add(h,l),l.B=0}}function EB(l,h){return qS(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Vl(p(l.Ga,l,h),px(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new _o(this,this.j,l),k=this.o;if(this.S&&(k?(k=y(k),C(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ux(this,x,h),m=Dr(this.I),ut(m,"RID",l),ut(m,"CVER",22),this.D&&ut(m,"X-HTTP-Session-Id",this.D),Kl(this,m),k&&(this.O?h="headers="+encodeURIComponent(String(nx(k)))+"&"+h:this.m&&Qv(m,this.m,k)),Kv(this.h,x),this.Ua&&ut(m,"TYPE","init"),this.P?(ut(m,"$req",h),ut(m,"SID","null"),x.T=!0,Hv(x,m,null)):Hv(x,m,h),this.G=2}}else this.G==3&&(l?dx(this,l):this.i.length==0||HS(this.h)||dx(this))};function dx(l,h){var m;h?m=h.l:m=l.U++;let _=Dr(l.I);ut(_,"SID",l.K),ut(_,"RID",m),ut(_,"AID",l.T),Kl(l,_),l.m&&l.o&&Qv(_,l.m,l.o),m=new _o(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ux(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Kv(l.h,m),Hv(m,_,h)}function Kl(l,h){l.H&&ge(l.H,function(m,_){ut(h,_,m)}),l.l&&KS({},function(m,_){ut(h,_,m)})}function ux(l,h,m){m=Math.min(l.i.length,m);var _=l.l?p(l.l.Na,l.l,l):null;e:{var x=l.i;let k=-1;for(;;){let j=["count="+m];k==-1?0<m?(k=x[0].g,j.push("ofs="+k)):k=0:j.push("ofs="+k);let nt=!0;for(let en=0;en<m;en++){let Ge=x[en].g,un=x[en].map;if(Ge-=k,0>Ge)k=Math.max(0,x[en].g-100),nt=!1;else try{vB(un,j,"req"+Ge+"_")}catch{_&&_(un)}}if(nt){_=j.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,_}function hx(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;J||Rt(),ne||(J(),ne=!0),je.add(h,l),l.v=0}}function Xv(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Vl(p(l.Fa,l),px(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,fx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Vl(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Uh(this),fx(this))};function Zv(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fx(l){l.g=new _o(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Dr(l.qa);ut(h,"RID","rpc"),ut(h,"SID",l.K),ut(h,"AID",l.T),ut(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ut(h,"TO",l.ja),ut(h,"TYPE","xmlhttp"),Kl(l,h),l.m&&l.o&&Qv(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Vh(Dr(h)),m.m=null,m.P=!0,BS(m,l)}n.Za=function(){this.C!=null&&(this.C=null,Uh(this),Xv(this),wn(19))};function $h(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function mx(l,h){var m=null;if(l.g==h){$h(l),Zv(l),l.g=null;var _=2}else if(Wv(l.h,h))m=h.D,GS(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;_=Mh(),bn(_,new FS(_,m)),zh(l)}else hx(l);else if(x=h.s,x==3||x==0&&0<h.X||!(_==1&&EB(l,h)||_==2&&Xv(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),x){case 1:ys(l,5);break;case 4:ys(l,10);break;case 3:ys(l,6);break;default:ys(l,2)}}}function px(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function ys(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),_=l.Xa;let x=!_;_=new vs(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fh(_,"https"),Vh(_),x?pB(_.toString(),m):gB(_.toString(),m)}else wn(2);l.G=0,l.l&&l.l.sa(h),gx(l),lx(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function gx(l){if(l.G=0,l.ka=[],l.l){let h=WS(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function _x(l,h,m){var _=m instanceof vs?Dr(m):new vs(m);if(_.g!="")h&&(_.g=h+"."+_.g),Lh(_,_.s);else{var x=a.location;_=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var k=new vs(null);_&&Fh(k,_),h&&(k.g=h),x&&Lh(k,x),m&&(k.l=m),_=k}return m=l.D,h=l.ya,m&&h&&ut(_,m,h),ut(_,"VER",l.la),Kl(l,_),_}function vx(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Tt(new Hl({eb:m})):new Tt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yx(){}n=yx.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Hh(){}Hh.prototype.g=function(l,h){return new $n(l,h)};function $n(l,h){dn.call(this),this.g=new cx(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!V(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!V(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ua(this)}b($n,dn),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Yv(this.g)},$n.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Vv(l),l=m);h.i.push(new oB(h.Ya++,l)),h.G==3&&zh(h)},$n.prototype.N=function(){this.g.l=null,delete this.j,Yv(this.g),delete this.g,$n.aa.N.call(this)};function bx(l){Bv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}b(bx,Bv);function wx(){Uv.call(this),this.status=1}b(wx,Uv);function Ua(l){this.g=l}b(Ua,yx),Ua.prototype.ua=function(){bn(this.g,"a")},Ua.prototype.ta=function(l){bn(this.g,new bx(l))},Ua.prototype.sa=function(l){bn(this.g,new wx)},Ua.prototype.ra=function(){bn(this.g,"b")},Hh.prototype.createWebChannel=Hh.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,iC=ro.createWebChannelTransport=function(){return new Hh},nC=ro.getStatEventTarget=function(){return Mh()},tC=ro.Event=gs,Rg=ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nh.NO_ERROR=0,Nh.TIMEOUT=8,Nh.HTTP_ERROR=6,Bu=ro.ErrorCode=Nh,LS.COMPLETE="complete",eC=ro.EventType=LS,MS.EventType=Fl,Fl.OPEN="a",Fl.CLOSE="b",Fl.ERROR="c",Fl.MESSAGE="d",dn.prototype.listen=dn.prototype.K,el=ro.WebChannel=MS,gK=ro.FetchXmlHttpFactory=Hl,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,J0=ro.XhrIo=Tt}).apply(typeof kg<"u"?kg:typeof self<"u"?self:typeof window<"u"?window:{});var sF="@firebase/firestore",aF="4.8.0";var Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");var wl="11.10.0";var Ea=new lr("@firebase/firestore");function tl(){return Ea.logLevel}function $(n,...e){if(Ea.logLevel<=Ue.DEBUG){let t=e.map(zD);Ea.debug(`Firestore (${wl}): ${n}`,...t)}}function oo(n,...e){if(Ea.logLevel<=Ue.ERROR){let t=e.map(zD);Ea.error(`Firestore (${wl}): ${n}`,...t)}}function as(n,...e){if(Ea.logLevel<=Ue.WARN){let t=e.map(zD);Ea.warn(`Firestore (${wl}): ${n}`,...t)}}function zD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ce(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,QF(n,i,t)}function QF(n,e,t){let i=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw oo(i),new Error(i)}function Xe(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||QF(e,r,i)}function De(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Vg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}},lC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},dC=class{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mr,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Vg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}},uC=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},hC=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fC=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);let i=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _K(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function YF(){return new TextEncoder}var Gu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=_K(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}};function Oe(n,e){return n<e?-1:n>e?1:0}function mC(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Oe(i,r);{let o=YF(),s=vK(o.encode(cF(n,t)),o.encode(cF(e,t)));return s!==0?s:Oe(i,r)}}t+=i>65535?2:1}return Oe(n.length,e.length)}function cF(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vK(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Oe(n[t],e[t]);return Oe(n.length,e.length)}function ll(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var lF="__name__",Bg=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ce(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ce(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=n.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Oe(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):mC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}},Pt=class n extends Bg{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},yK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ni=class n extends Bg{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return yK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lF}static keyField(){return new n([lF])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var le=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pt.fromString(e))}static fromName(e){return new n(Pt.fromString(e).popFirst(5))}static empty(){return new n(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pt(e.slice()))}};function bK(n,e,t){if(!t)throw new Z(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wK(n,e,t,i){if(e===!0&&i===!0)throw new Z(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dF(n){if(!le.isDocumentKey(n))throw new Z(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $D(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce(12329,{type:typeof n})}function is(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$D(n);throw new Z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jt(n,e){let t={typeString:n};return e&&(t.value=e),t}function rh(n,e){if(!XF(n))throw new Z(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let i in e)if(e[i]){let r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}let s=n[i];if(r&&typeof s!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new Z(F.INVALID_ARGUMENT,t);return!0}var uF=-62135596800,hF=1e6,Bt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*hF);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uF)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hF}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rh(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-uF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:jt("string",Bt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};var Ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Bt(0,0))}static max(){return new n(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wu=-1,pC=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};pC.UNKNOWN_ID=-1;function EK(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Ia(r,le.empty(),e)}function IK(n){return new Ia(n.readTime,n.key,Wu)}var Ia=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Ae.min(),le.empty(),Wu)}static max(){return new n(Ae.max(),le.empty(),Wu)}};function CK(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}var DK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function El(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==DK)throw n;$("LocalStore","Unexpectedly lost primary lease")}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let d=c;t(e[d]).next(u=>{s[d]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function TK(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}var HD=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),qD=-1;function y_(n){return n==null}function Ku(n){return n===0&&1/n==-1/0}function SK(n){return typeof n=="number"&&Number.isInteger(n)&&!Ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ZF="";function xK(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fF(e)),e=AK(n.get(t),e);return fF(e)}function AK(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":t+="";break;case ZF:t+="";break;default:t+=o}}return t}function fF(n){return n+ZF+""}var kK="remoteDocuments",JF="owner";var eL="mutationQueues";var tL="mutations";var nL="documentMutations",RK="remoteDocumentsV14";var iL="remoteDocumentGlobal";var rL="targets";var oL="targetDocuments";var sL="targetGlobal",aL="collectionParents";var cL="clientMetadata";var lL="bundles";var dL="namedQueries";var MK="indexConfiguration";var NK="indexState";var PK="indexEntries";var uL="documentOverlays";var OK="globals";var FK=[eL,tL,nL,kK,rL,JF,sL,oL,cL,iL,aL,lL,dL],Qye=[...FK,uL],LK=[eL,tL,nL,RK,rL,JF,sL,oL,cL,iL,aL,lL,dL,uL],VK=LK,jK=[...VK,MK,NK,PK];var Yye=[...jK,OK];function mF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var kt=class n{constructor(e,t){this.comparator=e,this.root=t||pr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}},ol=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pr=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}};pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new pr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jt=class n{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ug(this.data.getIterator())}getIteratorFrom(e){return new Ug(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ug=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fr=class n{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new n([])}unionWith(e){let t=new Jt(ni.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var zg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yn.EMPTY_BYTE_STRING=new yn("");var BK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(Xe(!!n,39018),typeof n=="string"){let e=0,t=BK.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}var fL="server_timestamp",mL="__type__",pL="__previous_value__",gL="__local_write_time__";function GD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mL])===null||t===void 0?void 0:t.stringValue)===fL}function b_(n){let e=n.mapValue.fields[pL];return GD(e)?b_(e):e}function Qu(n){let e=so(n.mapValue.fields[gL].timestampValue);return new Bt(e.seconds,e.nanos)}var _C=class{constructor(e,t,i,r,o,s,a,c,d,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}},$g="(default)",Hg=class n{constructor(e,t){this.projectId=e,this.database=t||$g}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===$g}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var WD="__type__",_L="__max__",Mg={mapValue:{fields:{__type__:{stringValue:_L}}}},KD="__vector__",dl="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GD(n)?4:yL(n)?9007199254740991:vL(n)?10:11:ce(28295,{value:n})}function vr(n,e){if(n===e)return!0;let t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qu(n).isEqual(Qu(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=so(r.timestampValue),a=so(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return ao(r.bytesValue).isEqual(ao(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return yt(r.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return yt(r.integerValue)===yt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=yt(r.doubleValue),a=yt(o.doubleValue);return s===a?Ku(s)===Ku(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return(function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(mF(s)!==mF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!vr(s[c],a[c])))return!1;return!0})(n,e);default:return ce(52216,{left:n})}}function Yu(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function ul(n,e){if(n===e)return 0;let t=cs(n),i=cs(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=yt(o.integerValue||o.doubleValue),c=yt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return pF(n.timestampValue,e.timestampValue);case 4:return pF(Qu(n),Qu(e));case 5:return mC(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=ao(o),c=ao(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){let u=Oe(a[d],c[d]);if(u!==0)return u}return Oe(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Oe(yt(o.latitude),yt(s.latitude));return a!==0?a:Oe(yt(o.longitude),yt(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gF(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,d,u;let f=o.fields||{},p=s.fields||{},g=(a=f[dl])===null||a===void 0?void 0:a.arrayValue,b=(c=p[dl])===null||c===void 0?void 0:c.arrayValue,D=Oe(((d=g?.values)===null||d===void 0?void 0:d.length)||0,((u=b?.values)===null||u===void 0?void 0:u.length)||0);return D!==0?D:gF(g,b)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Mg.mapValue&&s===Mg.mapValue)return 0;if(o===Mg.mapValue)return 1;if(s===Mg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),d=s.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let p=mC(c[f],u[f]);if(p!==0)return p;let g=ul(a[c[f]],d[u[f]]);if(g!==0)return g}return Oe(c.length,u.length)})(n.mapValue,e.mapValue);default:throw ce(23264,{le:t})}}function pF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);let t=so(n),i=so(e),r=Oe(t.seconds,i.seconds);return r!==0?r:Oe(t.nanos,i.nanos)}function gF(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=ul(t[r],i[r]);if(o)return o}return Oe(t.length,i.length)}function hl(n){return vC(n)}function vC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let i=so(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=vC(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${vC(t.fields[s])}`;return r+"}"})(n.mapValue):ce(61005,{value:n})}function Og(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=b_(n);return e?16+Og(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce((r,o)=>r+Og(o),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Aa(i.fields,(o,s)=>{r+=o.length+Og(s)}),r})(n.mapValue);default:throw ce(13486,{value:n})}}function yC(n){return!!n&&"integerValue"in n}function QD(n){return!!n&&"arrayValue"in n}function _F(n){return!!n&&"nullValue"in n}function vF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fg(n){return!!n&&"mapValue"in n}function vL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[WD])===null||t===void 0?void 0:t.stringValue)===KD}function zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zu(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_L}var Zye={mapValue:{fields:{[WD]:{stringValue:KD},[dl]:{arrayValue:{}}}}};var zi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=ni.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=zu(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Fg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Fg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Aa(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(zu(this.value))}};function bL(n){let e=[];return Aa(n.fields,(t,i)=>{let r=new ni([t]);if(Fg(i)){let o=bL(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new fr(e)}var $i=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ae.min(),Ae.min(),Ae.min(),zi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Ae.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Ae.min(),Ae.min(),zi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ae.min(),Ae.min(),zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fl=class{constructor(e,t){this.position=e,this.inclusive=t}};function yF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=le.comparator(le.fromName(s.referenceValue),t.key):i=ul(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function bF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}var ml=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function UK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var qg=class{},$t=class n extends qg{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new wC(e,t,i):t==="array-contains"?new CC(e,i):t==="in"?new DC(e,i):t==="not-in"?new TC(e,i):t==="array-contains-any"?new SC(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new EC(e,i):new IC(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yr=class n extends qg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return wL(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function wL(n){return n.op==="and"}function EL(n){return zK(n)&&wL(n)}function zK(n){for(let e of n.filters)if(e instanceof yr)return!1;return!0}function bC(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+hl(n.value);if(EL(n))return n.filters.map(e=>bC(e)).join(",");{let e=n.filters.map(t=>bC(t)).join(",");return`${n.op}(${e})`}}function IL(n,e){return n instanceof $t?(function(i,r){return r instanceof $t&&i.op===r.op&&i.field.isEqual(r.field)&&vr(i.value,r.value)})(n,e):n instanceof yr?(function(i,r){return r instanceof yr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&IL(s,r.filters[a]),!0):!1})(n,e):void ce(19439)}function CL(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`})(n):n instanceof yr?(function(t){return t.op.toString()+" {"+t.getFilters().map(CL).join(" ,")+"}"})(n):"Filter"}var wC=class extends $t{constructor(e,t,i){super(e,t,i),this.key=le.fromName(i.referenceValue)}matches(e){let t=le.comparator(e.key,this.key);return this.matchesComparison(t)}},EC=class extends $t{constructor(e,t){super(e,"in",t),this.keys=DL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},IC=class extends $t{constructor(e,t){super(e,"not-in",t),this.keys=DL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function DL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>le.fromName(i.referenceValue))}var CC=class extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return QD(t)&&Yu(t.arrayValue,this.value)}},DC=class extends $t{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}},TC=class extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}},SC=class extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!QD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Yu(this.value.arrayValue,i))}};var xC=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function wF(n,e=null,t=[],i=[],r=null,o=null,s=null){return new xC(n,e,t,i,r,o,s)}function YD(n){let e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>(function(o){return o.field.canonicalString()+o.dir})(i)).join(","),y_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hl(i)).join(",")),e.Pe=t}return e.Pe}function XD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bF(n.startAt,e.startAt)&&bF(n.endAt,e.endAt)}function AC(n){return le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var pl=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $K(n,e,t,i,r,o,s,a){return new pl(n,e,t,i,r,o,s,a)}function w_(n){return new pl(n)}function EF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HK(n){return n.collectionGroup!==null}function $u(n){let e=De(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(ni.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ml(o,i))}),t.has(ni.keyField().canonicalString())||e.Te.push(new ml(ni.keyField(),i))}return e.Te}function gr(n){let e=De(n);return e.Ie||(e.Ie=qK(e,$u(n))),e.Ie}function qK(n,e){if(n.limitType==="F")return wF(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new ml(r.field,o)});let t=n.endAt?new fl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fl(n.startAt.position,n.startAt.inclusive):null;return wF(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function kC(n,e,t){return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function E_(n,e){return XD(gr(n),gr(e))&&n.limitType===e.limitType}function TL(n){return`${YD(gr(n))}|lt:${n.limitType}`}function nl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>CL(r)).join(", ")}]`),y_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>hl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>hl(r)).join(",")),`Target(${i})`})(gr(n))}; limitType=${n.limitType})`}function I_(n,e){return e.isFoundDocument()&&(function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):le.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,r){for(let o of $u(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(s,a,c){let d=yF(s,a,c);return s.inclusive?d<=0:d<0})(i.startAt,$u(i),r)||i.endAt&&!(function(s,a,c){let d=yF(s,a,c);return s.inclusive?d>=0:d>0})(i.endAt,$u(i),r))})(n,e)}function GK(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SL(n){return(e,t)=>{let i=!1;for(let r of $u(n)){let o=WK(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function WK(n,e,t){let i=n.field.isKeyField()?le.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),d=a.data.field(o);return c!==null&&d!==null?ul(c,d):ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ce(19790,{direction:n.dir})}}var co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return hL(this.inner)}size(){return this.innerSize}};var KK=new kt(le.comparator);function lo(){return KK}var xL=new kt(le.comparator);function Uu(...n){let e=xL;for(let t of n)e=e.insert(t.key,t);return e}function AL(n){let e=xL;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _a(){return Hu()}function kL(){return Hu()}function Hu(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}var QK=new kt(le.comparator),YK=new Jt(le.comparator);function ze(...n){let e=YK;for(let t of n)e=e.add(t);return e}var XK=new Jt(Oe);function ZK(){return XK}function ZD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function RL(n){return{integerValue:""+n}}function JK(n,e){return SK(e)?RL(e):ZD(n,e)}var gl=class{constructor(){this._=void 0}};function e7(n,e,t){return n instanceof _l?(function(r,o){let s={fields:{[mL]:{stringValue:fL},[gL]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&GD(o)&&(o=b_(o)),o&&(s.fields[pL]=o),{mapValue:s}})(t,e):n instanceof Ca?NL(n,e):n instanceof Da?PL(n,e):(function(r,o){let s=ML(r,o),a=IF(s)+IF(r.Ee);return yC(s)&&yC(r.Ee)?RL(a):ZD(r.serializer,a)})(n,e)}function t7(n,e,t){return n instanceof Ca?NL(n,e):n instanceof Da?PL(n,e):t}function ML(n,e){return n instanceof vl?(function(i){return yC(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}var _l=class extends gl{},Ca=class extends gl{constructor(e){super(),this.elements=e}};function NL(n,e){let t=OL(e);for(let i of n.elements)t.some(r=>vr(r,i))||t.push(i);return{arrayValue:{values:t}}}var Da=class extends gl{constructor(e){super(),this.elements=e}};function PL(n,e){let t=OL(e);for(let i of n.elements)t=t.filter(r=>!vr(r,i));return{arrayValue:{values:t}}}var vl=class extends gl{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function IF(n){return yt(n.integerValue||n.doubleValue)}function OL(n){return QD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function n7(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Ca&&r instanceof Ca||i instanceof Da&&r instanceof Da?ll(i.elements,r.elements,vr):i instanceof vl&&r instanceof vl?vr(i.Ee,r.Ee):i instanceof _l&&r instanceof _l})(n.transform,e.transform)}var RC=class{constructor(e,t){this.version=e,this.transformResults=t}},ba=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var yl=class{};function FL(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gg(n.key,ba.none()):new Ta(n.key,n.data,ba.none());{let t=n.data,i=zi.empty(),r=new Jt(ni.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new uo(n.key,i,new fr(r.toArray()),ba.none())}}function i7(n,e,t){n instanceof Ta?(function(r,o,s){let a=r.value.clone(),c=DF(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof uo?(function(r,o,s){if(!Lg(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=DF(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(LL(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function qu(n,e,t,i){return n instanceof Ta?(function(o,s,a,c){if(!Lg(o.precondition,s))return a;let d=o.value.clone(),u=TF(o.fieldTransforms,c,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof uo?(function(o,s,a,c){if(!Lg(o.precondition,s))return a;let d=TF(o.fieldTransforms,c,s),u=s.data;return u.setAll(LL(o)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,i):(function(o,s,a){return Lg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function r7(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=ML(i.transform,r||null);o!=null&&(t===null&&(t=zi.empty()),t.set(i.field,o))}return t||null}function CF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ll(i,r,(o,s)=>n7(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ta=class extends yl{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},uo=class extends yl{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LL(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function DF(n,e,t){let i=new Map;Xe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,t7(s,a,t[r]))}return i}function TF(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,e7(o,s,e))}return i}var Gg=class extends yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},MC=class extends yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var NC=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&i7(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=kL();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=FL(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,i)=>CF(t,i))&&ll(this.baseMutations,e.baseMutations,(t,i)=>CF(t,i))}},PC=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=(function(){return QK})(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var OC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var FC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Lt,He;function o7(n){switch(n){case F.OK:return ce(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ce(15467,{code:n})}}function VL(n){if(n===void 0)return oo("GRPC error has no .code"),F.UNKNOWN;switch(n){case Lt.OK:return F.OK;case Lt.CANCELLED:return F.CANCELLED;case Lt.UNKNOWN:return F.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return F.INTERNAL;case Lt.UNAVAILABLE:return F.UNAVAILABLE;case Lt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Lt.NOT_FOUND:return F.NOT_FOUND;case Lt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Lt.ABORTED:return F.ABORTED;case Lt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Lt.DATA_LOSS:return F.DATA_LOSS;default:return ce(39323,{code:n})}}(He=Lt||(Lt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";var SF=null;var s7=new io([4294967295,4294967295],0);function xF(n){let e=YF().encode(n),t=new Z0;return t.update(e),new Uint8Array(t.digest())}function AF(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new io([t,i],0),new io([r,o],0)]}var LC=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new va(`Invalid padding: ${t}`);if(i<0)throw new va(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new va(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=io.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(io.fromNumber(i)));return r.compare(s7)===1&&(r=new io([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=xF(e),[i,r]=AF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);if(!this.ye(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=xF(e),[i,r]=AF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);this.we(s)}}we(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},va=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wg=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Ae.min(),r,new kt(Oe),lo(),ze())}},Xu=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,ze(),ze(),ze())}};var sl=class{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}},Kg=class{constructor(e,t){this.targetId=e,this.De=t}},Qg=class{constructor(e,t,i=yn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Yg=class{constructor(){this.ve=0,this.Ce=kF(),this.Fe=yn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ze(),t=ze(),i=ze();return this.Ce.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ce(38017,{changeType:o})}}),new Xu(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=kF()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},VC=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=lo(),this.je=Ng(),this.Je=Ng(),this.He=new kt(Oe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,r)=>{this.nt(r)&&t(r)})}it(e){let t=e.targetId,i=e.De.count,r=this.st(t);if(r){let o=r.target;if(AC(o))if(i===0){let s=new le(o.path);this.Xe(t,s,$i.newNoDocument(s,Ae.min()))}else Xe(i===1,20013,{expectedCount:i});else{let s=this.ot(t);if(s!==i){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}SF?.ct((function(u,f,p,g,b){var D,T,R,V,H,G;let tt={localCacheCount:u,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},ge=f.unchangedNames;return ge&&(tt.bloomFilter={applied:b===0,hashCount:(D=ge?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(V=(R=(T=ge?.bits)===null||T===void 0?void 0:T.bitmap)===null||R===void 0?void 0:R.length)!==null&&V!==void 0?V:0,padding:(G=(H=ge?.bits)===null||H===void 0?void 0:H.padding)!==null&&G!==void 0?G:0,mightContain:I=>{var y;return(y=g?.mightContain(I))!==null&&y!==void 0&&y}}),tt})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=ao(i).toUint8Array()}catch(c){if(c instanceof zg)return as("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new LC(s,r,o)}catch(c){return as(c instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){let i=this.We.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),r++)}),r}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&AC(a.target)){let c=new le(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,$i.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let i=ze();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let d=this.st(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let r=new Wg(e,t,this.He,this.ze,i);return this.ze=lo(),this.je=Ng(),this.Je=Ng(),this.He=new kt(Oe),r}Ze(e,t){if(!this.nt(e))return;let i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;let r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Yg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Jt(Oe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Jt(Oe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Yg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Ng(){return new kt(le.comparator)}function kF(){return new kt(le.comparator)}var a7={asc:"ASCENDING",desc:"DESCENDING"},c7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l7={and:"AND",or:"OR"},jC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function BC(n,e){return n.useProto3Json||y_(e)?e:{value:e}}function Xg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function d7(n,e){return Xg(n,e.toTimestamp())}function _r(n){return Xe(!!n,49232),Ae.fromTimestamp((function(t){let i=so(t);return new Bt(i.seconds,i.nanos)})(n))}function JD(n,e){return UC(n,e).canonicalString()}function UC(n,e){let t=(function(r){return new Pt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BL(n){let e=Pt.fromString(n);return Xe(qL(e),10190,{key:e.toString()}),e}function zC(n,e){return JD(n.databaseId,e.path)}function rC(n,e){let t=BL(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le(zL(t))}function UL(n,e){return JD(n.databaseId,e)}function u7(n){let e=BL(n);return e.length===4?Pt.emptyPath():zL(e)}function $C(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zL(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RF(n,e,t){return{name:zC(n,e),fields:t.value.mapValue.fields}}function h7(n,e){let t;if("targetChange"in e){e.targetChange;let i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(d,u){return d.useProto3Json?(Xe(u===void 0||typeof u=="string",58123),yn.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),yn.fromUint8Array(u||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(d){let u=d.code===void 0?F.UNKNOWN:VL(d.code);return new Z(u,d.message||"")})(s);t=new Qg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=rC(n,i.document.name),o=_r(i.document.updateTime),s=i.document.createTime?_r(i.document.createTime):Ae.min(),a=new zi({mapValue:{fields:i.document.fields}}),c=$i.newFoundDocument(r,o,s,a),d=i.targetIds||[],u=i.removedTargetIds||[];t=new sl(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=rC(n,i.document),o=i.readTime?_r(i.readTime):Ae.min(),s=$i.newNoDocument(r,o),a=i.removedTargetIds||[];t=new sl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=rC(n,i.document),o=i.removedTargetIds||[];t=new sl([],o,r,null)}else{if(!("filter"in e))return ce(11601,{At:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new FC(r,o),a=i.targetId;t=new Kg(a,s)}}return t}function f7(n,e){let t;if(e instanceof Ta)t={update:RF(n,e.key,e.value)};else if(e instanceof Gg)t={delete:zC(n,e.key)};else if(e instanceof uo)t={update:RF(n,e.key,e.data),updateMask:E7(e.fieldMask)};else{if(!(e instanceof MC))return ce(16599,{Rt:e.type});t={verify:zC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>(function(o,s){let a=s.transform;if(a instanceof _l)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ce(20930,{transform:s.transform})})(0,i))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:d7(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce(27497)})(n,e.precondition)),t}function m7(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map(t=>(function(r,o){let s=r.updateTime?_r(r.updateTime):_r(o);return s.isEqual(Ae.min())&&(s=_r(o)),new RC(s,r.transformResults||[])})(t,e))):[]}function p7(n,e){return{documents:[UL(n,e.path)]}}function g7(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=UL(n,r);let o=(function(d){if(d.length!==0)return HL(yr.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(u=>(function(p){return{field:il(p.field),direction:y7(p.dir)}})(u))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=BC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{Vt:t,parent:r}}function _7(n){let e=u7(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Xe(i===1,65062);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(f){let p=$L(f);return p instanceof yr&&EL(p)?p.getFilters():[p]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(p=>(function(b){return new ml(rl(b.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(p))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let p;return p=typeof f=="object"?f.value:f,y_(p)?null:p})(t.limit));let c=null;t.startAt&&(c=(function(f){let p=!!f.before,g=f.values||[];return new fl(g,p)})(t.startAt));let d=null;return t.endAt&&(d=(function(f){let p=!f.before,g=f.values||[];return new fl(g,p)})(t.endAt)),$K(e,r,s,o,a,"F",c,d)}function v7(n,e){let t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $L(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=rl(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=rl(t.unaryFilter.field);return $t.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rl(t.unaryFilter.field);return $t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rl(t.unaryFilter.field);return $t.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(rl(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return yr.create(t.compositeFilter.filters.map(i=>$L(i)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce(1026)}})(t.compositeFilter.op))})(n):ce(30097,{filter:n})}function y7(n){return a7[n]}function b7(n){return c7[n]}function w7(n){return l7[n]}function il(n){return{fieldPath:n.canonicalString()}}function rl(n){return ni.fromServerFormat(n.fieldPath)}function HL(n){return n instanceof $t?(function(t){if(t.op==="=="){if(vF(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(_F(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vF(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(_F(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:b7(t.op),value:t.value}}})(n):n instanceof yr?(function(t){let i=t.getFilters().map(r=>HL(r));return i.length===1?i[0]:{compositeFilter:{op:w7(t.op),filters:i}}})(n):ce(54877,{filter:n})}function E7(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qL(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zu=class n{constructor(e,t,i,r,o=Ae.min(),s=Ae.min(),a=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var HC=class{constructor(e){this.gt=e}};function I7(n){let e=_7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kC(e,e.limit,"L"):e}var Zg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(yt(e.integerValue));else if("doubleValue"in e){let i=yt(e.doubleValue);isNaN(i)?this.Ct(t,13):(this.Ct(t,15),Ku(i)?t.Ft(0):t.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(t,20),typeof i=="string"&&(i=so(i)),t.Mt(`${i.seconds||""}`),t.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ao(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(t,45),t.Ft(i.latitude||0),t.Ft(i.longitude||0)}else"mapValue"in e?yL(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):vL(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ce(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let i=e.fields||{};this.Ct(t,55);for(let r of Object.keys(i))this.xt(r,t),this.Dt(i[r],t)}Lt(e,t){var i,r;let o=e.fields||{};this.Ct(t,53);let s=dl,a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(t,15),t.Ft(yt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let i=e.values||[];this.Ct(t,50);for(let r of i)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),le.fromName(e).path.forEach(i=>{this.Ct(t,60),this.$t(i,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Zg.Ut=new Zg;var qC=class{constructor(){this.Dn=new GC}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Ia.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},GC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Jt(Pt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Jt(Pt.comparator)).toArray()}};var Jye=new Uint8Array(0);var MF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GL=41943040,gi=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(GL,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);var Ju=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var NF="LruGarbageCollector",C7=1048576;function PF([n,e],[t,i]){let r=Oe(n,t);return r===0?Oe(e,i):r}var WC=class{constructor(e){this.Tr=e,this.buffer=new Jt(PF),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();PF(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},KC=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){$(NF,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Il(t)?$(NF,"Ignoring IndexedDB error during garbage collection: ",t):await El(t)}await this.Rr(3e5)})}},QC=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return L.resolve(HD.ue);let i=new WC(t);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(MF)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MF):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,o,s,a,c,d,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(d=Date.now(),tl()<=Ue.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function D7(n,e){return new QC(n,e)}var YC=class{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var XC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ZC=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&qu(i.mutation,r,fr.empty(),Bt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){let r=_a();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Uu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=_a();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=lo(),s=Hu(),a=(function(){return Hu()})();return t.forEach((c,d)=>{let u=i.get(d.key);r.has(d.key)&&(u===void 0||u.mutation instanceof uo)?o=o.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),qu(u.mutation,d,u.mutation.getFieldMask(),Bt.now())):s.set(d.key,fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,u)=>s.set(d,u)),t.forEach((d,u)=>{var f;return a.set(d,new XC(u,(f=s.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Hu(),r=new kt((s,a)=>s-a),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let u=i.get(c)||fr.empty();u=a.applyToLocalView(d,u),i.set(c,u);let f=(r.get(a.batchId)||ze()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,u=c.value,f=kL();u.forEach(p=>{if(!o.has(p)){let g=FL(t.get(p),i.get(p));g!==null&&f.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,f))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return(function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HK(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(_a()),a=Wu,c=o;return s.next(d=>L.forEach(d,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{c=c.insert(u,p)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,ze())).next(u=>({batchId:a,changes:AL(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(i=>{let r=Uu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Uu();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,c=>{let d=(function(f,p){return new pl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(u=>{u.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,d)=>{let u=d.getKey();s.get(u)===null&&(s=s.insert(u,$i.newInvalidDocument(u)))});let a=Uu();return s.forEach((c,d)=>{let u=o.get(c);u!==void 0&&qu(u.mutation,d,fr.empty(),Bt.now()),I_(t,d)&&(a=a.insert(c,d))}),a})}};var JC=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:_r(r.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:I7(r.bundledQuery),readTime:_r(r.readTime)}})(t)),L.resolve()}};var eD=class{constructor(){this.overlays=new kt(le.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let i=_a();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){let r=_a(),o=t.length+1,s=new le(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new kt((d,u)=>d-u),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let u=o.get(d.largestBatchId);u===null&&(u=_a(),o=o.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}let a=_a(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>a.set(d,u)),!(a.size()>=r)););return L.resolve(a)}wt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new OC(t,i));let o=this.kr.get(t);o===void 0&&(o=ze(),this.kr.set(t,o)),this.kr.set(t,o.add(i.key))}};var tD=class{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var eh=class{constructor(){this.qr=new Jt(Vt.Qr),this.$r=new Jt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let i=new Vt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){let t=new le(new Pt([])),i=new Vt(t,e),r=new Vt(t,e+1),o=[];return this.$r.forEachInRange([i,r],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new le(new Pt([])),i=new Vt(t,e),r=new Vt(t,e+1),o=ze();return this.$r.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Vt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Vt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return le.comparator(e.key,t.key)||Oe(e.Hr,t.Hr)}static Ur(e,t){return Oe(e.Hr,t.Hr)||le.comparator(e.key,t.key)}};var nD=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Jt(Vt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new NC(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.Yr=this.Yr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Xr(i),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?qD:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Vt(t,0),r=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(Oe);return t.forEach(r=>{let o=new Vt(r,0),s=new Vt(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{i=i.add(a.Hr)})}),L.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;le.isDocumentKey(o)||(o=o.child(""));let s=new Vt(new le(o),0),a=new Jt(Oe);return this.Yr.forEachWhile(c=>{let d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(i=>{let r=this.Zr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Xe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return L.forEach(t.mutations,r=>{let o=new Vt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){let i=new Vt(t,0),r=this.Yr.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var iD=class{constructor(e){this.ni=e,this.docs=(function(){return new kt(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let i=lo();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():$i.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=lo(),s=t.path,a=new le(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:u}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||CK(IK(u),i)<=0||(r.has(u.key)||I_(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ce(9500)}ri(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rD(this)}getSize(e){return L.resolve(this.size)}},rD=class extends YC{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var oD=class{constructor(e){this.persistence=e,this.ii=new co(t=>YD(t),XD),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new eh,this.targetCount=0,this._i=Ju.ar()}forEachTarget(e,t){return this.ii.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let i=this.ii.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let i=this.oi.Jr(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var Jg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new HD(0),this.ci=!1,this.ci=!0,this.li=new tD,this.referenceDelegate=e(this),this.hi=new oD(this),this.indexManager=new qC,this.remoteDocumentCache=(function(r){return new iD(r)})(i=>this.referenceDelegate.Pi(i)),this.serializer=new HC(t),this.Ti=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new nD(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){$("MemoryPersistence","Starting transaction:",e);let r=new sD(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}},sD=class extends gC{constructor(e){super(),this.currentSequenceNumber=e}},aD=class n{constructor(e){this.persistence=e,this.Ai=new eh,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ce(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(r=>this.mi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,i=>{let r=le.fromPath(i);return this.fi(e,r).next(o=>{o||t.removeEntry(r,Ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},e_=class n{constructor(e,t){this.persistence=e,this.gi=new co(i=>xK(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=D7(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(o=>o?L.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(i++,o.removeEntry(s,Ae.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Og(e.data.value)),t}Sr(e,t,i){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.gi.get(t);return L.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var cD=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=ze(),r=ze();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var lD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dD=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return AO()?8:TK(Xt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new lD;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(tl()<=Ue.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(tl()<=Ue.DEBUG&&$("QueryEngine","Query:",nl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(tl()<=Ue.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):L.resolve())}ps(e,t){if(EF(t))return L.resolve(null);let i=gr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=kC(t,null,"F"),i=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ze(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let d=this.bs(t,a);return this.Ds(t,d,s,c.readTime)?this.ps(e,kC(t,null,"F")):this.vs(e,d,t,c)}))})))}ys(e,t,i,r){return EF(t)||r.isEqual(Ae.min())?L.resolve(null):this.gs.getDocuments(e,i).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,i,r)?L.resolve(null):(tl()<=Ue.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nl(t)),this.vs(e,s,t,EK(r,Wu)).next(a=>a))})}bs(e,t){let i=new Jt(SL(e));return t.forEach((r,o)=>{I_(e,o)&&(i=i.add(o))}),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(e,t,i){return tl()<=Ue.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",nl(t)),this.gs.getDocumentsMatchingQuery(e,t,Ia.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var eT="LocalStore",T7=3e8,uD=class{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new kt(Oe),this.Ms=new co(o=>YD(o),XD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function S7(n,e,t,i){return new uD(n,e,t,i)}async function WL(n,e){let t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=ze();for(let d of r){s.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}for(let d of o){a.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:a}))})})}function x7(n,e){let t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,u){let f=d.batch,p=f.keys(),g=L.resolve();return p.forEach(b=>{g=g.next(()=>u.getEntry(c,b)).next(D=>{let T=d.docVersions.get(b);Xe(T!==null,48541),D.version.compareTo(T)<0&&(f.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),u.addEntry(D)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(a){let c=ze();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function KL(n){let e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function A7(n,e){let t=De(n),i=e.snapshotVersion,r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;let a=[];e.targetChanges.forEach((u,f)=>{let p=r.get(f);if(!p)return;a.push(t.hi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,u.addedDocuments,f)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(yn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(f,g),(function(D,T,R){return D.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=T7?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(p,g,u)&&a.push(t.hi.updateTargetData(o,g))});let c=lo(),d=ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(k7(o,s,e.documentUpdates).next(u=>{c=u.Ls,d=u.ks})),!i.isEqual(Ae.min())){let u=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.Fs=r,o))}function k7(n,e,t){let i=ze(),r=ze();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=lo();return t.forEach((a,c)=>{let d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):$(eT,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ls:s,ks:r}})}function R7(n,e){let t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=qD),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function M7(n,e){let t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hi.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.hi.allocateTargetId(i).next(s=>(r=new Zu(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function hD(n,e,t){let i=De(n),r=i.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!Il(s))throw s;$(eT,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function OF(n,e,t){let i=De(n),r=Ae.min(),o=ze();return i.persistence.runTransaction("Execute query","readwrite",s=>(function(c,d,u){let f=De(c),p=f.Ms.get(u);return p!==void 0?L.resolve(f.Fs.get(p)):f.hi.getTargetData(d,u)})(i,s,gr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,e,t?r:Ae.min(),t?o:ze())).next(a=>(N7(i,GK(e),a),{documents:a,qs:o})))}function N7(n,e,t){let i=n.xs.get(e)||Ae.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(e,i)}var t_=class{constructor(){this.activeTargetIds=ZK()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fD=class{constructor(){this.Fo=new t_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new t_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mD=class{xo(e){}shutdown(){}};var FF="ConnectivityMonitor",n_=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(FF,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){$(FF,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pg=null;function pD(){return Pg===null?Pg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pg++,"0x"+Pg.toString(16)}var oC="RestConnection",P7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gD=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===$g?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,o){let s=pD(),a=this.Go(e,t.toUriEncodedString());$(oC,`Sending RPC '${e}' ${s}:`,a,i);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,o);let{host:d}=new URL(a),u=Qo(d);return this.jo(e,a,c,i,u).then(f=>($(oC,`Received RPC '${e}' ${s}: `,f),f),f=>{throw as(oC,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",i),f})}Jo(e,t,i,r,o,s){return this.Wo(e,t,i,r,o)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Go(e,t){let i=P7[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}};var _D=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var _n="WebChannelConnection",vD=class extends gD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,o){let s=pD();return new Promise((a,c)=>{let d=new J0;d.setWithCredentials(!0),d.listenOnce(eC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bu.NO_ERROR:let f=d.getResponseJson();$(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Bu.TIMEOUT:$(_n,`RPC '${e}' ${s} timed out`),c(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:let p=d.getStatus();if($(_n,`RPC '${e}' ${s} failed with status:`,p,"response text:",d.getResponseText()),p>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);let b=g?.error;if(b&&b.status&&b.message){let D=(function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(V)>=0?V:F.UNKNOWN})(b.status);c(new Z(D,b.message))}else c(new Z(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Z(F.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{$(_n,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);$(_n,`RPC '${e}' ${s} sending request:`,r),d.send(t,"POST",u,i,15)})}P_(e,t,i){let r=pD(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iC(),a=nC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");$(_n,`Creating RPC '${e}' stream ${r}: ${u}`,c);let f=s.createWebChannel(u,c);this.T_(f);let p=!1,g=!1,b=new _D({Ho:T=>{g?$(_n,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(p||($(_n,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),$(_n,`RPC '${e}' stream ${r} sending:`,T),f.send(T))},Yo:()=>f.close()}),D=(T,R,V)=>{T.listen(R,H=>{try{V(H)}catch(G){setTimeout(()=>{throw G},0)}})};return D(f,el.EventType.OPEN,()=>{g||($(_n,`RPC '${e}' stream ${r} transport opened.`),b.s_())}),D(f,el.EventType.CLOSE,()=>{g||(g=!0,$(_n,`RPC '${e}' stream ${r} transport closed`),b.__(),this.I_(f))}),D(f,el.EventType.ERROR,T=>{g||(g=!0,as(_n,`RPC '${e}' stream ${r} transport errored. Name:`,T.name,"Message:",T.message),b.__(new Z(F.UNAVAILABLE,"The operation could not be completed")))}),D(f,el.EventType.MESSAGE,T=>{var R;if(!g){let V=T.data[0];Xe(!!V,16349);let H=V,G=H?.error||((R=H[0])===null||R===void 0?void 0:R.error);if(G){$(_n,`RPC '${e}' stream ${r} received error:`,G);let tt=G.status,ge=(function(w){let C=Lt[w];if(C!==void 0)return VL(C)})(tt),I=G.message;ge===void 0&&(ge=F.INTERNAL,I="Unknown error status: "+tt+" with message "+G.message),g=!0,b.__(new Z(ge,I)),f.close()}else $(_n,`RPC '${e}' stream ${r} received:`,V),b.a_(V)}}),D(a,tC.STAT_EVENT,T=>{T.stat===Rg.PROXY?$(_n,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Rg.NOPROXY&&$(_n,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function sC(){return typeof document<"u"?document:null}function C_(n){return new jC(n,!0)}var i_=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var LF="PersistentStream",r_=class{constructor(e,t,i,r,o,s,a,c){this.Fi=e,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new i_(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(oo(t.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===t&&this.W_(i,r)},i=>{e(()=>{let r=new Z(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,t){let i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return $(LF,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():($(LF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yD=class extends r_{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=h7(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?_r(s.readTime):Ae.min()})(e);return this.listener.J_(t,i)}H_(e){let t={};t.database=$C(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=AC(c)?{documents:p7(o,c)}:{query:g7(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jL(o,s.resumeToken);let d=BC(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Xg(o,s.snapshotVersion.toTimestamp());let d=BC(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let i=v7(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){let t={};t.database=$C(this.serializer),t.removeTarget=e,this.k_(t)}},bD=class extends r_{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=m7(e.writeResults,e.commitTime),i=_r(e.commitTime);return this.listener.ta(i,t)}na(){let e={};e.database=$C(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>f7(this.serializer,i))};this.k_(t)}};var wD=class{},ED=class extends wD{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,UC(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(F.UNKNOWN,o.toString())})}Jo(e,t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,UC(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(F.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ID=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oo(t),this._a=!1):$("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Sa="RemoteStore",CD=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{i.enqueueAndForget(async()=>{ka(this)&&($(Sa,"Restarting streams for network reachability change."),await(async function(c){let d=De(c);d.Ia.add(4),await oh(d),d.Aa.set("Unknown"),d.Ia.delete(4),await D_(d)})(this))})}),this.Aa=new ID(i,r)}};async function D_(n){if(ka(n))for(let e of n.da)await e(!0)}async function oh(n){for(let e of n.da)await e(!1)}function QL(n,e){let t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),rT(t)?iT(t):Cl(t).x_()&&nT(t,e))}function tT(n,e){let t=De(n),i=Cl(t);t.Ta.delete(e),i.x_()&&YL(t,e),t.Ta.size===0&&(i.x_()?i.B_():ka(t)&&t.Aa.set("Unknown"))}function nT(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(n).H_(e)}function YL(n,e){n.Ra.$e(e),Cl(n).Y_(e)}function iT(n){n.Ra=new VC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Cl(n).start(),n.Aa.aa()}function rT(n){return ka(n)&&!Cl(n).M_()&&n.Ta.size>0}function ka(n){return De(n).Ia.size===0}function XL(n){n.Ra=void 0}async function O7(n){n.Aa.set("Online")}async function F7(n){n.Ta.forEach((e,t)=>{nT(n,e)})}async function L7(n,e){XL(n),rT(n)?(n.Aa.la(e),iT(n)):n.Aa.set("Unknown")}async function V7(n,e,t){if(n.Aa.set("Online"),e instanceof Qg&&e.state===2&&e.cause)try{await(async function(r,o){let s=o.cause;for(let a of o.targetIds)r.Ta.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.Ta.delete(a),r.Ra.removeTarget(a))})(n,e)}catch(i){$(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await o_(n,i)}else if(e instanceof sl?n.Ra.Ye(e):e instanceof Kg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ae.min()))try{let i=await KL(n.localStore);t.compareTo(i)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.Ta.get(d);u&&o.Ta.set(d,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{let u=o.Ta.get(c);if(!u)return;o.Ta.set(c,u.withResumeToken(yn.EMPTY_BYTE_STRING,u.snapshotVersion)),YL(o,c);let f=new Zu(u.target,c,d,u.sequenceNumber);nT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(i){$(Sa,"Failed to raise snapshot:",i),await o_(n,i)}}async function o_(n,e,t){if(!Il(e))throw e;n.Ia.add(1),await oh(n),n.Aa.set("Offline"),t||(t=()=>KL(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{$(Sa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await D_(n)})}function ZL(n,e){return e().catch(t=>o_(n,t,e))}async function T_(n){let e=De(n),t=ls(e),i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qD;for(;j7(e);)try{let r=await R7(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,B7(e,r)}catch(r){await o_(e,r)}JL(e)&&eV(e)}function j7(n){return ka(n)&&n.Pa.length<10}function B7(n,e){n.Pa.push(e);let t=ls(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function JL(n){return ka(n)&&!ls(n).M_()&&n.Pa.length>0}function eV(n){ls(n).start()}async function U7(n){ls(n).na()}async function z7(n){let e=ls(n);for(let t of n.Pa)e.X_(t.mutations)}async function $7(n,e,t){let i=n.Pa.shift(),r=PC.from(i,e,t);await ZL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await T_(n)}async function H7(n,e){e&&ls(n).Z_&&await(async function(i,r){if((function(s){return o7(s)&&s!==F.ABORTED})(r.code)){let o=i.Pa.shift();ls(i).N_(),await ZL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await T_(i)}})(n,e),JL(n)&&eV(n)}async function VF(n,e){let t=De(n);t.asyncQueue.verifyOperationInProgress(),$(Sa,"RemoteStore received new credentials");let i=ka(t);t.Ia.add(3),await oh(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await D_(t)}async function q7(n,e){let t=De(n);e?(t.Ia.delete(2),await D_(t)):e||(t.Ia.add(2),await oh(t),t.Aa.set("Unknown"))}function Cl(n){return n.Va||(n.Va=(function(t,i,r){let o=De(t);return o.ia(),new yD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:O7.bind(null,n),e_:F7.bind(null,n),n_:L7.bind(null,n),J_:V7.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),rT(n)?iT(n):n.Aa.set("Unknown")):(await n.Va.stop(),XL(n))})),n.Va}function ls(n){return n.ma||(n.ma=(function(t,i,r){let o=De(t);return o.ia(),new bD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:U7.bind(null,n),n_:H7.bind(null,n),ea:z7.bind(null,n),ta:$7.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await T_(n)):(await n.ma.stop(),n.Pa.length>0&&($(Sa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var DD=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oT(n,e){if(oo("AsyncQueue",`${e}: ${n}`),Il(n))return new Z(F.UNAVAILABLE,`${e}: ${n}`);throw n}var s_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||le.comparator(t.key,i.key):(t,i)=>le.comparator(t.key,i.key),this.keyedMap=Uu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var a_=class{constructor(){this.fa=new kt(le.comparator)}track(e){let t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ce(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}},bl=class n{constructor(e,t,i,r,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,s_.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var TD=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},SD=class{constructor(){this.queries=jF(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){let r=De(t),o=r.queries;r.queries=jF(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(i)})})(this,new Z(F.ABORTED,"Firestore shutting down"))}};function jF(){return new co(n=>TL(n),E_)}async function tV(n,e){let t=De(n),i=3,r=e.query,o=t.queries.get(r);o?!o.Sa()&&e.ba()&&(i=2):(o=new TD,i=e.ba()?0:1);try{switch(i){case 0:o.ya=await t.onListen(r,!0);break;case 1:o.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(s){let a=oT(s,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&sT(t)}async function nV(n,e){let t=De(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?r=e.ba()?0:1:!o.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function G7(n,e){let t=De(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(r)&&(i=!0);s.ya=r}}i&&sT(t)}function W7(n,e,t){let i=De(n),r=i.queries.get(e);if(r)for(let o of r.wa)o.onError(t);i.queries.delete(e)}function sT(n){n.Da.forEach(e=>{e.next()})}var xD,BF;(BF=xD||(xD={})).Fa="default",BF.Cache="cache";var c_=class{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xD.Cache}};var l_=class{constructor(e){this.key=e}},d_=class{constructor(e){this.key=e}},AD=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ze(),this.mutatedKeys=ze(),this.Xa=SL(e),this.eu=new s_(this.Xa)}get tu(){return this.Ha}nu(e,t){let i=t?t.ru:new a_,r=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{let p=r.get(u),g=I_(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),T=!1;p&&g?p.data.isEqual(g.data)?b!==D&&(i.track({type:3,doc:g}),T=!0):this.iu(p,g)||(i.track({type:2,doc:g}),T=!0,(c&&this.Xa(g,c)>0||d&&this.Xa(g,d)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),T=!0):p&&!g&&(i.track({type:1,doc:p}),T=!0,(c||d)&&(a=!0)),T&&(g?(s=s.add(g),o=D?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{eu:s,ru:i,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((u,f)=>(function(g,b){let D=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{At:T})}};return D(g)-D(b)})(u.type,f.type)||this.Xa(u.doc,f.doc)),this.su(i),r=r!=null&&r;let a=t&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,d=c!==this.Ya;return this.Ya=c,s.length!==0||d?{snapshot:new bl(this.query,e.eu,o,s,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new a_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ze(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});let t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new d_(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new l_(i))}),t}uu(e){this.Ha=e.qs,this.Za=ze();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return bl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},aT="SyncEngine",kD=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},RD=class{constructor(e){this.key=e,this.lu=!1}},MD=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new co(a=>TL(a),E_),this.Tu=new Map,this.Iu=new Set,this.du=new kt(le.comparator),this.Eu=new Map,this.Au=new eh,this.Ru={},this.Vu=new Map,this.mu=Ju.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function K7(n,e,t=!0){let i=cV(n),r,o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await iV(i,e,t,!0),r}async function Q7(n,e){let t=cV(n);await iV(t,e,!0,!1)}async function iV(n,e,t,i){let r=await M7(n.localStore,gr(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=await Y7(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&QL(n.remoteStore,r),a}async function Y7(n,e,t,i,r){n.gu=(f,p,g)=>(async function(D,T,R,V){let H=T.view.nu(R);H.Ds&&(H=await OF(D.localStore,T.query,!1).then(({documents:I})=>T.view.nu(I,H)));let G=V&&V.targetChanges.get(T.targetId),tt=V&&V.targetMismatches.get(T.targetId)!=null,ge=T.view.applyChanges(H,D.isPrimaryClient,G,tt);return zF(D,T.targetId,ge._u),ge.snapshot})(n,f,p,g);let o=await OF(n.localStore,e,!0),s=new AD(e,o.qs),a=s.nu(o.documents),c=Xu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=s.applyChanges(a,n.isPrimaryClient,c);zF(n,t,d._u);let u=new kD(e,t,s);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),d.snapshot}async function X7(n,e,t){let i=De(n),r=i.Pu.get(e),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(s=>!E_(s,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await hD(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&tT(i.remoteStore,r.targetId),ND(i,r.targetId)}).catch(El)):(ND(i,r.targetId),await hD(i.localStore,r.targetId,!0))}async function Z7(n,e){let t=De(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tT(t.remoteStore,i.targetId))}async function J7(n,e,t){let i=sQ(n);try{let r=await(function(s,a){let c=De(s),d=Bt.now(),u=a.reduce((g,b)=>g.add(b.key),ze()),f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=lo(),D=ze();return c.Os.getEntries(g,u).next(T=>{b=T,b.forEach((R,V)=>{V.isValidDocument()||(D=D.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(T=>{f=T;let R=[];for(let V of a){let H=r7(V,f.get(V.key).overlayedDocument);H!=null&&R.push(new uo(V.key,H,bL(H.value.mapValue),ba.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,R,a)}).next(T=>{p=T;let R=T.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(g,T.batchId,R)})}).then(()=>({batchId:p.batchId,changes:AL(f)}))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(s,a,c){let d=s.Ru[s.currentUser.toKey()];d||(d=new kt(Oe)),d=d.insert(a,c),s.Ru[s.currentUser.toKey()]=d})(i,r.batchId,t),await sh(i,r.changes),await T_(i.remoteStore)}catch(r){let o=oT(r,"Failed to persist write");t.reject(o)}}async function rV(n,e){let t=De(n);try{let i=await A7(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Eu.get(o);s&&(Xe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.lu=!0:r.modifiedDocuments.size>0?Xe(s.lu,14607):r.removedDocuments.size>0&&(Xe(s.lu,42227),s.lu=!1))}),await sh(t,i,e)}catch(i){await El(i)}}function UF(n,e,t){let i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&r.push(a.snapshot)}),(function(s,a){let c=De(s);c.onlineState=a;let d=!1;c.queries.forEach((u,f)=>{for(let p of f.wa)p.va(a)&&(d=!0)}),d&&sT(c)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eQ(n,e,t){let i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Eu.get(e),o=r&&r.key;if(o){let s=new kt(le.comparator);s=s.insert(o,$i.newNoDocument(o,Ae.min()));let a=ze().add(o),c=new Wg(Ae.min(),new Map,new kt(Oe),s,a);await rV(i,c),i.du=i.du.remove(o),i.Eu.delete(e),cT(i)}else await hD(i.localStore,e,!1).then(()=>ND(i,e,t)).catch(El)}async function tQ(n,e){let t=De(n),i=e.batch.batchId;try{let r=await x7(t.localStore,e);sV(t,i,null),oV(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await sh(t,r)}catch(r){await El(r)}}async function nQ(n,e,t){let i=De(n);try{let r=await(function(s,a){let c=De(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Xe(f!==null,37113),u=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})})(i.localStore,e);sV(i,e,t),oV(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await sh(i,r)}catch(r){await El(r)}}function oV(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function sV(n,e,t){let i=De(n),r=i.Ru[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function ND(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||aV(n,i)})}function aV(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(tT(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),cT(n))}function zF(n,e,t){for(let i of t)i instanceof l_?(n.Au.addReference(i.key,e),iQ(n,i)):i instanceof d_?($(aT,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||aV(n,i.key)):ce(19791,{yu:i})}function iQ(n,e){let t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||($(aT,"New document in limbo: "+t),n.Iu.add(i),cT(n))}function cT(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new le(Pt.fromString(e)),i=n.mu.next();n.Eu.set(i,new RD(t)),n.du=n.du.insert(t,i),QL(n.remoteStore,new Zu(gr(w_(t.path)),i,"TargetPurposeLimboResolution",HD.ue))}}async function sh(n,e,t){let i=De(n),r=[],o=[],s=[];i.Pu.isEmpty()||(i.Pu.forEach((a,c)=>{s.push(i.gu(c,e,t).then(d=>{var u;if((d||t)&&i.isPrimaryClient){let f=d?!d.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){r.push(d);let f=cD.Es(c.targetId,d);o.push(f)}}))}),await Promise.all(s),i.hu.J_(r),await(async function(c,d){let u=De(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>L.forEach(d,p=>L.forEach(p.Is,g=>u.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>L.forEach(p.ds,g=>u.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Il(f))throw f;$(eT,"Failed to update sequence numbers: "+f)}for(let f of d){let p=f.targetId;if(!f.fromCache){let g=u.Fs.get(p),b=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(b);u.Fs=u.Fs.insert(p,D)}}})(i.localStore,o))}async function rQ(n,e){let t=De(n);if(!t.currentUser.isEqual(e)){$(aT,"User change. New user:",e.toKey());let i=await WL(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Z(F.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sh(t,i.Bs)}}function oQ(n,e){let t=De(n),i=t.Eu.get(e);if(i&&i.lu)return ze().add(i.key);{let r=ze(),o=t.Tu.get(e);if(!o)return r;for(let s of o){let a=t.Pu.get(s);r=r.unionWith(a.view.tu)}return r}}function cV(n){let e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eQ.bind(null,e),e.hu.J_=G7.bind(null,e.eventManager),e.hu.pu=W7.bind(null,e.eventManager),e}function sQ(n){let e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nQ.bind(null,e),e}var lV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=C_(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return S7(this.persistence,new dD,t.initialUser,this.serializer)}Du(t){return new Jg(aD.Vi,this.serializer)}bu(t){return new fD}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),PD=class extends lV{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Xe(this.persistence.referenceDelegate instanceof e_,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new KC(i,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new Jg(i=>e_.Vi(i,t),this.serializer)}};var aQ=(()=>{class n{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rQ.bind(null,this.syncEngine),await q7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SD})()}createDatastore(t){let i=C_(t.databaseInfo.databaseId),r=(function(s){return new vD(s)})(t.databaseInfo);return(function(s,a,c,d){return new ED(s,a,c,d)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,s,a,c){return new CD(r,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,i=>UF(this.syncEngine,i,0),(function(){return n_.C()?new n_:new mD})())}createSyncEngine(t,i){return(function(o,s,a,c,d,u,f){let p=new MD(o,s,a,c,d,u);return f&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){let s=De(o);$(Sa,"RemoteStore shutting down."),s.Ia.add(5),await oh(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}return n.provider={build:()=>new n},n})();var u_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ds="FirestoreClient",OD=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Zt.UNAUTHENTICATED,this.clientId=Gu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async s=>{$(ds,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>($(ds,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=oT(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}};async function aC(n,e){n.asyncQueue.verifyOperationInProgress(),$(ds,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WL(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{as("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{as("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=e}async function $F(n,e){n.asyncQueue.verifyOperationInProgress();let t=await cQ(n);$(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>VF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>VF(e.remoteStore,r)),n._onlineComponents=e}async function cQ(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$(ds,"Using user provided OfflineComponentProvider");try{await aC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===F.FAILED_PRECONDITION||r.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;as("Error using user provided cache. Falling back to memory cache: "+t),await aC(n,new lV)}}else $(ds,"Using default OfflineComponentProvider"),await aC(n,new PD(void 0));return n._offlineComponents}async function dV(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($(ds,"Using user provided OnlineComponentProvider"),await $F(n,n._uninitializedComponentsProvider._online)):($(ds,"Using default OnlineComponentProvider"),await $F(n,new aQ))),n._onlineComponents}function lQ(n){return dV(n).then(e=>e.syncEngine)}async function FD(n){let e=await dV(n),t=e.eventManager;return t.onListen=K7.bind(null,e.syncEngine),t.onUnlisten=X7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Q7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z7.bind(null,e.syncEngine),t}function dQ(n,e,t={}){let i=new mr;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,d){let u=new u_({next:p=>{u.Ou(),s.enqueueAndForget(()=>nV(o,f));let g=p.docs.has(a);!g&&p.fromCache?d.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new c_(w_(a.path),u,{includeMetadataChanges:!0,ka:!0});return tV(o,f)})(await FD(n),n.asyncQueue,e,t,i)),i.promise}function uV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var HF=new Map;var hV="firestore.googleapis.com",qF=!0,h_=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hV,this.ssl=qF}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C7)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uV((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},th=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new cC;switch(i.type){case"firstParty":return new hC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let i=HF.get(t);i&&($("ComponentProvider","Removing Datastore"),HF.delete(t),i.terminate())})(this),Promise.resolve()}};function fV(n,e,t,i={}){var r;n=is(n,th);let o=Qo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(ig(`https://${c}`),rg("Firestore",!0)),s.host!==hV&&s.host!==c&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:i});if(!cr(d,a)&&(n._setSettings(d),i.mockUserToken)){let u,f;if(typeof i.mockUserToken=="string")u=i.mockUserToken,f=Zt.MOCK_USER;else{u=IO(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(p)}n._authCredentials=new lC(new Vg(u,f))}}var f_=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},vn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(rh(t,n._jsonSchema))return new n(e,i||null,new le(Pt.fromString(t.referencePath)))}};vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:jt("string",vn._jsonSchemaVersion),referencePath:jt("string")};var nh=class n extends f_{constructor(e,t,i){super(e,t,w_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new le(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mV(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=Gu.newId()),bK("doc","path",e),n instanceof th){let i=Pt.fromString(e,...t);return dF(i),new vn(n,null,new le(i))}{if(!(n instanceof vn||n instanceof nh))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Pt.fromString(e,...t));return dF(i),new vn(n.firestore,n instanceof nh?n.converter:null,new le(i))}}var GF="AsyncQueue",m_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new i_(this,"async_queue_retry"),this.oc=()=>{let i=sC();i&&$(GF,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let t=sC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=sC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new mr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Il(e))throw e;$(GF,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,oo("INTERNAL UNHANDLED ERROR: ",WF(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let r=DD.createAndSchedule(this,e,t,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&ce(47125,{hc:WF(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function WF(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function KF(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}var xa=class extends th{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new m_,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}};function pV(n,e){let t=typeof n=="object"?n:ua(),i=typeof n=="string"?n:e||$g,r=Kc(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=EO("firestore");o&&fV(r,...o)}return r}function lT(n){if(n._terminated)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uQ(n),n._firestoreClient}function uQ(n){var e,t,i;let r=n._freezeSettings(),o=(function(a,c,d,u){return new _C(a,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uV(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new OD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var rs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yn.fromBase64String(e))}catch(t){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rh(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};rs._jsonSchemaVersion="firestore/bytes/1.0",rs._jsonSchema={type:jt("string",rs._jsonSchemaVersion),bytes:jt("string")};var ih=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var p_=class{constructor(e){this._methodName=e}};var os=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(rh(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:jt("string",os._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};var ss=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rh(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Z(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:jt("string",ss._jsonSchemaVersion),vectorValues:jt("object")};var hQ=/^__.*__$/,LD=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ta(e,this.data,t,this.fieldTransforms)}};function gV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ec:n})}}var VD=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return g_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gV(this.Ec)&&hQ.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},jD=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||C_(e)}Dc(e,t,i,r=!1){return new VD({Ec:e,methodName:t,bc:i,path:ni.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fQ(n){let e=n._freezeSettings(),t=C_(n._databaseId);return new jD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mQ(n,e,t,i,r,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,r);bV("Data must be an object, but it was:",s,i);let a=vV(i,s),c,d;if(o.merge)c=new fr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let f of o.mergeFields){let p=pQ(e,f,t);if(!s.contains(p))throw new Z(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);_Q(u,p)||u.push(p)}c=new fr(u),d=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=s.fieldTransforms;return new LD(new zi(a),c,d)}function _V(n,e){if(yV(n=Tn(n)))return bV("Unsupported field value:",e,n),vV(n,e);if(n instanceof p_)return(function(i,r){if(!gV(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){let o=[],s=0;for(let a of i){let c=_V(a,r.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(i,r){if((i=Tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JK(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Bt.fromDate(i);return{timestampValue:Xg(r.serializer,o)}}if(i instanceof Bt){let o=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xg(r.serializer,o)}}if(i instanceof os)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof rs)return{bytesValue:jL(r.serializer,i._byteString)};if(i instanceof vn){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JD(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ss)return(function(s,a){return{mapValue:{fields:{[WD]:{stringValue:KD},[dl]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return ZD(a.serializer,d)})}}}}}})(i,r);throw r.wc(`Unsupported field value: ${$D(i)}`)})(n,e)}function vV(n,e){let t={};return hL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(i,r)=>{let o=_V(r,e.Vc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function yV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof os||n instanceof rs||n instanceof vn||n instanceof p_||n instanceof ss)}function bV(n,e,t){if(!yV(t)||!XF(t)){let i=$D(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function pQ(n,e,t){if((e=Tn(e))instanceof ih)return e._internalPath;if(typeof e=="string")return wV(n,e);throw g_("Field path arguments must be of type string or ",n,!1,void 0,t)}var gQ=new RegExp("[~\\*/\\[\\]]");function wV(n,e,t){if(e.search(gQ)>=0)throw g_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ih(...e.split("."))._internalPath}catch{throw g_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function g_(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Z(F.INVALID_ARGUMENT,a+n+c)}function _Q(n,e){return n.some(t=>t.isEqual(e))}var __=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new BD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(EV("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},BD=class extends __{data(){return super.data()}};function EV(n,e){return typeof e=="string"?wV(n,e):e instanceof ih?e._internalPath:e._delegate._internalPath}function vQ(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UD=class{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Aa(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[dl].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>yt(s.doubleValue));return new ss(o)}convertGeoPoint(e){return new os(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=b_(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){let t=so(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Pt.fromString(e);Xe(qL(i),9688,{name:e});let r=new Hg(i.get(1),i.get(3)),o=new le(i.popFirst(5));return r.isEqual(t)||oo(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function yQ(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ya=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wa=class n extends __{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(EV("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:jt("string",wa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};var al=class extends wa{data(e={}){return super.data(e)}},cl=class n{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ya(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new al(this._firestore,this._userDataWriter,i.key,i,new ya(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new al(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ya(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new al(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ya(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,u=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:bQ(a.type),doc:c,oldIndex:d,newIndex:u}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function bQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:n})}}function IV(n){n=is(n,vn);let e=is(n.firestore,xa);return dQ(lT(e),n._key).then(t=>TV(e,n,t))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:jt("string",cl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};var v_=class extends UD{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}};function CV(n,e,t){n=is(n,vn);let i=is(n.firestore,xa),r=yQ(n.converter,e,t);return wQ(i,[mQ(fQ(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,ba.none())])}function DV(n,...e){var t,i,r;n=Tn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KF(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KF(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,d,u;if(n instanceof vn)d=is(n.firestore,xa),u=w_(n._key.path),c={next:f=>{e[s]&&e[s](TV(d,n,f))},error:e[s+1],complete:e[s+2]};else{let f=is(n,f_);d=is(f.firestore,xa),u=f._query;let p=new v_(d);c={next:g=>{e[s]&&e[s](new cl(d,p,f,g))},error:e[s+1],complete:e[s+2]},vQ(n._query)}return(function(p,g,b,D){let T=new u_(D),R=new c_(g,T,b);return p.asyncQueue.enqueueAndForget(async()=>tV(await FD(p),R)),()=>{T.Ou(),p.asyncQueue.enqueueAndForget(async()=>nV(await FD(p),R))}})(lT(d),u,a,c)}function wQ(n,e){return(function(i,r){let o=new mr;return i.asyncQueue.enqueueAndForget(async()=>J7(await lQ(i),r,o)),o.promise})(lT(n),e)}function TV(n,e,t){let i=t.docs.get(e._key),r=new v_(n);return new wa(n,r,e._key,i,new ya(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){wl=r})(Xo),ji(new Sn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new xa(new dC(i.getProvider("auth-internal")),new fC(s,i.getProvider("app-check-internal")),(function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hg(d.options.projectId,u)})(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),At(sF,aF,e),At(sF,aF,"esm2017")})();var Ra=class{constructor(e){return e}},SV="firestore",dT=class{constructor(){return Yc(SV)}};var uT=new M("angularfire2.firestore-instances");function EQ(n,e){let t=Su(SV,n,e);return t&&new Ra(t)}function IQ(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ra(i)}}var CQ={provide:dT,deps:[[new On,uT]]},DQ={provide:Ra,useFactory:EQ,deps:[[new On,uT],Zr]};function xV(n,...e){return At("angularfire",Zo.full,"fst"),Mn([DQ,CQ,{provide:uT,useFactory:IQ(n),multi:!0,deps:[Q,ye,Jo,fa,[new On,ju],[new On,Xc],...e]}])}var hT=Un(mV,!0,2);var AV=Un(IV,!0);var kV=Un(pV,!0);var RV=Un(DV,!0);var fT=Un(CV,!0,2);var MV={apiKey:"AIzaSyD2eNxZcsKdFdEKqlpAY9ZfBRVc1cWkbfs",authDomain:"therassist-b96bd.firebaseapp.com",projectId:"therassist-b96bd",storageBucket:"therassist-b96bd.firebasestorage.app",messagingSenderId:"831726805692",appId:"1:831726805692:web:405445c8a87358f8b0e6b9",measurementId:"G-XE842ZVG3W"};function ah(n){return n.buttons===0||n.detail===0}function ch(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var mT;function NV(){if(mT==null){let n=typeof document<"u"?document.head:null;mT=!!(n&&(n.createShadowRoot||n.attachShadow))}return mT}function pT(n){if(NV()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ln(n){return n.composedPath?n.composedPath()[0]:n.target}var gT;try{gT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gT=!1}var Ht=(()=>{class n{_platformId=v(Ur);isBrowser=this._platformId?XM(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||gT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lh;function PV(){if(lh==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lh=!0}))}finally{lh=lh||!1}return lh}function Dl(n){return PV()?n:!!n.capture}function br(n){return n instanceof be?n.nativeElement:n}var OV=new M("cdk-input-modality-detector-options"),FV={ignoreKeys:[18,17,224,91,16]},LV=650,_T={passive:!0,capture:!0},VV=(()=>{class n{_platform=v(Ht);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new it(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ln(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<LV||(this._modality.next(ah(t)?"keyboard":"mouse"),this._mostRecentTarget=ln(t))};_onTouchstart=t=>{if(ch(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ln(t)};constructor(){let t=v(Q),i=v(me),r=v(OV,{optional:!0});if(this._options=N(N({},FV),r),this.modalityDetected=this._modality.pipe(Ry(1)),this.modalityChanged=this.modalityDetected.pipe(tc()),this._platform.isBrowser){let o=v(Ft).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,_T),o.listen(i,"mousedown",this._onMousedown,_T),o.listen(i,"touchstart",this._onTouchstart,_T)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dh=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(dh||{}),jV=new M("cdk-focus-monitor-default-options"),S_=Dl({passive:!0,capture:!0}),uh=(()=>{class n{_ngZone=v(Q);_platform=v(Ht);_inputModalityDetector=v(VV);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=v(me);_stopInputModalityDetector=new K;constructor(){let t=v(jV,{optional:!0});this._detectionMode=t?.detectionMode||dh.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=ln(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=br(t);if(!this._platform.isBrowser||r.nodeType!==1)return z();let o=pT(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new K,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=br(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=br(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===dh.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===dh.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?LV:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=ln(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,S_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,S_)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ot(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,S_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,S_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x_=new WeakMap,_i=(()=>{class n{_appRef;_injector=v(ye);_environmentInjector=v(Je);load(t){let i=this._appRef=this._appRef||this._injector.get(Kn),r=x_.get(i);r||(r={loaders:new Set,refs:[]},x_.set(i,r),i.onDestroy(()=>{x_.get(i)?.refs.forEach(o=>o.destroy()),x_.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(Gm(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function yT(n){return Array.isArray(n)?n:[n]}var BV=new Set,Ma,bT=(()=>{class n{_platform=v(Ht);_nonce=v(Ec,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):SQ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&TQ(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TQ(n,e){if(!BV.has(n))try{Ma||(Ma=document.createElement("style"),e&&Ma.setAttribute("nonce",e),Ma.setAttribute("type","text/css"),document.head.appendChild(Ma)),Ma.sheet&&(Ma.sheet.insertRule(`@media ${n} {body{ }}`,0),BV.add(n))}catch(t){console.error(t)}}function SQ(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var xQ=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var A_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({providers:[xQ]})}return n})();var UV=new M("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),zV=new M("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),AQ=0,wT=(()=>{class n{_ngZone=v(Q);_defaultOptions=v(zV,{optional:!0});_liveElement;_document=v(me);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=v(UV,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${AQ++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ET={},xn=class n{_appId=v(wc);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),ET.hasOwnProperty(e)||(ET[e]=0),`${e}${t?n._infix+"-":""}${ET[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var kQ=200,Tl=class{_letterKeyStream=new K;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new K;selectedItem=this._selectedItem;constructor(e,t){let i=typeof t?.debounceInterval=="number"?t.debounceInterval:kQ;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(at(t=>this._pressedLetters.push(t)),xy(e),Ze(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function wr(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var k_=class{_items;_activeItemIndex=Re(-1);_activeItem=Re(null);_wrap=!1;_typeaheadSubscription=Fe.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Vr?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Ws(e)&&(this._effectRef=Di(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new K;change=new K;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new Tl(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||wr(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),i=typeof e=="number"?e:t.indexOf(e),r=t[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let i=1;i<=t.length;i++){let r=(this._activeItemIndex()+e*i+t.length)%t.length,o=t[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=t,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Ws(this._items)?this._items():this._items instanceof Vr?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let i=e.indexOf(t);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var hh=class extends k_{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function Na(n){return oi(n)?n:z(n)}var DT=class{_activeItemIndex=-1;_activeItem=null;_shouldActivationFollowFocus=!1;_horizontalOrientation="ltr";_skipPredicateFn=e=>!1;_trackByFn=e=>e;_items=[];_typeahead;_typeaheadSubscription=Fe.EMPTY;_hasInitialFocused=!1;_initializeFocus(){if(this._hasInitialFocused||this._items.length===0)return;let e=0;for(let i=0;i<this._items.length;i++)if(!this._skipPredicateFn(this._items[i])&&!this._isItemDisabled(this._items[i])){e=i;break}let t=this._items[e];t.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=e,this._activeItem=t,this._typeahead?.setCurrentSelectedItemIndex(e),t.makeFocusable()):this.focusItem(e),this._hasInitialFocused=!0}constructor(e,t){e instanceof Vr?(this._items=e.toArray(),e.changes.subscribe(i=>{this._items=i.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):oi(e)?e.subscribe(i=>{this._items=i,this._typeahead?.setItems(i),this._updateActiveItemIndex(i),this._initializeFocus()}):(this._items=e,this._initializeFocus()),typeof t.shouldActivationFollowFocus=="boolean"&&(this._shouldActivationFollowFocus=t.shouldActivationFollowFocus),t.horizontalOrientation&&(this._horizontalOrientation=t.horizontalOrientation),t.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),t.trackBy&&(this._trackByFn=t.trackBy),typeof t.typeAheadDebounceInterval<"u"&&this._setTypeAhead(t.typeAheadDebounceInterval)}change=new K;destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(e){switch(e.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":this._horizontalOrientation==="rtl"?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":this._horizontalOrientation==="rtl"?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if(e.key==="*"){this._expandAllItemsAtCurrentItemLevel();break}this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(e,t={}){t.emitChangeEvent??=!0;let i=typeof e=="number"?e:this._items.findIndex(s=>this._trackByFn(s)===this._trackByFn(e));if(i<0||i>=this._items.length)return;let r=this._items[i];if(this._activeItem!==null&&this._trackByFn(r)===this._trackByFn(this._activeItem))return;let o=this._activeItem;this._activeItem=r??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i),this._activeItem?.focus(),o?.unfocus(),t.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(e){let t=this._activeItem;if(!t)return;let i=e.findIndex(r=>this._trackByFn(r)===this._trackByFn(t));i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}_setTypeAhead(e){this._typeahead=new Tl(this._items,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.focusItem(t)})}_findNextAvailableItemIndex(e){for(let t=e+1;t<this._items.length;t++)if(!this._skipPredicateFn(this._items[t]))return t;return e}_findPreviousAvailableItemIndex(e){for(let t=e-1;t>=0;t--)if(!this._skipPredicateFn(this._items[t]))return t;return e}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{let e=this._activeItem.getParent();if(!e||this._skipPredicateFn(e))return;this.focusItem(e)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?Na(this._activeItem.getChildren()).pipe(st(1)).subscribe(e=>{let t=e.find(i=>!this._skipPredicateFn(i));t&&this.focusItem(t)}):this._activeItem.expand())}_isCurrentItemExpanded(){return this._activeItem?typeof this._activeItem.isExpanded=="boolean"?this._activeItem.isExpanded:this._activeItem.isExpanded():!1}_isItemDisabled(e){return typeof e.isDisabled=="boolean"?e.isDisabled:e.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;let e=this._activeItem.getParent(),t;e?t=Na(e.getChildren()):t=z(this._items.filter(i=>i.getParent()===null)),t.pipe(st(1)).subscribe(i=>{for(let r of i)r.expand()})}_activateCurrentItem(){this._activeItem?.activate()}},GV=new M("tree-key-manager",{providedIn:"root",factory:()=>(n,e)=>new DT(n,e)});var WV=" ";function KV(n,e,t){let i=QV(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(WV)))}function TT(n,e,t){let i=QV(n,e);t=t.trim();let r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(WV)):n.removeAttribute(e)}function QV(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var R_;function RQ(){if(R_===void 0&&(R_=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(R_=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return R_}function Sl(n){return RQ()?.createHTML(n)||n}var Pa;function YV(){if(Pa==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Pa=!1,Pa;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Pa=!0;else{let n=Element.prototype.scrollTo;n?Pa=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Pa=!1}}return Pa}function ST(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var MQ=new M("MATERIAL_ANIMATIONS"),XV=null;function NQ(){return v(MQ,{optional:!0})?.animationsDisabled||v(Vo,{optional:!0})==="NoopAnimations"?"di-disabled":(XV??=v(bT).matchMedia("(prefers-reduced-motion)").matches,XV?"reduced-motion":"enabled")}function zn(){return NQ()!=="enabled"}function Ot(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ZV(n){return n!=null&&`${n}`!="false"}var vi=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(vi||{}),xT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=vi.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},JV=Dl({passive:!0,capture:!0}),AT=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,JV)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,JV)))}_delegateEventHandler=e=>{let t=ln(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},fh={enterDuration:225,exitDuration:150},OQ=800,e2=Dl({passive:!0,capture:!0}),t2=["mousedown","touchstart"],n2=["mouseup","mouseleave","touchend","touchcancel"],FQ=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),mh=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new AT;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=br(i)),o&&o.get(_i).load(FQ)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=N(N({},fh),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||LQ(e,t,r),a=e-r.left,c=t-r.top,d=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),p=f.transitionProperty,g=f.transitionDuration,b=p==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,D=new xT(this,u,i,b);u.style.transform="scale3d(1, 1, 1)",D.state=vi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=D);let T=null;return!b&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>{T&&(T.fallbackTimer=null),clearTimeout(H),this._finishRippleTransition(D)},V=()=>this._destroyRipple(D),H=setTimeout(V,d+100);u.addEventListener("transitionend",R),u.addEventListener("transitioncancel",V),T={onTransitionEnd:R,onTransitionCancel:V,fallbackTimer:H}}),this._activeRipples.set(D,T),(b||!d)&&this._finishRippleTransition(D),D}fadeOutRipple(e){if(e.state===vi.FADING_OUT||e.state===vi.HIDDEN)return;let t=e.element,i=N(N({},fh),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=vi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=br(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,t2.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{n2.forEach(t=>{this._triggerElement.addEventListener(t,this,e2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===vi.FADING_IN?this._startFadeOutTransition(e):e.state===vi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=vi.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=vi.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ah(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+OQ;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ch(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===vi.VISIBLE||e.config.terminateOnPointerUp&&e.state===vi.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(t2.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(n2.forEach(t=>e.removeEventListener(t,this,e2)),this._pointerUpEventsRegistered=!1))}};function LQ(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var kT=new M("mat-ripple-global-options"),M_=(()=>{class n{_elementRef=v(be);_animationsDisabled=zn();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=v(Q),i=v(Ht),r=v(kT,{optional:!0}),o=v(ye);this._globalOptions=r||{},this._rippleRenderer=new mh(this,t,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:N(N(N({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,N(N({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,N(N({},this.rippleConfig),t))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ne("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var VQ={capture:!0},jQ=["focus","mousedown","mouseenter","touchstart"],RT="mat-ripple-loader-uninitialized",MT="mat-ripple-loader-class-name",i2="mat-ripple-loader-centered",N_="mat-ripple-loader-disabled",r2=(()=>{class n{_document=v(me);_animationsDisabled=zn();_globalRippleOptions=v(kT,{optional:!0});_platform=v(Ht);_ngZone=v(Q);_injector=v(ye);_eventCleanups;_hosts=new Map;constructor(){let t=v(Ft).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>jQ.map(i=>t.listen(this._document,i,this._onInteraction,VQ)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(RT,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(MT))&&t.setAttribute(MT,i.className||""),i.centered&&t.setAttribute(i2,""),i.disabled&&t.setAttribute(N_,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(N_,""):t.removeAttribute(N_)}_onInteraction=t=>{let i=ln(t);if(i instanceof HTMLElement){let r=i.closest(`[${RT}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(MT)),t.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??fh.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??fh.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||t.hasAttribute(N_),rippleConfig:{centered:t.hasAttribute(i2),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new mh(a,this._ngZone,i,this._platform,this._injector),d=!a.rippleDisabled;d&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:d}),t.removeAttribute(RT)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var BQ=["mat-icon-button",""],UQ=["*"],zQ=new M("MAT_BUTTON_CONFIG");function o2(n){return n==null?void 0:Xn(n)}var NT=(()=>{class n{_elementRef=v(be);_ngZone=v(Q);_animationsDisabled=zn();_config=v(zQ,{optional:!0});_focusMonitor=v(uh);_cleanupClick;_renderer=v(Ut);_rippleLoader=v(r2);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){v(_i).load(xl);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(Ye("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Ks(r.color?"mat-"+r.color:""),Ne("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ue],disabled:[2,"disabled","disabled",ue],ariaDisabled:[2,"aria-disabled","ariaDisabled",ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue],tabIndex:[2,"tabIndex","tabIndex",o2],_tabindex:[2,"tabindex","_tabindex",o2]}})}return n})(),ph=(()=>{class n extends NT{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[ft],attrs:BQ,ngContentSelectors:UQ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(It(),hi(0,"span",0),Be(1),hi(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var $Q=new M("cdk-dir-doc",{providedIn:"root",factory:()=>v(me)}),HQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function s2(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?HQ.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Er=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Re("ltr");change=new Ee;constructor(){let t=v($Q,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(s2(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var et=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})();var us=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et]})}return n})();var qQ=["matButton",""],GQ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],WQ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var a2=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Al=(()=>{class n extends NT{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=KQ(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?a2.get(this._appearance):null,o=a2.get(t);r&&i.remove(...r),i.add(...o),this._appearance=t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[ft],attrs:qQ,ngContentSelectors:WQ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(It(GQ),hi(0,"span",0),Be(1),Fn(2,"span",1),Be(3,1),Ln(),Be(4,2),hi(5,"span",2)(6,"span",3)),i&2&&Ne("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function KQ(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var hs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[us,et]})}return n})();var yi=class n{auth=v(no);user$=eF(this.auth);user=WO(this.user$,{initialValue:null});loginWithGoogle(){return nF(this.auth,new H0)}logout(){return iF(this.auth)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var fs=class n{firestore=v(Ra);authService=v(yi);zone=v(Q);unsubscribeFromFirestore=null;userProfile=Re({theme:"dark",profession:""});constructor(){Di(()=>{this.zone.run(async()=>{let e=this.authService.user();if(e){console.log("[Prefs] Utilisateur d\xE9tect\xE9:",e.uid);let t=hT(this.firestore,`users/${e.uid}`);try{await this.listenToProfile(t)}catch(i){console.error("[Prefs] Erreur irr\xE9cup\xE9rable lors de l'\xE9coute du profil dans l'effect:",i)}}else console.log("[Prefs] Aucun utilisateur, d\xE9connexion de Firestore."),this.unsubscribeFromFirestore&&this.unsubscribeFromFirestore(),this.userProfile.set({theme:"dark",profession:""})})})}async listenToProfile(e,t=3){console.log(`[Prefs] V\xE9rification du profil (tentatives restantes: ${t}):`,e.path);try{if(this.unsubscribeFromFirestore&&(this.unsubscribeFromFirestore(),this.unsubscribeFromFirestore=null),!(await AV(e)).exists()){console.log("[Prefs] Le profil n'existe pas, cr\xE9ation avec les valeurs par d\xE9faut.");let r={theme:"dark",profession:""};await fT(e,r),this.userProfile.set(r)}console.log("[Prefs] Attachement du listener pour les mises \xE0 jour en temps r\xE9el."),this.unsubscribeFromFirestore=RV(e,r=>{this.zone.run(()=>{if(r.exists()){let o=r.data();console.log("[Prefs] Donn\xE9es re\xE7ues de Firestore:",o),this.userProfile.set({theme:o?.theme==="light"?"light":"dark",profession:o?.profession||""})}else{console.log("[Prefs] Le profil a \xE9t\xE9 supprim\xE9, r\xE9initialisation aux valeurs par d\xE9faut.");let o={theme:"dark",profession:""};this.userProfile.set(o)}})})}catch(i){let r=i;if(r.code==="unavailable"&&t>0)console.warn(`[Prefs] Client hors ligne, nouvelle tentative dans 100ms... (tentatives restantes: ${t-1})`),setTimeout(()=>this.listenToProfile(e,t-1),100);else throw console.error("[Prefs] Erreur irr\xE9cup\xE9rable lors de la r\xE9cup\xE9ration du profil:",r),r}}updateProfileInFirestore(e){let t=this.authService.user();if(t){console.log("[Prefs] Mise \xE0 jour de Firestore avec:",e);let i=hT(this.firestore,`users/${t.uid}`);fT(i,e,{merge:!0})}}setTheme(e){this.userProfile.update(t=>de(N({},t),{theme:e})),this.updateProfileInFirestore({theme:e})}setProfession(e){console.log(`[Prefs] D\xE9finition du m\xE9tier (localement): ${e}`),this.userProfile.update(t=>de(N({},t),{profession:e})),this.updateProfileInFirestore({profession:e})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function QQ(n,e){if(n&1){let t=an();B(0,"button",8),xe("click",function(){pt(t);let r=$e();return gt(r.startRecording())}),we(1," D\xE9marrer l'enregistrement "),U()}}function YQ(n,e){if(n&1){let t=an();B(0,"button",9),xe("click",function(){pt(t);let r=$e();return gt(r.stopRecording())}),we(1," Arr\xEAter l'enregistrement "),U()}}function XQ(n,e){if(n&1&&(B(0,"div",10),we(1),U()),n&2){let t=$e();q(),gn(" ",t.message," ")}}var O_=class n{isRecording=!1;message="";audioURL=null;mediaRecorder=null;audioChunks=[];stream=null;http=v(Ho);sanitizer=v(Yd);preferencesService=v(fs);n8nWebhookUrl="https://n8n.af10.fr:8443/prod/129f4bfe-e6ac-4f47-8bad-0e539a53471f";async startRecording(){try{this.isRecording=!0,this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.audioURL=null,this.audioChunks=[],this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"audio/webm"}),this.mediaRecorder.ondataavailable=e=>{if(this.audioChunks.push(e.data),!this.isRecording){let t=new Blob(this.audioChunks,{type:"audio/webm"});this.sendFile(t,"enregistrement.webm")}},this.mediaRecorder.start()}catch(e){console.error("Erreur lors de l'acc\xE8s au microphone :",e),this.isRecording=!1}}stopRecording(){this.mediaRecorder&&this.isRecording&&(this.isRecording=!1,this.mediaRecorder.stop())}onFileSelected(e){let t=e.target;if(t.files&&t.files.length>0){let i=t.files[0];this.sendFile(i,i.name)}}sendFile(e,t){let i=new FileReader;i.readAsDataURL(e),i.onload=()=>{let r=i.result,o=new Date().getTime().toString(16),s=this.preferencesService.userProfile().profession,a={query_id:o,profession:s,file:{name:t,content:r}};console.log(`Envoi du fichier ${t} au webhook au format JSON...`),this.http.post(this.n8nWebhookUrl,a).subscribe({next:c=>{console.log("Webhook ex\xE9cut\xE9 avec succ\xE8s !",c),this.message="Fichier envoy\xE9 avec succ\xE8s !"},error:c=>{console.error("Erreur lors de l'envoi au webhook :",c),this.message="\xC9chec de l'envoi du fichier."}})},i.onerror=r=>{console.error("Erreur lors de la lecture du fichier :",r),this.message="Erreur lors de la pr\xE9paration du fichier."}}stopMediaStream(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)}ngOnDestroy(){this.stopRecording(),this.stopMediaStream()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-recorder"]],decls:9,vars:3,consts:[["fileInput",""],[1,"recorder-container"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["hidden","","type","file",3,"change"],["class","status-message",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"status-message"]],template:function(t,i){if(t&1){let r=an();B(0,"div",1)(1,"div",2),_t(2,QQ,2,0,"button",3)(3,YQ,2,0,"button",4),B(4,"button",5),xe("click",function(){pt(r);let s=ki(7);return gt(s.click())}),we(5," Analyser un document "),U()(),B(6,"input",6,0),xe("change",function(s){return pt(r),gt(i.onFileSelected(s))}),U(),_t(8,XQ,2,1,"div",7),U()}t&2&&(q(2),Ie("ngIf",!i.isRecording),q(),Ie("ngIf",i.isRecording),q(5),Ie("ngIf",i.message))},dependencies:[Vn,qr,Qd,hs,Al],styles:[".recorder-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;padding:20px;background-color:var(--background-color-secondary);border:1px solid var(--border-color);border-radius:8px;width:100%;max-width:500px;margin:20px auto;box-sizing:border-box}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;width:100%}.status-message[_ngcontent-%COMP%]{margin-top:10px;color:var(--text-color)}"]})};var kl=class n{pageTitle=Re("");static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var ms=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new K;constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,i=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}else return e}};var gh=class{};function PT(n){return n&&typeof n.connect=="function"&&!(n instanceof Jl)}var OT=class{dataNodes;expansionModel=new ms(!0);trackBy;getLevel;isExpandable;getChildren;toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}};var F_=class extends OT{getChildren;options;constructor(e,t){super(),this.getChildren=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy),this.options?.isExpandable&&(this.isExpandable=this.options.isExpandable)}expandAll(){this.expansionModel.clear();let e=this.dataNodes.reduce((t,i)=>[...t,...this.getDescendants(i),i],[]);this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}getDescendants(e){let t=[];return this._getDescendants(t,e),t.splice(1)}_getDescendants(e,t){e.push(t);let i=this.getChildren(t);Array.isArray(i)?i.forEach(r=>this._getDescendants(e,r)):oi(i)&&i.pipe(st(1),Ze(Boolean)).subscribe(r=>{for(let o of r)this._getDescendants(e,o)})}},vh=new M("CDK_TREE_NODE_OUTLET_NODE"),_h=(()=>{class n{viewContainer=v(Qt);_node=v(vh,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","cdkTreeNodeOutlet",""]]})}return n})(),FT=class{$implicit;level;index;count;constructor(e){this.$implicit=e}},L_=(()=>{class n{template=v(Pn);when;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return n})();function c2(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var yh=(()=>{class n{_differs=v(Ys);_changeDetectorRef=v(zt);_elementRef=v(be);_dir=v(Er);_onDestroy=new K;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new it({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new it([]);_nodeType=new it(null);_nodes=new it(new Map);_keyManagerNodes=new it([]);_keyManagerFactory=v(GV);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let t=this._nodeDefs.filter(i=>!i.when);t.length>1,this._defaultNodeDef=t[0]}_setNodeTypeIfUnset(t){this._nodeType.value===null&&this._nodeType.next(t)}_switchDataSource(t){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new ms(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let t;PT(this._dataSource)?t=this._dataSource.connect(this):oi(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=z(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe(ot(this._onDestroy)).subscribe(i=>{this._renderDataChanges(i)}))}_getRenderData(t){let i=this._getExpansionModel();return Co([t,this._nodeType,i.changed.pipe(si(null),at(r=>{this._emitExpansionChanges(r)}))]).pipe(Mt(([r,o])=>o===null?z({renderNodes:r,flattenedNodes:null,nodeType:o}):this._computeRenderingData(r,o).pipe(ee(s=>de(N({},s),{nodeType:o})))))}_renderDataChanges(t){if(t.nodeType===null){this.renderNodeChanges(t.renderNodes);return}this._updateCachedData(t.flattenedNodes),this.renderNodeChanges(t.renderNodes),this._updateKeyManagerItems(t.flattenedNodes)}_emitExpansionChanges(t){if(!t)return;let i=this._nodes.value;for(let r of t.added)i.get(r)?._emitExpansionState(!0);for(let r of t.removed)i.get(r)?._emitExpansionState(!1)}_initializeKeyManager(){let t=Co([this._keyManagerNodes,this._nodes]).pipe(ee(([r,o])=>r.reduce((s,a)=>{let c=o.get(this._getExpansionKey(a));return c&&s.push(c),s},[]))),i={trackBy:r=>this._getExpansionKey(r.data),skipPredicate:r=>!!r.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(t,i)}_initializeDataDiffer(){let t=this.trackBy??((i,r)=>this._getExpansionKey(r));this._dataDiffer=this._differs.find([]).create(t)}_checkTreeControlUsage(){}renderNodeChanges(t,i=this._dataDiffer,r=this._nodeOutlet.viewContainer,o){let s=i.diff(t);!s&&!this._viewInit||(s?.forEachOperation((a,c,d)=>{if(a.previousIndex==null)this.insertNode(t[d],d,r,o);else if(d==null)r.remove(c);else{let u=r.get(c);r.move(u,d)}}),s?.forEachIdentityChange(a=>{let c=a.item;if(a.currentIndex!=null){let d=r.get(a.currentIndex);d.context.$implicit=c}}),o?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){if(this._nodeDefs.length===1)return this._nodeDefs.first;let r=this._nodeDefs.find(o=>o.when&&o.when(i,t))||this._defaultNodeDef;return r}insertNode(t,i,r,o){let s=this._getLevelAccessor(),a=this._getNodeDef(t,i),c=this._getExpansionKey(t),d=new FT(t);d.index=i,o??=this._parents.get(c)??void 0,s?d.level=s(t):o!==void 0&&this._levels.has(this._getExpansionKey(o))?d.level=this._levels.get(this._getExpansionKey(o))+1:d.level=0,this._levels.set(c,d.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,d,i),ho.mostRecentTreeNode&&(ho.mostRecentTreeNode.data=t)}isExpanded(t){return!!(this.treeControl?.isExpanded(t)||this._expansionModel?.isSelected(this._getExpansionKey(t)))}toggle(t){this.treeControl?this.treeControl.toggle(t):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(t))}expand(t){this.treeControl?this.treeControl.expand(t):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(t))}collapse(t){this.treeControl?this.treeControl.collapse(t):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(t))}toggleDescendants(t){this.treeControl?this.treeControl.toggleDescendants(t):this._expansionModel&&(this.isExpanded(t)?this.collapseDescendants(t):this.expandDescendants(t))}expandDescendants(t){if(this.treeControl)this.treeControl.expandDescendants(t);else if(this._expansionModel){let i=this._expansionModel;i.select(this._getExpansionKey(t)),this._getDescendants(t).pipe(st(1),ot(this._onDestroy)).subscribe(r=>{i.select(...r.map(o=>this._getExpansionKey(o)))})}}collapseDescendants(t){if(this.treeControl)this.treeControl.collapseDescendants(t);else if(this._expansionModel){let i=this._expansionModel;i.deselect(this._getExpansionKey(t)),this._getDescendants(t).pipe(st(1),ot(this._onDestroy)).subscribe(r=>{i.deselect(...r.map(o=>this._getExpansionKey(o)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.select(...t))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.deselect(...t))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(t){let i=this._getLevelAccessor(),r=this._expansionModel??this.treeControl?.expansionModel;if(!r)return z([]);let o=this._getExpansionKey(t),s=r.changed.pipe(Mt(c=>c.added.includes(o)?z(!0):c.removed.includes(o)?z(!1):Gt),si(this.isExpanded(t)));if(i)return Co([s,this._flattenedNodes]).pipe(ee(([c,d])=>c?this._findChildrenByLevel(i,d,t,1):[]));let a=this._getChildrenAccessor();if(a)return Na(a(t)??[]);throw c2()}_findChildrenByLevel(t,i,r,o){let s=this._getExpansionKey(r),a=i.findIndex(f=>this._getExpansionKey(f)===s),c=t(r),d=c+o,u=[];for(let f=a+1;f<i.length;f++){let p=t(i[f]);if(p<=c)break;p<=d&&u.push(i[f])}return u}_registerNode(t){this._nodes.value.set(this._getExpansionKey(t.data),t),this._nodes.next(this._nodes.value)}_unregisterNode(t){this._nodes.value.delete(this._getExpansionKey(t.data)),this._nodes.next(this._nodes.value)}_getLevel(t){return this._levels.get(this._getExpansionKey(t))}_getSetSize(t){return this._getAriaSet(t).length}_getPositionInSet(t){let i=this._getAriaSet(t),r=this._getExpansionKey(t);return i.findIndex(o=>this._getExpansionKey(o)===r)+1}_getNodeParent(t){let i=this._parents.get(this._getExpansionKey(t.data));return i&&this._nodes.value.get(this._getExpansionKey(i))}_getNodeChildren(t){return this._getDirectChildren(t.data).pipe(ee(i=>i.reduce((r,o)=>{let s=this._nodes.value.get(this._getExpansionKey(o));return s&&r.push(s),r},[])))}_sendKeydownToKeyManager(t){if(t.target===this._elementRef.nativeElement)this._keyManager.onKeydown(t);else{let i=this._nodes.getValue();for(let[,r]of i)if(t.target===r._elementRef.nativeElement){this._keyManager.onKeydown(t);break}}}_getDescendants(t){if(this.treeControl)return z(this.treeControl.getDescendants(t));if(this.levelAccessor){let i=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,t,1/0);return z(i)}if(this.childrenAccessor)return this._getAllChildrenRecursively(t).pipe(If((i,r)=>(i.push(...r),i),[]));throw c2()}_getAllChildrenRecursively(t){return this.childrenAccessor?Na(this.childrenAccessor(t)).pipe(st(1),Mt(i=>{for(let r of i)this._parents.set(this._getExpansionKey(r),t);return z(...i).pipe(kr(r=>xr(z([r]),this._getAllChildrenRecursively(r))))})):z([])}_getExpansionKey(t){return this.expansionKey?.(t)??t}_getAriaSet(t){let i=this._getExpansionKey(t),r=this._parents.get(i),o=r?this._getExpansionKey(r):null;return this._ariaSets.get(o)??[t]}_findParentForNode(t,i,r){if(!r.length)return null;let o=this._levels.get(this._getExpansionKey(t))??0;for(let s=i-1;s>=0;s--){let a=r[s];if((this._levels.get(this._getExpansionKey(a))??0)<o)return a}return null}_flattenNestedNodesWithExpansion(t,i=0){let r=this._getChildrenAccessor();return r?z(...t).pipe(kr(o=>{let s=this._getExpansionKey(o);this._parents.has(s)||this._parents.set(s,null),this._levels.set(s,i);let a=Na(r(o));return xr(z([o]),a.pipe(st(1),at(c=>{this._ariaSets.set(s,[...c??[]]);for(let d of c??[]){let u=this._getExpansionKey(d);this._parents.set(u,o),this._levels.set(u,i+1)}}),Mt(c=>c?this._flattenNestedNodesWithExpansion(c,i+1).pipe(ee(d=>this.isExpanded(o)?d:[])):z([]))))}),If((o,s)=>(o.push(...s),o),[])):z([...t])}_computeRenderingData(t,i){if(this.childrenAccessor&&i==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(ee(r=>({renderNodes:r,flattenedNodes:r})));if(this.levelAccessor&&i==="nested"){let r=this.levelAccessor;return z(t.filter(o=>r(o)===0)).pipe(ee(o=>({renderNodes:o,flattenedNodes:t})),at(({flattenedNodes:o})=>{this._calculateParents(o)}))}else return i==="flat"?z({renderNodes:t,flattenedNodes:t}).pipe(at(({flattenedNodes:r})=>{this._calculateParents(r)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(ee(r=>({renderNodes:t,flattenedNodes:r}))))}_updateCachedData(t){this._flattenedNodes.next(t)}_updateKeyManagerItems(t){this._keyManagerNodes.next(t)}_calculateParents(t){let i=this._getLevelAccessor();if(i){this._clearPreviousCache();for(let r=0;r<t.length;r++){let o=t[r],s=this._getExpansionKey(o);this._levels.set(s,i(o));let a=this._findParentForNode(o,r,t);this._parents.set(s,a);let c=a?this._getExpansionKey(a):null,d=this._ariaSets.get(c)??[];d.splice(r,0,o),this._ariaSets.set(c,d)}}}_forEachExpansionKey(t){let i=[],r=[];this._nodes.value.forEach(o=>{i.push(this._getExpansionKey(o.data)),r.push(this._getDescendants(o.data))}),r.length>0?Co(r).pipe(st(1),ot(this._onDestroy)).subscribe(o=>{o.forEach(s=>s.forEach(a=>i.push(this._getExpansionKey(a)))),t(i)}):t(i)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["cdk-tree"]],contentQueries:function(i,r,o){if(i&1&&Qn(o,L_,5),i&2){let s;Le(s=Ve())&&(r._nodeDefs=s)}},viewQuery:function(i,r){if(i&1&&cn(_h,7),i&2){let o;Le(o=Ve())&&(r._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(i,r){i&1&&xe("keydown",function(s){return r._sendKeydownToKeyManager(s)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,r){i&1&&Bo(0,0)},dependencies:[_h],encapsulation:2})}return n})(),ho=(()=>{class n{_elementRef=v(be);_tree=v(yh);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(t){}get isExpandable(){return this._isExpandable()}set isExpandable(t){this._inputIsExpandable=t,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(t){this._inputIsExpanded=t,t?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new Ee;expandedChange=new Ee;static mostRecentTreeNode=null;_destroyed=new K;_dataChanges=new K;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=v(zt);constructor(){n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=ZQ(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(ee(()=>this.isExpanded),tc(),ot(this._destroyed)).pipe(ot(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(t){this.expandedChange.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(i,r){i&1&&xe("click",function(){return r._setActiveItem()})("focus",function(){return r._focusItem()}),i&2&&(ir("tabIndex",r._tabindex),Ye("aria-expanded",r._getAriaExpanded())("aria-level",r.level+1)("aria-posinset",r._getPositionInSet())("aria-setsize",r._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",ue],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",ue],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return n})();function ZQ(n){let e=n.parentElement;for(;e&&!JQ(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?Xn(e.getAttribute("aria-level")):0:-1}function JQ(n){let e=n.classList;return!!(e?.contains("cdk-nested-tree-node")||e?.contains("cdk-tree"))}var LT=(()=>{class n extends ho{_type="nested";_differs=v(Ys);_dataDiffer;_children;nodeOutlet;constructor(){super()}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree._getDirectChildren(this.data).pipe(ot(this._destroyed)).subscribe(t=>this.updateChildrenNodes(t)),this.nodeOutlet.changes.pipe(ot(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(t){let i=this._getNodeOutlet();if(t&&(this._children=t),i&&this._children){let r=i.viewContainer;this._tree.renderNodeChanges(this._children,this._dataDiffer,r,this._data)}else this._dataDiffer.diff([])}_clear(){let t=this._getNodeOutlet();t&&(t.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){let t=this.nodeOutlet;return t&&t.find(i=>!i._node||i._node===this)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["cdk-nested-tree-node"]],contentQueries:function(i,r,o){if(i&1&&Qn(o,_h,5),i&2){let s;Le(s=Ve())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],features:[mt([{provide:ho,useExisting:n},{provide:vh,useExisting:n}]),ft]})}return n})();var VT=(()=>{class n{_tree=v(yh);_treeNode=v(ho);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(i,r){i&1&&xe("click",function(s){return r._toggle(),s.stopPropagation()})("keydown.Enter",function(s){return r._toggle(),s.preventDefault()})("keydown.Space",function(s){return r._toggle(),s.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",ue]}})}return n})();var l2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})();var jT=(()=>{class n{_listeners=[];notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eY(n){return!!n._isNoopTreeKeyManager}var d2=(()=>{class n extends ho{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(t){this._tabIndexInputBinding=t}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return eY(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}constructor(){super();let t=v(new fi("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(t)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(i,r){i&1&&xe("click",function(){return r._focusItem()}),i&2&&(ir("tabIndex",r._getTabindexAttribute()),Ye("aria-expanded",r._getAriaExpanded())("aria-level",r.level+1)("aria-posinset",r._getPositionInSet())("aria-setsize",r._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",t=>t==null?0:Xn(t)],disabled:[2,"disabled","disabled",ue]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[mt([{provide:ho,useExisting:n}]),ft]})}return n})(),u2=(()=>{class n extends L_{data;static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275dir=te({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[mt([{provide:L_,useExisting:n}]),ft]})}return n})(),h2=(()=>{class n extends LT{node;get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}get tabIndex(){return this.isDisabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=t}_tabIndex;ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275dir=te({type:n,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{node:[0,"matNestedTreeNode","node"],disabled:[2,"disabled","disabled",ue],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Xn(t)]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matNestedTreeNode"],features:[mt([{provide:LT,useExisting:n},{provide:ho,useExisting:n},{provide:vh,useExisting:n}]),ft]})}return n})();var V_=(()=>{class n{viewContainer=v(Qt);_node=v(vh,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[mt([{provide:_h,useExisting:n}])]})}return n})(),f2=(()=>{class n extends yh{_nodeOutlet=void 0;static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275cmp=ie({type:n,selectors:[["mat-tree"]],viewQuery:function(i,r){if(i&1&&cn(V_,7),i&2){let o;Le(o=Ve())&&(r._nodeOutlet=o.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[mt([{provide:yh,useExisting:n}]),ft],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,r){i&1&&Bo(0,0)},dependencies:[V_],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return n})(),m2=(()=>{class n extends VT{static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275dir=te({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[mt([{provide:VT,useExisting:n}]),ft]})}return n})();var p2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[l2,et]})}return n})();var j_=class extends gh{get data(){return this._data.value}set data(e){this._data.next(e)}_data=new it([]);connect(e){return Ar(e.viewChange,this._data).pipe(ee(()=>this.data))}disconnect(){}};function g2(n){return Error(`Unable to find icon with the name "${n}"`)}function nY(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function _2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function v2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var fo=class{url;svgText;options;svgElement;constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},b2=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new fo(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(sn.HTML,r);if(!s)throw v2(r);let a=Sl(s);return this._addSvgIconConfig(t,i,new fo("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new fo(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(sn.HTML,i);if(!o)throw v2(i);let s=Sl(o);return this._addSvgIconSetConfig(t,new fo("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(sn.RESOURCE_URL,t);if(!i)throw _2(t);let r=this._cachedIconsByUrl.get(i);return r?z(B_(r)):this._loadSvgIconFromConfig(new fo(t,null)).pipe(at(o=>this._cachedIconsByUrl.set(i,o)),ee(o=>B_(o)))}getNamedSvgIcon(t,i=""){let r=y2(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):id(g2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?z(B_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ee(i=>B_(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return z(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ss(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(sn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),z(null)})));return rd(o).pipe(ee(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw g2(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(at(i=>t.svgText=i),ee(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?z(null):this._fetchIcon(t).pipe(at(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Sl("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Sl("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw nY();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(sn.RESOURCE_URL,i);if(!s)throw _2(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ee(d=>Sl(d)),Do(()=>this._inProgressUrlFetches.delete(s)),od());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(y2(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return iY(o)?new fo(o.url,null,o.options):new fo(o,null)}}static \u0275fac=function(i){return new(i||n)(X(Ho,8),X(Yd),X(me,8),X(Rn))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B_(n){return n.cloneNode(!0)}function y2(n,e){return n+":"+e}function iY(n){return!!(n.url&&n.options)}var rY=["*"],oY=new M("MAT_ICON_DEFAULT_OPTIONS"),sY=new M("mat-icon-location",{providedIn:"root",factory:()=>{let n=v(me),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),w2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],aY=w2.map(n=>`[${n}]`).join(", "),cY=/^url\(['"]?#(.*?)['"]?\)$/,U_=(()=>{class n{_elementRef=v(be);_iconRegistry=v(b2);_location=v(sY);_errorHandler=v(Rn);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Fe.EMPTY;constructor(){let t=v(new fi("aria-hidden"),{optional:!0}),i=v(oY,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(aY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)w2.forEach(s=>{let a=i[o],c=a.getAttribute(s),d=c?c.match(cY):null;if(d){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(st(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Ye("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ks(r.color?"mat-"+r.color:""),Ne("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ue],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:rY,decls:1,vars:0,template:function(i,r){i&1&&(It(),Be(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),z_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et]})}return n})();function lY(n,e){n&1&&(B(0,"div",4),we(1," Chargement des donn\xE9es... "),U())}function dY(n,e){if(n&1&&(B(0,"div",5),we(1),U()),n&2){let t=$e();q(),gn(" ",t.error()," ")}}function uY(n,e){if(n&1&&(B(0,"mat-nested-tree-node")(1,"li")(2,"div",9)(3,"button",10)(4,"mat-icon",11),we(5),U()(),B(6,"strong"),we(7),U()(),B(8,"ul"),Bo(9,12),U()()()),n&2){let t=e.$implicit,i=$e(2);q(3),Ye("aria-label","Toggle "+t.key),q(2),gn(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),q(2),gn("",t.key,":"),q(),Ne("tree-invisible",!i.treeControl.isExpanded(t))}}function hY(n,e){if(n&1&&(B(0,"mat-tree-node")(1,"li")(2,"div",9)(3,"div",13)(4,"strong"),we(5),U(),B(6,"span",14),we(7),U()()()()()),n&2){let t=e.$implicit;q(5),gn("",t.key,":"),q(2),Ri(t.value)}}function fY(n,e){if(n&1&&(B(0,"mat-tree",6),_t(1,uY,10,5,"mat-nested-tree-node",7)(2,hY,8,2,"mat-tree-node",8),U()),n&2){let t=$e();Ie("dataSource",t.dataSource)("treeControl",t.treeControl),q(),Ie("matTreeNodeDefWhen",t.hasChild)}}var $_=class n{constructor(e){this.http=e}isLoading=Re(!1);error=Re(null);authService=v(yi);titleService=v(kl);injector=v(ye);treeControl=new F_(e=>e.children);dataSource=new j_;webhookUrl="https://n8n.af10.fr:8443/prod/0b011e50-c3ca-4425-ae73-85fa9b00c626";hasChild=(e,t)=>!!t.children&&t.children.length>0;ngOnInit(){this.titleService.pageTitle.set("Liste des Queries"),this.sendQueriesFromLocalStorage()}sendQueriesFromLocalStorage(){this.isLoading.set(!0),this.error.set(null);try{let e=localStorage.getItem("queries")||"";e.startsWith(",")&&(e=e.substring(1));let t=this.authService.user()?.uid;this.http.post(this.webhookUrl,{queries:e,user_id:t}).subscribe({next:i=>{ht(this.injector,()=>{this.dataSource.data=this.transformResponseToTree(i),this.isLoading.set(!1)})},error:i=>{ht(this.injector,()=>{this.error.set(`Erreur lors de l'envoi des donn\xE9es : ${i.message}`),this.isLoading.set(!1)})}})}catch(e){ht(this.injector,()=>{this.error.set("Erreur lors de la lecture ou du parsing des donn\xE9es du localStorage: "+e.message),this.isLoading.set(!1)})}}formatDate(e){if(!e)return"Date inconnue";try{let t=new Date(e),i=this.pad(t.getDate()),r=this.pad(t.getMonth()+1),o=t.getFullYear().toString().slice(-2);return`${i}/${r}/${o}`}catch(t){return console.error("Erreur de formatage de la date:",t),e}}pad(e){return e.toString().padStart(2,"0")}transformResponseToTree(e){return e.map(t=>{let i=N({},t),r={key:`${this.formatDate(t.Date)} - ${t.Client}`,children:[]};try{delete i.Query_ID,delete i.Owner_ID,delete i.File,delete i.Date,delete i.Client,delete i.Profil,delete i.row_number,delete i.webhookUrl,delete i.headers,delete i.body,delete i.params,delete i.query,delete i.executionMode}catch{}for(let o in i)i[o].length==""&&delete i[o];return r.children=this.buildTreeFromObject(i),r})}buildTreeFromObject(e){if(typeof e!="object"||e===null)return[];let t=[];for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let r=e[i],o=typeof r,s={key:i,value:r,type:o};o==="object"&&r!==null&&(s.children=this.buildTreeFromObject(r),delete s.value),t.push(s)}return t}static \u0275fac=function(t){return new(t||n)(Me(Ho))};static \u0275cmp=ie({type:n,selectors:[["app-query-list"]],decls:4,vars:3,consts:[[1,"query-list-container"],["class","status-message",4,"ngIf"],["class","status-message error",4,"ngIf"],["class","result-tree",3,"dataSource","treeControl",4,"ngIf"],[1,"status-message"],[1,"status-message","error"],[1,"result-tree",3,"dataSource","treeControl"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[4,"matTreeNodeDef"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""],[1,"leaf-node"],[1,"leaf-value"]],template:function(t,i){t&1&&(B(0,"div",0),_t(1,lY,2,0,"div",1)(2,dY,2,1,"div",2)(3,fY,3,3,"mat-tree",3),U()),t&2&&(q(),Ie("ngIf",i.isLoading()),q(),Ie("ngIf",i.error()),q(),Ie("ngIf",!i.isLoading()&&!i.error()&&i.dataSource.data.length>0))},dependencies:[Vn,qr,Qd,p2,h2,u2,m2,f2,d2,V_,z_,U_,hs,ph],styles:[".query-list-container[_ngcontent-%COMP%]{padding:20px;margin:20px auto;width:100%;max-width:800px;box-sizing:border-box}.status-message[_ngcontent-%COMP%]{padding:15px;border-radius:5px;background-color:var(--background-color-secondary);color:var(--text-color);text-align:center}.status-message.error[_ngcontent-%COMP%]{background-color:#5c2c31;color:#f8d7da;border:1px solid #f5c6cb}.result-tree[_ngcontent-%COMP%]{font-family:monospace;background-color:transparent}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{color:var(--text-color);list-style-type:none}.mat-nested-tree-node[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:40px}.tree-invisible[_ngcontent-%COMP%]{display:none}.leaf-node[_ngcontent-%COMP%]{padding-left:40px}.leaf-value[_ngcontent-%COMP%]{color:var(--mat-accent-500, #ff4081);margin-left:8px}"]})};var mY=["*"];var pY=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],gY=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],_Y=new M("MAT_CARD_CONFIG"),I2=(()=>{class n{appearance;constructor(){let t=v(_Y,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,r){i&2&&Ne("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")("mat-mdc-card-filled",r.appearance==="filled")("mdc-card--filled",r.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:mY,decls:1,vars:0,template:function(i,r){i&1&&(It(),Be(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),C2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var D2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})();var T2=(()=>{class n{align="start";static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&Ne("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),S2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:gY,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(It(pY),Be(0),Fn(1,"div",0),Be(2,1),Ln(),Be(3,2))},encapsulation:2,changeDetection:0})}return n})();var x2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et]})}return n})();var H_=class n{authService=v(yi);router=v(Pi);async login(){try{await this.authService.loginWithGoogle(),this.router.navigate(["/"])}catch(e){console.error("Erreur de connexion :",e)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-login"]],decls:10,vars:0,consts:[["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){t&1&&(B(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),we(3,"Connexion"),U()(),B(4,"mat-card-content")(5,"p"),we(6,"Veuillez vous connecter pour continuer."),U()(),B(7,"mat-card-actions")(8,"button",0),xe("click",function(){return i.login()}),we(9," Se connecter avec Google "),U()()())},dependencies:[hs,Al,x2,I2,T2,D2,S2,C2],encapsulation:2})};var BT=()=>{let n=v(yi),e=v(Pi);return n.user$.pipe(st(1),ee(t=>t?!0:(e.navigate(["/login"]),!1)))};var A2=[{path:"login",component:H_,title:"Connexion - TherAssist"},{path:"recorder",component:O_,title:"Enregistreur - TherAssist",canActivate:[BT]},{path:"queries",component:$_,title:"Queries - TherAssist",canActivate:[BT]},{path:"",redirectTo:"/recorder",pathMatch:"full"},{path:"**",redirectTo:"/recorder"}];function yY(n){return()=>n.authStateReady()}var k2={providers:[uI(A2),_O(),XO(()=>ZO(MV)),J1(()=>tF()),xV(()=>kV()),{provide:Om,useFactory:yY,deps:[no],multi:!0}]};var R2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et]})}return n})();var j2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(Me(Ut),Me(be))};static \u0275dir=te({type:n})}return n})(),bY=(()=>{class n extends j2{static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275dir=te({type:n,features:[ft]})}return n})(),iv=new M("");var wY={provide:iv,useExisting:ai(()=>B2),multi:!0};function EY(){let n=mi()?mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var IY=new M(""),B2=(()=>{class n extends j2{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!EY())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(Me(Ut),Me(be),Me(IY,8))};static \u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[mt([wY]),ft]})}return n})();function $T(n){return n==null||HT(n)===0}function HT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var qT=new M(""),GT=new M(""),CY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,G_=class{static min(e){return DY(e)}static max(e){return TY(e)}static required(e){return SY(e)}static requiredTrue(e){return xY(e)}static email(e){return AY(e)}static minLength(e){return kY(e)}static maxLength(e){return RY(e)}static pattern(e){return MY(e)}static nullValidator(e){return U2()}static compose(e){return W2(e)}static composeAsync(e){return K2(e)}};function DY(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function TY(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function SY(n){return $T(n.value)?{required:!0}:null}function xY(n){return n.value===!0?null:{required:!0}}function AY(n){return $T(n.value)||CY.test(n.value)?null:{email:!0}}function kY(n){return e=>{let t=e.value?.length??HT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function RY(n){return e=>{let t=e.value?.length??HT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function MY(n){if(!n)return U2;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if($T(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function U2(n){return null}function z2(n){return n!=null}function $2(n){return jo(n)?bt(n):n}function H2(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function q2(n,e){return e.map(t=>t(n))}function NY(n){return!n.validate}function G2(n){return n.map(e=>NY(e)?e:t=>e.validate(t))}function W2(n){if(!n)return null;let e=n.filter(z2);return e.length==0?null:function(t){return H2(q2(t,e))}}function WT(n){return n!=null?W2(G2(n)):null}function K2(n){if(!n)return null;let e=n.filter(z2);return e.length==0?null:function(t){let i=q2(t,e).map($2);return rd(i).pipe(ee(H2))}}function KT(n){return n!=null?K2(G2(n)):null}function M2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Q2(n){return n._rawValidators}function Y2(n){return n._rawAsyncValidators}function UT(n){return n?Array.isArray(n)?n:[n]:[]}function W_(n,e){return Array.isArray(n)?n.includes(e):n===e}function N2(n,e){let t=UT(e);return UT(n).forEach(r=>{W_(t,r)||t.push(r)}),t}function P2(n,e){return UT(e).filter(t=>!W_(n,t))}var K_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Oa=class extends K_{name;get formDirective(){return null}get path(){return null}},Fa=class extends K_{_parent=null;name=null;valueAccessor=null},zT=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var X2=(()=>{class n extends zT{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(Me(Fa,2))};static \u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ne("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ft]})}return n})();var bh="VALID",q_="INVALID",Rl="PENDING",wh="DISABLED",ps=class{},Q_=class extends ps{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ih=class extends ps{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ch=class extends ps{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ml=class extends ps{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Y_=class extends ps{source;constructor(e){super(),this.source=e}},X_=class extends ps{source;constructor(e){super(),this.source=e}};function Z2(n){return(rv(n)?n.validators:n)||null}function PY(n){return Array.isArray(n)?WT(n):n||null}function J2(n,e){return(rv(e)?e.asyncValidators:n)||null}function OY(n){return Array.isArray(n)?KT(n):n||null}function rv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function FY(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new O(1e3,"");if(!i[t])throw new O(1001,"")}function LY(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new O(1002,"")})}var Z_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xt(this.statusReactive)}set status(e){xt(()=>this.statusReactive.set(e))}_status=Yn(()=>this.statusReactive());statusReactive=Re(void 0);get valid(){return this.status===bh}get invalid(){return this.status===q_}get pending(){return this.status==Rl}get disabled(){return this.status===wh}get enabled(){return this.status!==wh}errors;get pristine(){return xt(this.pristineReactive)}set pristine(e){xt(()=>this.pristineReactive.set(e))}_pristine=Yn(()=>this.pristineReactive());pristineReactive=Re(!0);get dirty(){return!this.pristine}get touched(){return xt(this.touchedReactive)}set touched(e){xt(()=>this.touchedReactive.set(e))}_touched=Yn(()=>this.touchedReactive());touchedReactive=Re(!1);get untouched(){return!this.touched}_events=new K;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(P2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(P2(e,this._rawAsyncValidators))}hasValidator(e){return W_(this._rawValidators,e)}hasAsyncValidator(e){return W_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ch(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ch(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(N({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ih(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ih(!0,i))}markAsPending(e={}){this.status=Rl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ml(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wh,this.errors=null,this._forEachChild(r=>{r.disable(de(N({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Q_(this.value,i)),this._events.next(new Ml(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bh,this._forEachChild(i=>{i.enable(de(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bh||this.status===Rl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Q_(this.value,t)),this._events.next(new Ml(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wh:bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Rl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=$2(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ml(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?wh:this.errors?q_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rl)?Rl:this._anyControlsHaveStatus(q_)?q_:bh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ih(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ch(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PY(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OY(this._rawAsyncValidators)}},J_=class extends Z_{constructor(e,t,i){super(Z2(t),J2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LY(this,!0,e),Object.keys(e).forEach(i=>{FY(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,de(N({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new X_(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ov=new M("",{factory:()=>QT}),QT="always";function VY(n,e){return[...e.path,n]}function ev(n,e,t=QT){YT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),BY(n,e),zY(n,e),UY(n,e),jY(n,e)}function O2(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),nv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jY(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function YT(n,e){let t=Q2(n);e.validator!==null?n.setValidators(M2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Y2(n);e.asyncValidator!==null?n.setAsyncValidators(M2(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();tv(e._rawValidators,r),tv(e._rawAsyncValidators,r)}function nv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Q2(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=Y2(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return tv(e._rawValidators,i),tv(e._rawAsyncValidators,i),t}function BY(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ej(n,e)})}function UY(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ej(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ej(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zY(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function tj(n,e){n==null,YT(n,e)}function $Y(n,e){return nv(n,e)}function HY(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qY(n){return Object.getPrototypeOf(n.constructor)===bY}function nj(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function GY(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===B2?t=o:qY(o)?i=o:r=o}),r||i||t||null}function WY(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var KY={provide:Oa,useExisting:ai(()=>XT)},Eh=Promise.resolve(),XT=(()=>{class n extends Oa{callSetDisabledState;get submitted(){return xt(this.submittedReactive)}_submitted=Yn(()=>this.submittedReactive());submittedReactive=Re(!1);_directives=new Set;form;ngSubmit=new Ee;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new J_({},WT(t),KT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Eh.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ev(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Eh.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Eh.then(()=>{let i=this._findContainer(t.path),r=new J_({});tj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Eh.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Eh.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nj(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Y_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(Me(qT,10),Me(GT,10),Me(ov,8))};static \u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mt([KY]),ft]})}return n})();function F2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function L2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ij=class extends Z_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Z2(t),J2(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(L2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new X_(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){L2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QY=n=>n instanceof ij;var YY={provide:Fa,useExisting:ai(()=>ZT)},V2=Promise.resolve(),ZT=(()=>{class n extends Fa{_changeDetectorRef;callSetDisabledState;control=new ij;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ee;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=GY(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),HY(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ev(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){V2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&ue(i);V2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?VY(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(Me(Oa,9),Me(qT,10),Me(GT,10),Me(iv,10),Me(zt,8),Me(ov,8))};static \u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mt([YY]),ft,rn]})}return n})();var XY=(()=>{class n extends Oa{callSetDisabledState;get submitted(){return xt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Yn(()=>this._submittedReactive());_submittedReactive=Re(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(nv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let i=this.form.get(t.path);return ev(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){O2(t.control||null,t,!1),WY(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,i){this.form.get(t.path).setValue(i)}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,nj(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Y_(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(O2(i||null,t),QY(r)&&(ev(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);tj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&$Y(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YT(this.form,this),this._oldForm&&nv(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(Me(qT,10),Me(GT,10),Me(ov,8))};static \u0275dir=te({type:n,features:[ft,rn]})}return n})();var ZY={provide:Oa,useExisting:ai(()=>JT)},JT=(()=>{class n extends XY{form=null;ngSubmit=new Ee;get control(){return this.form}static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mt([ZY]),ft]})}return n})();var JY=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})();var rj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ov,useValue:t.callSetDisabledState??QT}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[JY]})}return n})();var oj=(()=>{class n{_animationsDisabled=zn();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&Ne("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var sv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et]})}return n})();var sj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[A_,us,sv,et,R2]})}return n})();function tX(n,e){if(n&1){let t=an();B(0,"div",1)(1,"div",2)(2,"p"),we(3," Ce site utilise des cookies pour am\xE9liorer votre exp\xE9rience. En continuant \xE0 naviguer, vous acceptez notre utilisation des cookies. "),U(),B(4,"button",3),xe("click",function(){pt(t);let r=$e();return gt(r.acceptConsent())}),we(5," Accepter "),U()()()}}var av=class n{isVisible=!1;consentKey="user-cookie-consent";ngOnInit(){localStorage.getItem(this.consentKey)||(this.isVisible=!0)}acceptConsent(){localStorage.setItem(this.consentKey,"true"),this.isVisible=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-cookie-consent"]],decls:1,vars:1,consts:[["class","cookie-consent-banner",4,"ngIf"],[1,"cookie-consent-banner"],[1,"consent-content"],[1,"accept-button",3,"click"]],template:function(t,i){t&1&&_t(0,tX,6,0,"div",0),t&2&&Ie("ngIf",i.isVisible)},dependencies:[Vn,qr],styles:[".cookie-consent-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#2c2c2c;color:#f1f1f1;padding:15px;box-shadow:0 -2px 5px #0003;z-index:1000;display:flex;justify-content:center;align-items:center}.consent-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:10px;width:100%;max-width:960px}.consent-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.accept-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.accept-button[_ngcontent-%COMP%]:hover{background-color:#45a049}@media(min-width:768px){.consent-content[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;text-align:left}}"]})};var nX=["mat-internal-form-field",""],iX=["*"],aj=(()=>{class n{labelPosition;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&Ne("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:nX,ngContentSelectors:iX,decls:1,vars:0,template:function(i,r){i&1&&(It(),Be(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var rX=["input"],oX=["formField"],sX=["*"],cv=class{source;value;constructor(e,t){this.source=e,this.value=t}},aX={provide:iv,useExisting:ai(()=>eS),multi:!0},cj=new M("MatRadioGroup"),cX=new M("mat-radio-default-options",{providedIn:"root",factory:()=>({color:"accent",disabledInteractive:!1})}),eS=(()=>{class n{_changeDetector=v(zt);_value=null;_name=v(xn).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Ee;_radios;color;get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new cv(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(i&1&&Qn(o,lv,5),i&2){let s;Le(s=Ve())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",ue],required:[2,"required","required",ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[mt([aX,{provide:cj,useExisting:n}])]})}return n})(),lv=(()=>{class n{_elementRef=v(be);_changeDetector=v(zt);_focusMonitor=v(uh);_radioDispatcher=v(jT);_defaultOptions=v(cX,{optional:!0});_ngZone=v(Q);_renderer=v(Ut);_uniqueId=v(xn).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){t!==this._required&&this._changeDetector.markForCheck(),this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new Ee;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=zn();_injector=v(ye);constructor(){v(_i).load(xl);let t=v(cj,{optional:!0}),i=v(new fi("tabindex"),{optional:!0});this.radioGroup=t,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,i&&(this.tabIndex=Xn(i,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new cv(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,i;if(!t||!t.selected||this.disabled?i=this.tabIndex:i=t.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,nr(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===r&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&cn(rX,5)(oX,7,be),i&2){let o;Le(o=Ve())&&(r._inputElement=o.first),Le(o=Ve())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){i&1&&xe("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(Ye("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ne("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",ue],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Xn(t)],checked:[2,"checked","checked",ue],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",ue],required:[2,"required","required",ue],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:sX,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=an();It(),B(0,"div",2,0)(2,"div",3)(3,"div",4),xe("click",function(a){return pt(o),gt(r._onTouchTargetClick(a))}),U(),B(4,"input",5,1),xe("change",function(a){return pt(o),gt(r._onInputInteraction(a))}),U(),B(6,"div",6),vt(7,"div",7)(8,"div",8),U(),B(9,"div",9),vt(10,"div",10),U()(),B(11,"label",11),Be(12),U()()}i&2&&(Ie("labelPosition",r.labelPosition),q(2),Ne("mdc-radio--disabled",r.disabled),q(2),Ie("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ye("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),q(5),Ie("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),q(2),Ie("for",r.inputId))},dependencies:[M_,aj],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button label{cursor:pointer}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return n})(),lj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[us,lv,et]})}return n})();var tS=class{_box;_destroyed=new K;_resizeSubject=new K;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new oe(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ze(t=>t.some(i=>i.target===e)),Tf({bufferSize:1,refCount:!0}),ot(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},dj=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=v(Q);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new tS(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dX=["notch"],uX=["matFormFieldNotchedOutline",""],hX=["*"],uj=["iconPrefixContainer"],hj=["textPrefixContainer"],fj=["iconSuffixContainer"],mj=["textSuffixContainer"],fX=["textField"],mX=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pX=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function gX(n,e){n&1&&vt(0,"span",21)}function _X(n,e){if(n&1&&(B(0,"label",20),Be(1,1),wt(2,gX,1,0,"span",21),U()),n&2){let t=$e(2);Ie("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ye("for",t._control.disableAutomaticLabeling?null:t._control.id),q(2),Et(!t.hideRequiredMarker&&t._control.required?2:-1)}}function vX(n,e){if(n&1&&wt(0,_X,3,5,"label",20),n&2){let t=$e();Et(t._hasFloatingLabel()?0:-1)}}function yX(n,e){n&1&&vt(0,"div",7)}function bX(n,e){}function wX(n,e){if(n&1&&_t(0,bX,0,0,"ng-template",13),n&2){$e(2);let t=ki(1);Ie("ngTemplateOutlet",t)}}function EX(n,e){if(n&1&&(B(0,"div",9),wt(1,wX,1,1,null,13),U()),n&2){let t=$e();Ie("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),q(),Et(t._forceDisplayInfixLabel()?-1:1)}}function IX(n,e){n&1&&(B(0,"div",10,2),Be(2,2),U())}function CX(n,e){n&1&&(B(0,"div",11,3),Be(2,3),U())}function DX(n,e){}function TX(n,e){if(n&1&&_t(0,DX,0,0,"ng-template",13),n&2){$e();let t=ki(1);Ie("ngTemplateOutlet",t)}}function SX(n,e){n&1&&(B(0,"div",14,4),Be(2,4),U())}function xX(n,e){n&1&&(B(0,"div",15,5),Be(2,5),U())}function AX(n,e){n&1&&vt(0,"div",16)}function kX(n,e){n&1&&(B(0,"div",18),Be(1,6),U())}function RX(n,e){if(n&1&&(B(0,"mat-hint",22),we(1),U()),n&2){let t=$e(2);Ie("id",t._hintLabelId),q(),Ri(t.hintLabel)}}function MX(n,e){if(n&1&&(B(0,"div",19),wt(1,RX,2,2,"mat-hint",22),Be(2,7),vt(3,"div",23),Be(4,8),U()),n&2){let t=$e();q(),Et(t.hintLabel?1:-1)}}var Dh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-label"]]})}return n})(),NX=new M("MatError");var nS=(()=>{class n{align="start";id=v(xn).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(ir("id",r.id),Ye("align",null),Ne("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),PX=new M("MatPrefix");var OX=new M("MatSuffix");var wj=new M("FloatingLabelParent"),pj=(()=>{class n{_elementRef=v(be);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=v(dj);_ngZone=v(Q);_parent=v(wj);_resizeSubscription=new Fe;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return FX(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Ne("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function FX(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var gj="mdc-line-ripple--active",dv="mdc-line-ripple--deactivating",_j=(()=>{class n{_elementRef=v(be);_cleanupTransitionEnd;constructor(){let t=v(Q),i=v(Ut);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(dv),t.add(gj)}deactivate(){this._elementRef.nativeElement.classList.add(dv)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(dv);t.propertyName==="opacity"&&r&&i.remove(gj,dv)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),vj=(()=>{class n{_elementRef=v(be);_ngZone=v(Q);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,i=t.querySelector(".mdc-floating-label");i?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let i=this._notch.nativeElement;!this.open||!t?i.style.width="":i.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&cn(dX,5),i&2){let o;Le(o=Ve())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Ne("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:uX,ngContentSelectors:hX,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(It(),hi(0,"div",1),Fn(1,"div",2,0),Be(3),Ln(),hi(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),iS=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n})}return n})();var rS=new M("MatFormField"),LX=new M("MAT_FORM_FIELD_DEFAULT_OPTIONS"),yj="fill",VX="auto",bj="fixed",jX="translateY(-50%)",uv=(()=>{class n{_elementRef=v(be);_changeDetectorRef=v(zt);_platform=v(Ht);_idGenerator=v(xn);_ngZone=v(Q);_defaults=v(LX,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=Bd("iconPrefixContainer");_textPrefixContainerSignal=Bd("textPrefixContainer");_iconSuffixContainerSignal=Bd("iconSuffixContainer");_textSuffixContainerSignal=Bd("textSuffixContainer");_prefixSuffixContainers=Yn(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=jM(Dh);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ZV(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||VX}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let i=t||this._defaults?.appearance||yj;this._appearanceSignal.set(i)}_appearanceSignal=Re(yj);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||bj}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||bj}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new K;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=zn();constructor(){let t=this._defaults,i=v(Er);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),Di(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Yn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(si([void 0,void 0]),ee(()=>[i.errorState,i.userAriaDescribedBy]),Df(),Ze(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(ot(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ar(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){zM({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Yn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||t;r=t.concat(i.filter(s=>s&&!o.includes(s)))}else r=t;this._control.setDescribedByIds(r),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._currentDirection==="rtl"?"-1":"1",f=`${s+a}px`,g=`calc(${u} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,b=`var(--mat-mdc-form-field-label-transform, ${jX} translateX(${g}))`,D=s+a+c+d;return[b,D]}_writeOutlinedLabelStyles(t){if(t!==null){let[i,r]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(Lm(o,r._labelChild,Dh,5),Qn(o,iS,5)(o,PX,5)(o,OX,5)(o,NX,5)(o,nS,5)),i&2){jm();let s;Le(s=Ve())&&(r._formFieldControl=s.first),Le(s=Ve())&&(r._prefixChildren=s),Le(s=Ve())&&(r._suffixChildren=s),Le(s=Ve())&&(r._errorChildren=s),Le(s=Ve())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(Vm(r._iconPrefixContainerSignal,uj,5)(r._textPrefixContainerSignal,hj,5)(r._iconSuffixContainerSignal,fj,5)(r._textSuffixContainerSignal,mj,5),cn(fX,5)(uj,5)(hj,5)(fj,5)(mj,5)(pj,5)(vj,5)(_j,5)),i&2){jm(4);let o;Le(o=Ve())&&(r._textField=o.first),Le(o=Ve())&&(r._iconPrefixContainer=o.first),Le(o=Ve())&&(r._textPrefixContainer=o.first),Le(o=Ve())&&(r._iconSuffixContainer=o.first),Le(o=Ve())&&(r._textSuffixContainer=o.first),Le(o=Ve())&&(r._floatingLabel=o.first),Le(o=Ve())&&(r._notchedOutline=o.first),Le(o=Ve())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&Ne("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[mt([{provide:rS,useExisting:n},{provide:wj,useExisting:n}])],ngContentSelectors:pX,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=an();It(mX),_t(0,vX,1,1,"ng-template",null,0,Cc),B(2,"div",6,1),xe("click",function(a){return pt(o),gt(r._control.onContainerClick(a))}),wt(4,yX,1,0,"div",7),B(5,"div",8),wt(6,EX,2,2,"div",9),wt(7,IX,3,0,"div",10),wt(8,CX,3,0,"div",11),B(9,"div",12),wt(10,TX,1,1,null,13),Be(11),U(),wt(12,SX,3,0,"div",14),wt(13,xX,3,0,"div",15),U(),wt(14,AX,1,0,"div",16),U(),B(15,"div",17),wt(16,kX,2,0,"div",18)(17,MX,5,1,"div",19),U()}if(i&2){let o;q(2),Ne("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),q(2),Et(!r._hasOutline()&&!r._control.disabled?4:-1),q(2),Et(r._hasOutline()?6:-1),q(),Et(r._hasIconPrefix?7:-1),q(),Et(r._hasTextPrefix?8:-1),q(2),Et(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),q(2),Et(r._hasTextSuffix?12:-1),q(),Et(r._hasIconSuffix?13:-1),q(),Et(r._hasOutline()?-1:14),q(),Ne("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();q(),Et((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[pj,vj,SE,_j,nS],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var hv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[A_,uv,et]})}return n})();var UX=["text"],zX=[[["mat-icon"]],"*"],$X=["mat-icon","*"];function HX(n,e){if(n&1&&vt(0,"mat-pseudo-checkbox",1),n&2){let t=$e();Ie("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function qX(n,e){if(n&1&&vt(0,"mat-pseudo-checkbox",3),n&2){let t=$e();Ie("disabled",t.disabled)}}function GX(n,e){if(n&1&&(B(0,"span",4),we(1),U()),n&2){let t=$e();q(),gn("(",t.group.label,")")}}var sS=new M("MAT_OPTION_PARENT_COMPONENT"),aS=new M("MatOptgroup");var oS=class{source;isUserInput;constructor(e,t=!1){this.source=e,this.isUserInput=t}},Nl=(()=>{class n{_element=v(be);_changeDetectorRef=v(zt);_parent=v(sS,{optional:!0});group=v(aS,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=v(xn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=Re(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Ee;_text;_stateChanges=new K;constructor(){let t=v(_i);t.load(xl),t.load(vT),this._signalDisableRipple=!!this._parent&&Ws(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!wr(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new oS(this,t))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&cn(UX,7),i&2){let o;Le(o=Ve())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&xe("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),i&2&&(ir("id",r.id),Ye("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Ne("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ue]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:$X,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(It(zX),wt(0,HX,1,2,"mat-pseudo-checkbox",1),Be(1),B(2,"span",2,0),Be(4,1),U(),wt(5,qX,1,1,"mat-pseudo-checkbox",3),wt(6,GX,2,1,"span",4),vt(7,"div",5)),i&2&&(Et(r.multiple?0:-1),q(5),Et(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),q(),Et(r.group&&r.group._inert?6:-1),q(),Ie("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[oj,M_],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function Ej(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function Ij(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}var WX=20,cS=(()=>{class n{_ngZone=v(Q);_platform=v(Ht);_renderer=v(Ft).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new K;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=WX){return this._platform.isBrowser?new oe(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe(Ef(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):z()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ze(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=br(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KX=20,La=(()=>{class n{_platform=v(Ht);_listeners;_viewportSize;_change=new K;_document=v(me);constructor(){let t=v(Q),i=v(Ft).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=KX){return t>0?this._change.pipe(Ef(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})(),lS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[et,pv,et,pv]})}return n})();var Th=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},dS=class extends Th{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=r}},Sh=class extends Th{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},uS=class extends Th{element;constructor(e){super(),this.element=e instanceof be?e.nativeElement:e}},hS=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof dS)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Sh)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof uS)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},gv=class extends hS{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(Br,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||ye.NULL,o=r.get(Je,i.injector);t=Gm(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Cj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({})}return n})();var Dj=YV();function Nj(n){return new _v(n.get(La),n.get(me))}var _v=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ot(-this._previousScrollPosition.left),e.style.top=Ot(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Dj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Dj&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function Pj(n,e){return new vv(n.get(cS),n.get(Q),n.get(La),e)}var vv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ze(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var xh=class{enable(){}disable(){}attach(){}};function fS(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function Tj(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}function kh(n,e){return new yv(n.get(cS),n.get(La),n.get(Q),e)}var yv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();fS(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Oj=(()=>{class n{_injector=v(ye);constructor(){}noop=()=>new xh;close=t=>Pj(this._injector,t);block=()=>Nj(this._injector);reposition=t=>kh(this._injector,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ah=class{positionStrategy;scrollStrategy=new xh;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var bv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Fj=(()=>{class n{_attachedOverlays=[];_document=v(me);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lj=(()=>{class n extends Fj{_ngZone=v(Q);_renderer=v(Ft).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vj=(()=>{class n extends Fj{_platform=v(Ht);_ngZone=v(Q);_renderer=v(Ft).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=ln(t)};_clickListener=t=>{let i=ln(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Sj(a.overlayElement,i)||Sj(a.overlayElement,r))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=on(n)))(r||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sj(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var jj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return n})(),Bj=(()=>{class n{_platform=v(Ht);_containerElement;_document=v(me);_styleLoader=v(_i);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ST()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),ST()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(jj)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mS=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function pS(n){return n&&n.nodeType===1}var wv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new K;_attachments=new K;_detachments=new K;_positionStrategy;_scrollStrategy;_locationChanges=Fe.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new K;_outsidePointerEvents=new K;_afterNextRenderRef;constructor(e,t,i,r,o,s,a,c,d,u=!1,f,p){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=u,this._injector=f,this._renderer=p,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=nr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=N(N({},this._config),e),this._updateElementSize()}setDirection(e){this._config=de(N({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Ot(this._config.width),e.height=Ot(this._config.height),e.minWidth=Ot(this._config.minWidth),e.minHeight=Ot(this._config.minHeight),e.maxWidth=Ot(this._config.maxWidth),e.maxHeight=Ot(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;pS(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new mS(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=yT(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=nr(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},xj="cdk-overlay-connected-position-bounding-box",QX=/([A-Za-z%]+)$/;function gS(n,e){return new Ev(e,n.get(La),n.get(me),n.get(Ht),n.get(Bj))}var Ev=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new K;_resizeSubscription=Fe.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(xj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(d,t,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,d,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let d of o){let u=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);u>c&&(c=u,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Va(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof be?this._origin.nativeElement:pS(this._origin)?this._origin:null}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=kj(t),{x:s,y:a}=e,c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(s+=c),d&&(a+=d);let u=0-s,f=s+o.width-i.width,p=0-a,g=a+o.height-i.height,b=this._subtractOverflows(o.width,u,f),D=this._subtractOverflows(o.height,p,g),T=b*D;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:D===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=Aj(this._overlayRef.getConfig().minHeight),a=Aj(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&d}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=kj(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0),u=0,f=0;return r.width<=o.width?u=d||-s:u=e.x<this._getViewportMarginStart()?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._getViewportMarginTop()?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:f},{x:e.x+u,y:e.y+f}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!YX(this._lastScrollVisibility,i)){let r=new bv(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=i.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-a+this._getViewportMarginTop();else{let g=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,d=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,u,f,p;if(d)p=i.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),u=e.x-this._getViewportMarginStart();else if(c)f=e.x,u=i.right-e.x-this._getViewportMarginEnd();else{let g=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;u=g*2,f=e.x-g,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-b/2)}return{top:s,left:f,bottom:a,right:p,width:u,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=Ot(i.width),r.height=Ot(i.height),r.top=Ot(i.top)||"auto",r.bottom=Ot(i.bottom)||"auto",r.left=Ot(i.left)||"auto",r.right=Ot(i.right)||"auto",t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ot(o)),s&&(r.maxWidth=Ot(s))}this._lastBoundingBoxSize=i,Va(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Va(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Va(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Va(i,this._getExactOverlayY(t,e,u)),Va(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Ot(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Ot(s.maxWidth):o&&(i.maxWidth="")),Va(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Ot(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Ot(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Tj(e,i),isOriginOutsideView:fS(e,i),isOverlayClipped:Tj(t,i),isOverlayOutsideView:fS(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+e-this._getViewportMarginEnd(),bottom:i.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yT(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof be)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Va(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Aj(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(QX);return!t||t==="px"?parseFloat(e):null}return n||null}function kj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function YX(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Rj="cdk-global-overlay-wrapper";function Uj(n){return new Iv}var Iv=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Rj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,f=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",g="",b="",D="";c?D="flex-start":u==="center"?(D="center",p?b=f:g=f):p?u==="left"||u==="end"?(D="flex-end",g=f):(u==="right"||u==="start")&&(D="flex-start",b=f):u==="left"||u==="start"?(D="flex-start",g=f):(u==="right"||u==="end")&&(D="flex-end",b=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=D,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Rj),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},zj=(()=>{class n{_injector=v(ye);constructor(){}global(){return Uj()}flexibleConnectedTo(t){return gS(this._injector,t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_S=new M("OVERLAY_DEFAULT_CONFIG");function vS(n,e){n.get(_i).load(jj);let t=n.get(Bj),i=n.get(me),r=n.get(xn),o=n.get(Kn),s=n.get(Er),a=n.get(Ut,null,{optional:!0})||n.get(Ft).createRenderer(null,null),c=new Ah(e),d=n.get(_S,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in i.body?c.usePopover=e?.usePopover??d:c.usePopover=!1;let u=i.createElement("div"),f=i.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),f.appendChild(u),c.usePopover&&(f.setAttribute("popover","manual"),f.classList.add("cdk-overlay-popover"));let p=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return t.getContainerElement().appendChild(f),pS(p)?p.after(f):p?.type==="parent"&&p.element.appendChild(f),new wv(new gv(u,o,n),f,u,c,n.get(Q),n.get(Lj),i,n.get(zo),n.get(Vj),e?.disableAnimations??n.get(Vo,null,{optional:!0})==="NoopAnimations",n.get(Je),a)}var $j=(()=>{class n{scrollStrategies=v(Oj);_positionBuilder=v(zj);_injector=v(ye);constructor(){}create(t){return vS(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZX=new M("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=v(ye);return()=>kh(n)}}),Pl=(()=>{class n{elementRef=v(be);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),Hj=new M("cdk-connected-overlay-default-config"),Cv=(()=>{class n{_dir=v(Er,{optional:!0});_injector=v(ye);_overlayRef;_templatePortal;_backdropSubscription=Fe.EMPTY;_attachSubscription=Fe.EMPTY;_detachSubscription=Fe.EMPTY;_positionSubscription=Fe.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=v(ZX);_ngZone=v(Q);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(t){typeof t!="string"&&this._assignConfig(t)}backdropClick=new Ee;positionChange=new Ee;attach=new Ee;detach=new Ee;overlayKeydown=new Ee;overlayOutsideClick=new Ee;constructor(){let t=v(Pn),i=v(Qt),r=v(Hj,{optional:!0}),o=v(_S,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Sh(t,i),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=XX);let t=this._overlayRef=vS(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!wr(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=ln(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ah({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let t=gS(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Pl?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Pl?this.origin.elementRef.nativeElement:this.origin instanceof be?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let t=this._overlayRef;t.getConfig().hasBackdrop=this.hasBackdrop,t.updateSize({width:this._getWidth()}),t.hasAttached()||t.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=t.backdropClick().subscribe(i=>this.backdropClick.emit(i)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(My(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(t){this.origin=t.origin??this.origin,this.positions=t.positions??this.positions,this.positionStrategy=t.positionStrategy??this.positionStrategy,this.offsetX=t.offsetX??this.offsetX,this.offsetY=t.offsetY??this.offsetY,this.width=t.width??this.width,this.height=t.height??this.height,this.minWidth=t.minWidth??this.minWidth,this.minHeight=t.minHeight??this.minHeight,this.backdropClass=t.backdropClass??this.backdropClass,this.panelClass=t.panelClass??this.panelClass,this.viewportMargin=t.viewportMargin??this.viewportMargin,this.scrollStrategy=t.scrollStrategy??this.scrollStrategy,this.disableClose=t.disableClose??this.disableClose,this.transformOriginSelector=t.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=t.hasBackdrop??this.hasBackdrop,this.lockPosition=t.lockPosition??this.lockPosition,this.flexibleDimensions=t.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=t.growAfterOpen??this.growAfterOpen,this.push=t.push??this.push,this.disposeOnNavigation=t.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=t.usePopover??this.usePopover,this.matchWidth=t.matchWidth??this.matchWidth}static \u0275fac=function(i){return new(i||n)};static \u0275dir=te({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ue],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ue],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ue],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ue],push:[2,"cdkConnectedOverlayPush","push",ue],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ue],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",ue],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[rn]})}return n})(),yS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({providers:[$j],imports:[et,Cj,lS,lS]})}return n})();var qj=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dv=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var bS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[us,sv,Nl,et]})}return n})();var JX=["trigger"],eZ=["panel"],tZ=[[["mat-select-trigger"]],"*"],nZ=["mat-select-trigger","*"];function iZ(n,e){if(n&1&&(B(0,"span",4),we(1),U()),n&2){let t=$e();q(),Ri(t.placeholder)}}function rZ(n,e){n&1&&Be(0)}function oZ(n,e){if(n&1&&(B(0,"span",11),we(1),U()),n&2){let t=$e(2);q(),Ri(t.triggerValue)}}function sZ(n,e){if(n&1&&(B(0,"span",5),wt(1,rZ,1,0)(2,oZ,2,1,"span",11),U()),n&2){let t=$e();q(),Et(t.customTrigger?1:2)}}function aZ(n,e){if(n&1){let t=an();B(0,"div",12,1),xe("keydown",function(r){pt(t);let o=$e();return gt(o._handleKeydown(r))}),Be(2,1),U()}if(n&2){let t=$e();Ks(mE("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme())),Ne("mat-select-panel-animations-enabled",!t._animationsDisabled),Ie("ngClass",t.panelClass),Ye("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var cZ=new M("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=v(ye);return()=>kh(n)}}),lZ=new M("MAT_SELECT_CONFIG"),dZ=new M("MatSelectTrigger"),wS=class{source;value;constructor(e,t){this.source=e,this.value=t}},Gj=(()=>{class n{_viewportRuler=v(La);_changeDetectorRef=v(zt);_elementRef=v(be);_dir=v(Er,{optional:!0});_idGenerator=v(xn);_renderer=v(Ut);_parentFormField=v(rS,{optional:!0});ngControl=v(Fa,{self:!0,optional:!0});_liveAnnouncer=v(wT);_defaultOptions=v(lZ,{optional:!0});_animationsDisabled=zn();_initialized=new K;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(t){let i=this.options.toArray()[t];if(i){let r=this.panel.nativeElement,o=Ej(t,this.options,this.optionGroups),s=i._getHostElement();t===0&&o===1?r.scrollTop=0:r.scrollTop=Ij(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new wS(this,t)}_scrollStrategyFactory=v(cZ);_panelOpen=!1;_compareWith=(t,i)=>t===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new K;_errorStateTracker;stateChanges=new K;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(t){this._disableRipple.set(t)}_disableRipple=Re(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(G_.required)??!1}set required(t){this._required=t,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Ts(()=>{let t=this.options;return t?t.changes.pipe(si(t),Mt(()=>Ar(...t.map(i=>i.onSelectionChange)))):this._initialized.pipe(Mt(()=>this.optionSelectionChanges))});openedChange=new Ee;_openedStream=this.openedChange.pipe(Ze(t=>t),ee(()=>{}));_closedStream=this.openedChange.pipe(Ze(t=>!t),ee(()=>{}));selectionChange=new Ee;valueChange=new Ee;constructor(){let t=v(qj),i=v(XT,{optional:!0}),r=v(JT,{optional:!0}),o=v(new fi("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Dv(t,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ms(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(ot(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ot(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(si(null),ot(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(st(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let i=`${this.id}-panel`;this._trackedModal&&TT(this._trackedModal,"aria-owns",i),KV(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;TT(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let t=this.panel.nativeElement,i=this._renderer.listen(t,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);t.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let i=t.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&o&&!wr(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(t);let c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){let i=this._keyManager,r=t.keyCode,o=r===40||r===38,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&i.activeItem&&!wr(t))t.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&t.ctrlKey){t.preventDefault();let a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(t){t.keyCode===27&&!wr(t)&&(t.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_skipPredicate=t=>this.panelOpen?!1:t.disabled;_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof Pl?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new hh(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=Ar(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ot(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ar(...this.options.map(i=>i._stateChanges)).pipe(ot(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){let r=this._selectionModel.isSelected(t);!this.canSelectNullableOptions&&t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||null,i=t?t+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t||(t=this._valueId),t}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let i=this._elementRef.nativeElement;t.length?i.setAttribute("aria-describedby",t.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(t){let i=ln(t);i&&(i.tagName==="MAT-OPTION"||i.classList.contains("cdk-overlay-backdrop")||i.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ie({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&Qn(o,dZ,5)(o,Nl,5)(o,aS,5),i&2){let s;Le(s=Ve())&&(r.customTrigger=s.first),Le(s=Ve())&&(r.options=s),Le(s=Ve())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(i&1&&cn(JX,5)(eZ,5)(Cv,5),i&2){let o;Le(o=Ve())&&(r.trigger=o.first),Le(o=Ve())&&(r.panel=o.first),Le(o=Ve())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(i,r){i&1&&xe("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Ye("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Ne("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ue],disableRipple:[2,"disableRipple","disableRipple",ue],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Xn(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ue],placeholder:"placeholder",required:[2,"required","required",ue],multiple:[2,"multiple","multiple",ue],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ue],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Xn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ue]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[mt([{provide:iS,useExisting:n},{provide:sS,useExisting:n}]),rn],ngContentSelectors:nZ,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop","cdkConnectedOverlayUsePopover","inline",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=an();It(tZ),B(0,"div",2,0),xe("click",function(){return pt(o),gt(r.open())}),B(3,"div",3),wt(4,iZ,2,1,"span",4)(5,sZ,3,1,"span",5),U(),B(6,"div",6)(7,"div",7),Ed(),B(8,"svg",8),vt(9,"path",9),U()()()(),_t(10,aZ,3,10,"ng-template",10),xe("detach",function(){return pt(o),gt(r.close())})("backdropClick",function(){return pt(o),gt(r.close())})("overlayKeydown",function(a){return pt(o),gt(r._handleOverlayKeydown(a))})}if(i&2){let o=ki(1);q(3),Ye("id",r._valueId),q(),Et(r.empty?4:5),q(6),Ie("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Pl,Cv,TE],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var Wj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ae({type:n});static \u0275inj=re({imports:[yS,bS,et,pv,hv,bS]})}return n})();function hZ(n,e){if(n&1&&(B(0,"mat-option",8),we(1),U()),n&2){let t=e.$implicit;Ie("value",t),q(),gn(" ",t," ")}}var Tv=class n{preferencesService=v(fs);userProfile=this.preferencesService.userProfile;professions=["Project Manager","Psyco-praticien","Investisseur"];setTheme(e){this.preferencesService.setTheme(e)}setProfession(e){this.preferencesService.setProfession(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-preferences"]],decls:19,vars:3,consts:[[1,"preferences-panel"],[1,"preference-section"],["aria-label","S\xE9lectionner un th\xE8me",3,"change","value"],["value","light"],["value","dark"],["appearance","fill"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){t&1&&(B(0,"div",0)(1,"h3"),we(2,"Pr\xE9f\xE9rences"),U(),B(3,"section",1)(4,"h4"),we(5,"Th\xE8me"),U(),B(6,"mat-radio-group",2),xe("change",function(o){return i.setTheme(o.value)}),B(7,"mat-radio-button",3),we(8,"Clair"),U(),B(9,"mat-radio-button",4),we(10,"Sombre"),U()()(),B(11,"section",1)(12,"h4"),we(13,"M\xE9tier"),U(),B(14,"mat-form-field",5)(15,"mat-label"),we(16,"Votre m\xE9tier"),U(),B(17,"mat-select",6),zm("ngModelChange",function(o){return fE(i.userProfile().profession,o)||(i.userProfile().profession=o),o}),xe("ngModelChange",function(o){return i.setProfession(o)}),_t(18,hZ,2,2,"mat-option",7),U()()()()),t&2&&(q(6),Ie("value",i.userProfile().theme),q(11),Um("ngModel",i.userProfile().profession),q(),Ie("ngForOf",i.professions))},dependencies:[Vn,Qm,rj,X2,ZT,lj,eS,lv,hv,uv,Dh,Wj,Gj,Nl],styles:[".preferences-panel[_ngcontent-%COMP%]{padding:16px;background-color:var(--background-color-secondary);border:1px solid var(--border-color);border-radius:8px;margin:20px auto;width:100%;max-width:500px;box-sizing:border-box;display:flex;flex-direction:column;gap:24px}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-top:0;color:var(--text-color)}.preference-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-radio-button[_ngcontent-%COMP%]{color:var(--text-color)}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})};var Kj={name:"ther-assist",version:"0.0.0",scripts:{ng:"ng",start:"ng serve --ssl",build:'ng build && gh-pages -d ./dist/TherAssist/browser --repo https://github.com/f80dev/TherAssist.git -f -t true -b gh-pages -m \\"update from devnet\\""',watch:"ng build --watch --configuration development",test:"ng test"},prettier:{printWidth:100,singleQuote:!0,overrides:[{files:"*.html",options:{parser:"angular"}}]},private:!0,packageManager:"yarn@4.3.1",dependencies:{"@angular/common":"^21.0.0","@angular/compiler":"^21.0.0","@angular/core":"^21.0.0","@angular/forms":"^21.0.0","@angular/platform-browser":"^21.0.0","@angular/router":"^21.0.0",rxjs:"~7.8.0",tslib:"^2.3.0","@angular/animations":"^21.0.0","@angular/cdk":"^21.0.0","@angular/material":"^21.0.0",firebase:"^12.7.0","@angular/fire":"^20.0.1","zone.js":"~0.14.0"},devDependencies:{"@angular/build":"^21.0.4","@angular/cli":"^21.0.4","@angular/compiler-cli":"^21.0.0",jsdom:"^27.1.0",typescript:"~5.9.2",vitest:"^4.0.8"}};var Sv=class n{appTitle="TherAssist";appVersion=Kj.version;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-splash-screen"]],inputs:{appTitle:"appTitle"},decls:5,vars:2,consts:[[1,"splash-screen"],[1,"app-title"],[1,"app-version"]],template:function(t,i){t&1&&(Fn(0,"div",0)(1,"h1",1),we(2),Ln(),Fn(3,"p",2),we(4),Ln()()),t&2&&(q(2),Ri(i.appTitle),q(2),gn("v",i.appVersion))},dependencies:[Vn],styles:[".splash-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:radial-gradient(ellipse at center,#0000,#000c),url(/intro.avif);background-size:cover;background-position:center;background-repeat:no-repeat;z-index:9999;display:flex;justify-content:center;align-items:center;background-color:#121212;color:#fff;text-shadow:2px 2px 8px rgba(0,0,0,.7)}.app-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.app-version[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;font-size:.8rem;opacity:.8}@media(min-width:768px){.app-title[_ngcontent-%COMP%]{font-size:5rem}}"]})};function mZ(n,e){if(n&1&&vt(0,"app-splash-screen",3),n&2){let t=$e();Ie("appTitle",t.title())}}function pZ(n,e){if(n&1){let t=an();B(0,"div")(1,"button",7),xe("click",function(){pt(t);let r=$e(2);return gt(r.togglePreferences())}),B(2,"mat-icon"),we(3,"settings"),U()(),B(4,"button",7),xe("click",function(){pt(t);let r=$e(2);return gt(r.logout())}),B(5,"mat-icon"),we(6,"logout"),U()()()}}function gZ(n,e){n&1&&(B(0,"button",8),we(1," Connexion "),U())}function _Z(n,e){n&1&&vt(0,"app-preferences")}function vZ(n,e){n&1&&(B(0,"nav",9)(1,"a",10)(2,"mat-icon"),we(3,"mic"),U()(),B(4,"a",11)(5,"mat-icon"),we(6,"search"),U()()())}function yZ(n,e){if(n&1&&(B(0,"div")(1,"header",4)(2,"h1"),we(3),U(),_t(4,pZ,7,0,"div",5)(5,gZ,2,0,"ng-template",null,0,Cc),U(),B(7,"main"),_t(8,_Z,1,0,"app-preferences",2),vt(9,"router-outlet"),U(),_t(10,vZ,7,0,"nav",6),vt(11,"app-cookie-consent"),U()),n&2){let t=ki(6),i=$e();q(3),Bm("",i.title()," \xA0-\xA0",i.pageTitle()),q(),Ie("ngIf",i.authService.user())("ngIfElse",t),q(4),Ie("ngIf",i.showPreferences()),q(2),Ie("ngIf",i.authService.user())}}var xv=class n{title=Re("TherAssist");showPreferences=Re(!1);showSplash=Re(!0);authService=v(yi);preferencesService=v(fs);titleService=v(kl);pageTitle=this.titleService.pageTitle;document=v(me);router=v(Pi);zone=v(Q);constructor(){Di(()=>{this.zone.run(()=>{let e=this.preferencesService.userProfile().theme;this.updateTheme(e)})})}ngOnInit(){setTimeout(()=>{this.showSplash.set(!1)},4e3)}togglePreferences(){this.showPreferences.set(!this.showPreferences())}async logout(){await this.authService.logout(),this.router.navigate(["/login"])}updateTheme(e){let t=this.document.head,i=t.querySelector("#theme-link"),r=`assets/themes/${e==="dark"?"purple-green":"deeppurple-amber"}.css`;if(i)i.href=r;else{let s=this.document.createElement("link");s.id="theme-link",s.rel="stylesheet",s.href=r,t.appendChild(s)}let o=this.document.body;o.classList.remove("dark-theme","light-theme"),o.classList.add(`${e}-theme`)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[["showLogin",""],[3,"appTitle",4,"ngIf"],[4,"ngIf"],[3,"appTitle"],[1,"app-header"],[4,"ngIf","ngIfElse"],["class","main-nav",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-button","","routerLink","/login"],[1,"main-nav"],["mat-icon-button","","routerLink","/recorder","routerLinkActive","active-link"],["mat-icon-button","","routerLink","/queries","routerLinkActive","active-link"]],template:function(t,i){t&1&&_t(0,mZ,1,1,"app-splash-screen",1)(1,yZ,12,6,"div",2),t&2&&(Ie("ngIf",i.showSplash()),q(),Ie("ngIf",!i.showSplash()))},dependencies:[Vn,qr,uu,Np,hs,Al,ph,z_,U_,sj,av,Tv,Sv],styles:[".app-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px;background-color:var(--background-color-secondary);border-bottom:1px solid var(--border-color);color:var(--text-color)}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;margin:0;font-size:1.2rem}.page-title[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;margin-left:12px;color:var(--text-color);opacity:.7}.main-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;background-color:var(--background-color-secondary);border-top:1px solid var(--border-color);padding:8px 0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-color)}.main-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--mat-primary-500, #673ab7)}main[_ngcontent-%COMP%]{padding-bottom:70px}"]})};OE(xv,k2).catch(n=>console.error(n));
